window.chesscom=window.chesscom||{};window.chesscom.routes=window.chesscom.routes||{};Object.assign(window.chesscom.routes,{web_security_register:{tokens:[["text","/register"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},i18n_web_security_register:{tokens:[["text","/register"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},web_security_login_and_go:{tokens:[["text","/login_and_go"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_security_login_and_go:{tokens:[["text","/login_and_go"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_search:{tokens:[["text","/search"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_search:{tokens:[["text","/search"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_tinymce_callback_imageupload:{tokens:[["text","/tinymce/imageuploader/upload"]],defaults:{host:"www.chess.com"},requirements:{host:"(www|admin)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?:www|admin)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_callback_username_search:{tokens:[["variable","/","[^/]++","username",!0],["text","/callback/user/search"]],defaults:{username:null,host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_callback_id_to_user_data:{tokens:[["text","/callback/user/id-to-data"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_security_onboarding:{tokens:[["text","/onboarding"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_alert_callback_ignore_offline_challenge:{tokens:[["variable","/","\\d+","id",!0],["text","/callback/alert/ignore/offline-challenge"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_alert_callback_ignore_comment:{tokens:[["variable","/","\\w+","contentType",!0],["variable","/",".+","contentId",!0],["text","/callback/alert/ignore/comment"]],defaults:{host:"www.chess.com"},requirements:{contentId:".+",contentType:"\\w+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_alert_callback_ignore_achievement:{tokens:[["text","/callback/alert/ignore/achievement"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_club_callback_manage_user_group_request:{tokens:[["variable","/",".+","username",!0],["variable","/","\\d+","id",!0],["text","/callback/club/group-request/manage"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",username:".+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_alert_callback_ignore:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/alert/ignore"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_about:{tokens:[["text","/about"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_membership:{tokens:[["text","/membership"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_membership:{tokens:[["text","/membership"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_member_titled_players:{tokens:[["text","/members/titled-players"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_member_titled_players:{tokens:[["text","/members/titled-players"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_member_view:{tokens:[["variable","/","[^/]++","username",!0],["text","/member"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET","POST"],schemes:["https"]},i18n_web_member_view:{tokens:[["variable","/","[^/]++","username",!0],["text","/member"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET","POST"],schemes:["https"]},web_bff_oauth_token:{tokens:[["text","/bff-token"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_2fa_login:{tokens:[["text","/2fa"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_2fa_login:{tokens:[["text","/2fa"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_article_callback_list_authors:{tokens:[["text","/callback/articles/authors"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_article_callback_lock_coments:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/articles/lock-comments"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_blog_callback_lock_coments:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/blog/lock-comments"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_news_callback_lock_coments:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/news/lock-comments"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_video_callback_lock_coments:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/video/lock-comments"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_content_callback_feature_article:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/content/feature/article"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_content_callback_feature_blog:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/content/feature/blog"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_content_callback_feature_lesson_course:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/content/feature/lesson_course"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_content_callback_feature_news:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/content/feature/news"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_content_callback_feature_chess_video:{tokens:[["variable","/","[^/]++","id",!0],["text","/callback/content/feature/chess_video"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_callback_set_content_language:{tokens:[["text","/callback/user/content-language/set"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_article_view:{tokens:[["variable","/","[^/]++","url",!0],["text","/article/view"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_article_view:{tokens:[["variable","/","[^/]++","url",!0],["text","/article/view"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_survey_callback_vote:{tokens:[["variable","/","\\d+","optionId",!0],["text","/vote"],["variable","/","\\d+","id",!0],["text","/callback/survey"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",optionId:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_team_match_view:{tokens:[["variable","/","\\d+","match",!0],["text","/club/matches"]],defaults:{host:"www.chess.com"},requirements:{match:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_team_match_view:{tokens:[["variable","/","\\d+","match",!0],["text","/club/matches"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{match:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_tournament_view:{tokens:[["variable","/","[^/]++","url",!0],["text","/tournament"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_tournament_view:{tokens:[["variable","/","[^/]++","url",!0],["text","/tournament"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_callback_report_user:{tokens:[["text","/callback/report-user"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_callback_report_content:{tokens:[["variable","/","[^/]++","uuid",!0],["text","/callback/report-forum-topic"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_tv_callback_report:{tokens:[["variable","/","[^/]++","video",!0],["variable","/","[^/]++","reason",!0],["text","/chess-tv/callback/report"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_callback_popup:{tokens:[["variable","/","[^/]++","username",!0],["text","/callback/user/popup"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_callback_lifetime_score:{tokens:[["variable","/","[^/]++","opponent",!0],["variable","/","[^/]++","user",!0],["text","/callback/user/lifetime-score"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_league_division:{tokens:[["variable","/","[\\w]{6,}","division",!0],["variable","/","\\w+","league",!0],["text","/leagues"]],defaults:{host:"www.chess.com"},requirements:{league:"\\w+",division:"[\\w]{6,}",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_league_division:{tokens:[["variable","/","[\\w]{6,}","division",!0],["variable","/","\\w+","league",!0],["text","/leagues"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{league:"\\w+",division:"[\\w]{6,}",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_stats:{tokens:[["variable","/","[^/]++","username",!0],["text","/stats"]],defaults:{username:null,host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_stats:{tokens:[["variable","/","[^/]++","username",!0],["text","/stats"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{username:null,host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_blog_view:{tokens:[["variable","/",".+","url",!0],["text","/blog"]],defaults:{host:"www.chess.com"},requirements:{url:".+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_blog_view:{tokens:[["variable","/",".+","url",!0],["text","/blog"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{url:".+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_game_daily:{tokens:[["variable","/","[^/]++","id",!0],["text","/game/daily"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_game_daily:{tokens:[["variable","/","[^/]++","id",!0],["text","/game/daily"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_search_redirect:{tokens:[["text","/search/redirect"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_search_redirect:{tokens:[["text","/search/redirect"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_home:{tokens:[["text","/home"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_live:{tokens:[["text","/live"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_live:{tokens:[["text","/live"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_security_logout:{tokens:[["text","/logout"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_message_index:{tokens:[["text","/messages"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},web_member_play:{tokens:[["variable","/","[^/]++","opponent",!0],["text","/play"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_member_play:{tokens:[["variable","/","[^/]++","opponent",!0],["text","/play"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_settings_board:{tokens:[["text","/settings/board"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_settings_edit:{tokens:[["text","/settings"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_play:{tokens:[["text","/play/online"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_play:{tokens:[["text","/play/online"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_tv:{tokens:[["text","/tv"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_tv:{tokens:[["text","/tv"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},pubapi_player_clubs:{tokens:[["text","/clubs"],["variable","/","[^/]++","username"],["text","/pub/player"]],defaults:[],requirements:[],hosttokens:[["text","api.chess.com"]],methods:[],schemes:["https"]},web_friends:{tokens:[["text","/friends"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_message_callback_list:{tokens:[["variable","/","\\d+","page",!0],["variable","/","inbox|archived|unread","type",!0],["text","/callback/messages/list"]],defaults:{page:1,host:"www.chess.com"},requirements:{type:"inbox|archived|unread",page:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_message_callback_archive:{tokens:[["variable","/","[^/]++","username",!0],["text","/callback/messages/archive"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_message_callback_mark_all_as_read:{tokens:[["text","/callback/messages/mark-all-as-read"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_game_live:{tokens:[["variable","/","[^/]++","id",!0],["text","/game/live"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_game_live:{tokens:[["variable","/","[^/]++","id",!0],["text","/game/live"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_game_uuid:{tokens:[["variable","/","[^/]++","id",!0],["text","/game"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_game_uuid:{tokens:[["variable","/","[^/]++","id",!0],["text","/game"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid",!0],["text","/puzzles/battle"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid",!0],["text","/puzzles/battle"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_message_compose:{tokens:[["text","/messages/compose"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},web_message_thread:{tokens:[["variable","/","[^/]++","username",!0],["text","/messages"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},web_alert_callback_ignore_all:{tokens:[["text","/callback/alert/ignore/all"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_settings_notifications:{tokens:[["text","/settings/notifications"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_callback_update_navbar_configuration:{tokens:[["text","/callback/user/update-navbar-config"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_user_callback_daily_games:{tokens:[["text","/callback/user/daily/games"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_game_seek_callback_accept_seek:{tokens:[["text","/accept-seek"],["variable","/","\\d+","id",!0],["text","/callback/game_seek"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_game_seek_callback_decline_challenge:{tokens:[["text","/decline-challenge"],["variable","/","\\d+","id",!0],["text","/callback/game_seek"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_game_seek_callback_delete_challenge:{tokens:[["text","/delete-challenge"],["variable","/","\\d+","id",!0],["text","/callback/game_seek"]],defaults:{host:"www.chess.com"},requirements:{id:"\\d+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["POST"],schemes:["https"]},web_daily_seek:{tokens:[["variable","/","[^/]++","id",!0],["text","/daily-chess/seek"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_play_new:{tokens:[["text","/play/online/new"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_play_new:{tokens:[["text","/play/online/new"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_play_daily:{tokens:[["text","/play/online/daily"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_play_daily:{tokens:[["text","/play/online/daily"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_search_callback_autofill:{tokens:[["variable","/","[^/]++","keyword",!0],["text","/search/callback/autofill"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_search_callback_autofill:{tokens:[["variable","/","[^/]++","keyword",!0],["text","/search/callback/autofill"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_topic:{tokens:[["variable","/",".+","slug",!0],["text","/topic"]],defaults:{host:"www.chess.com"},requirements:{slug:".+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_topic:{tokens:[["variable","/",".+","slug",!0],["text","/topic"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{slug:".+",host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_support_intercom_get_recent_conversation_id:{tokens:[["text","/callback/intercom/recent-conversation-id"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:["GET"],schemes:["https"]},web_user_callback_update_navigation_state:{tokens:[["variable","/","[^/]++","state",!0],["text","/callback/user/update-navigation-state"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_user_settings_interface:{tokens:[["text","/settings/interface"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_event_index_view:{tokens:[["variable","/","[^/]++","indexSlug",!0],["text","/events/info"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_event_index_view:{tokens:[["variable","/","[^/]++","indexSlug",!0],["text","/events/info"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_event_view:{tokens:[["variable","/","[^/]++","slug",!0],["text","/events"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_event_view:{tokens:[["variable","/","[^/]++","slug",!0],["text","/events"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_languages_callback:{tokens:[["text","/callback/languages"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_languages_callback:{tokens:[["text","/callback/languages"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_article_index:{tokens:[["text","/articles"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_article_index:{tokens:[["text","/articles"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_forum_index:{tokens:[["text","/forum"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_forum_index:{tokens:[["text","/forum"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_page_learn:{tokens:[["text","/learn"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_page_learn:{tokens:[["text","/learn"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_openings_index:{tokens:[["text","/openings"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_openings_index:{tokens:[["text","/openings"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},web_language_set:{tokens:[["variable","/","[^/]++","locale",!0],["text","/callback/language"]],defaults:{host:"www.chess.com"},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]},i18n_web_index:{tokens:[["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale",!0]],defaults:{host:"www.chess.com",_locale:""},requirements:{host:"(?!admin)(www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(\\.)?[^\\s]+",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["variable","","(?!admin)(?:www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy)?(?:\\.)?[^\\s]+","host",!0]],methods:[],schemes:["https"]}});!function(){var e={72505:function(e,t,n){e.exports=n(18015)},35592:function(e,t,n){"use strict";var r=n(9516),a=n(7522),o=n(33948),i=n(79106),s=n(99615),l=n(62012),c=n(64202),d=n(94896),u=n(5845),h=n(28563),p=n(25656),m=n(95721);e.exports=function xhrAdapter(e){return new Promise(function dispatchXhrRequest(t,n){var f,g=e.data,b=e.headers,_=e.responseType,E=e.withXSRFToken;function done(){e.cancelToken&&e.cancelToken.unsubscribe(f);e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete b["Content-Type"];var w=new XMLHttpRequest;e.auth&&(b.Authorization="Basic "+btoa((e.auth.username||"")+":"+(e.auth.password?unescape(encodeURIComponent(e.auth.password)):"")));var v=s(e.baseURL,e.url,e.allowAbsoluteUrls);w.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0);w.timeout=e.timeout;function onloadend(){if(w){var r="getAllResponseHeaders"in w?l(w.getAllResponseHeaders()):null;a(function _resolve(e){t(e);done()},function _reject(e){n(e);done()},{data:_&&"text"!==_&&"json"!==_?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:r,config:e,request:w});w=null}}"onloadend"in w?w.onloadend=onloadend:w.onreadystatechange=function handleLoad(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(onloadend)};w.onabort=function handleAbort(){if(w){n(new u("Request aborted",u.ECONNABORTED,e,w));w=null}};w.onerror=function handleError(){n(new u("Network Error",u.ERR_NETWORK,e,w));w=null};w.ontimeout=function handleTimeout(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage);n(new u(t,r.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,e,w));w=null};if(r.isStandardBrowserEnv()){E&&r.isFunction(E)&&(E=E(e));if(E||!1!==E&&c(v)){var k=e.xsrfHeaderName&&e.xsrfCookieName&&o.read(e.xsrfCookieName);k&&(b[e.xsrfHeaderName]=k)}}"setRequestHeader"in w&&r.forEach(b,function setRequestHeader(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete b[t]:w.setRequestHeader(t,e)});r.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials);_&&"json"!==_&&(w.responseType=e.responseType);"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress);"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress);if(e.cancelToken||e.signal){f=function(t){if(w){n(!t||t.type?new h(null,e,w):t);w.abort();w=null}};e.cancelToken&&e.cancelToken.subscribe(f);e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))}g||!1===g||0===g||""===g||(g=null);var S=p(v);if(S&&-1===m.protocols.indexOf(S))return void n(new u("Unsupported protocol "+S+":",u.ERR_BAD_REQUEST,e));w.send(g)})}},18015:function(e,t,n){"use strict";var r=n(9516),a=n(69012),o=n(35155),i=n(85343),s=n(37412),l=n(94298);function createInstance(e){var t=new o(e),n=a(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n.create=function create(t){return createInstance(i(e,t))},n}var c=createInstance(s);c.Axios=o;c.CanceledError=n(28563);c.CancelToken=n(3191);c.isCancel=n(93864);c.VERSION=n(49641).version;c.toFormData=n(26440);c.AxiosError=n(5845);c.Cancel=c.CanceledError;c.all=function all(e){return Promise.all(e)};c.spread=n(17980);c.isAxiosError=n(45019);c.formToJSON=function(e){return l(r.isHTMLForm(e)?new FormData(e):e)};e.exports=c;e.exports.default=c},3191:function(e,t,n){"use strict";var r=n(28563);function CancelToken(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function promiseExecutor(e){t=e});var t,n=this;this.promise.then(function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}});this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e);t=e}).then(e);return r.cancel=function reject(){n.unsubscribe(t)},r};e(function cancel(e,a,o){if(!n.reason){n.reason=new r(e,a,o);t(n.reason)}})}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]};CancelToken.prototype.unsubscribe=function unsubscribe(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}};CancelToken.source=function source(){var e;return{token:new CancelToken(function executor(t){e=t}),cancel:e}};e.exports=CancelToken},28563:function(e,t,n){"use strict";var r=n(5845);function CanceledError(e,t,n){r.call(this,null==e?"canceled":e,r.ERR_CANCELED,t,n);this.name="CanceledError"}n(9516).inherits(CanceledError,r,{__CANCEL__:!0});e.exports=CanceledError},93864:function(e){"use strict";e.exports=function isCancel(e){return!!(e&&e.__CANCEL__)}},35155:function(e,t,n){"use strict";var r=n(9516),a=n(79106),o=n(83471),i=n(64490),s=n(85343),l=n(99615),c=n(34841),d=c.validators;function Axios(e){this.defaults=e;this.interceptors={request:new o,response:new o}}Axios.prototype.request=function request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n,a=t.transitional;void 0!==a&&c.assertOptions(a,{silentJSONParsing:d.transitional(d.boolean),forcedJSONParsing:d.transitional(d.boolean),clarifyTimeoutError:d.transitional(d.boolean)},!1);var o=t.paramsSerializer;null!=o&&(r.isFunction(o)?t.paramsSerializer={serialize:o}:c.assertOptions(o,{encode:d.function,serialize:d.function},!0));var l=[],u=!0;this.interceptors.request.forEach(function unshiftRequestInterceptors(e){if("function"!=typeof e.runWhen||!1!==e.runWhen(t)){u=u&&e.synchronous;l.unshift(e.fulfilled,e.rejected)}});var h=[];this.interceptors.response.forEach(function pushResponseInterceptors(e){h.push(e.fulfilled,e.rejected)});if(!u){var p=[i,void 0];Array.prototype.unshift.apply(p,l);p=p.concat(h);n=Promise.resolve(t);for(;p.length;)n=n.then(p.shift(),p.shift());return n}for(var m=t;l.length;){var f=l.shift(),g=l.shift();try{m=f(m)}catch(e){g(e);break}}try{n=i(m)}catch(e){return Promise.reject(e)}for(;h.length;)n=n.then(h.shift(),h.shift());return n};Axios.prototype.getUri=function getUri(e){return a(l((e=s(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)};r.forEach(["delete","get","head","options"],function forEachMethodNoData(e){Axios.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}});r.forEach(["post","put","patch"],function forEachMethodWithData(e){function generateHTTPMethod(t){return function httpMethod(n,r,a){return this.request(s(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Axios.prototype[e]=generateHTTPMethod();Axios.prototype[e+"Form"]=generateHTTPMethod(!0)});e.exports=Axios},5845:function(e,t,n){"use strict";var r=n(9516);function AxiosError(e,t,n,r,a){Error.call(this);Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack;this.message=e;this.name="AxiosError";t&&(this.code=t);n&&(this.config=n);r&&(this.request=r);a&&(this.response=a)}r.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=AxiosError.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){o[e]={value:e}});Object.defineProperties(AxiosError,o);Object.defineProperty(a,"isAxiosError",{value:!0});AxiosError.from=function(e,t,n,o,i,s){var l=Object.create(a);return r.toFlatObject(e,l,function filter(e){return e!==Error.prototype}),AxiosError.call(l,e.message,t,n,o,i),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};e.exports=AxiosError},83471:function(e,t,n){"use strict";var r=n(9516);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1};InterceptorManager.prototype.eject=function eject(e){this.handlers[e]&&(this.handlers[e]=null)};InterceptorManager.prototype.clear=function clear(){this.handlers&&(this.handlers=[])};InterceptorManager.prototype.forEach=function forEach(e){r.forEach(this.handlers,function forEachHandler(t){null!==t&&e(t)})};e.exports=InterceptorManager},99615:function(e,t,n){"use strict";var r=n(29137),a=n(84680);e.exports=function buildFullPath(e,t,n){var o=!r(t);return e&&(o||!1===n)?a(e,t):t}},64490:function(e,t,n){"use strict";var r=n(9516),a=n(82881),o=n(93864),i=n(37412),s=n(28563),l=n(7018);function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested();if(e.signal&&e.signal.aborted)throw new s}e.exports=function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,null,e.transformRequest),l(e.headers,"Accept"),l(e.headers,"Content-Type"),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function onAdapterResolution(t){return throwIfCancellationRequested(e),t.data=a.call(e,t.data,t.headers,t.status,e.transformResponse),t},function onAdapterRejection(t){if(!o(t)){throwIfCancellationRequested(e);t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,t.response.status,e.transformResponse))}return Promise.reject(t)})}},85343:function(e,t,n){"use strict";var r=n(9516);e.exports=function mergeConfig(e,t){t=t||{};var n={};function getMergedValue(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isEmptyObject(t)?r.merge({},e):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function mergeDeepProperties(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:getMergedValue(void 0,e[n]):getMergedValue(e[n],t[n])}function valueFromConfig2(e){if(!r.isUndefined(t[e]))return getMergedValue(void 0,t[e])}function defaultToConfig2(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:getMergedValue(void 0,e[n]):getMergedValue(void 0,t[n])}function mergeDirectKeys(n){return n in t?getMergedValue(e[n],t[n]):n in e?getMergedValue(void 0,e[n]):void 0}var a={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys};return r.forEach(Object.keys(e).concat(Object.keys(t)),function computeConfigValue(e){var t=a[e]||mergeDeepProperties,o=t(e);r.isUndefined(o)&&t!==mergeDirectKeys||(n[e]=o)}),n}},7522:function(e,t,n){"use strict";var r=n(5845);e.exports=function settle(e,t,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}},82881:function(e,t,n){"use strict";var r=n(9516),a=n(37412);e.exports=function transformData(e,t,n,o){var i=this||a;return r.forEach(o,function transform(r){e=r.call(i,e,t,n)}),e}},37412:function(e,t,n){"use strict";var r=n(65606),a=n(9516),o=n(7018),i=n(5845),s=n(94896),l=n(26440),c=n(86069),d=n(95721),u=n(94298),h={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function stringifySafely(e,t,n){if(a.isString(e))try{(t||JSON.parse)(e);return a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var p={transitional:s,adapter:function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(35592):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(e=n(35592)),e}(),transformRequest:[function transformRequest(e,t){o(t,"Accept");o(t,"Content-Type");var n,r=t&&t["Content-Type"]||"",i=r.indexOf("application/json")>-1,s=a.isObject(e);s&&a.isHTMLForm(e)&&(e=new FormData(e));var d=a.isFormData(e);if(d)return i?JSON.stringify(u(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(s){if(-1!==r.indexOf("application/x-www-form-urlencoded"))return c(e,this.formSerializer).toString();if((n=a.isFileList(e))||r.indexOf("multipart/form-data")>-1){var h=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||i?(setContentTypeIfUnset(t,"application/json"),stringifySafely(e)):e}],transformResponse:[function transformResponse(e){var t=this.transitional||p.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&a.isString(e)&&(n&&!this.responseType||r)){var o=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!o&&r){if("SyntaxError"===e.name)throw i.from(e,i.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:d.classes.FormData,Blob:d.classes.Blob},validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],function forEachMethodNoData(e){p.headers[e]={}});a.forEach(["post","put","patch"],function forEachMethodWithData(e){p.headers[e]=a.merge(h)});e.exports=p},94896:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},30786:function(e,t,n){e.exports=n(51894)},49641:function(e){e.exports={version:"0.30.0"}},50170:function(e,t,n){"use strict";var r=n(26440);function encode(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function replacer(e){return t[e]})}function AxiosURLSearchParams(e,t){this._pairs=[];e&&r(e,this,t)}var a=AxiosURLSearchParams.prototype;a.append=function append(e,t){this._pairs.push([e,t])};a.toString=function toString(e){var t=e?function(t){return e.call(this,t,encode)}:encode;return this._pairs.map(function each(e){return t(e[0])+"="+t(e[1])},"").join("&")};e.exports=AxiosURLSearchParams},69012:function(e){"use strict";e.exports=function bind(e,t){return function wrap(){return e.apply(t,arguments)}}},79106:function(e,t,n){"use strict";var r=n(9516),a=n(50170);function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,n){if(!t)return e;var o,i=e.indexOf("#");-1!==i&&(e=e.slice(0,i));var s=n&&n.encode||encode,l=n&&n.serialize;return(o=l?l(t,n):r.isURLSearchParams(t)?t.toString():new a(t,n).toString(s))&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},84680:function(e){"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}},33948:function(e,t,n){"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,n,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t));r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString());r.isString(a)&&s.push("path="+a);r.isString(o)&&s.push("domain="+o);!0===i&&s.push("secure");document.cookie=s.join("; ")},read:function read(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():function nonStandardBrowserEnv(){return{write:function write(){},read:function read(){return null},remove:function remove(){}}}()},94298:function(e,t,n){"use strict";var r=n(9516);function parsePropPath(e){return r.matchAll(/\w+|\[(\w*)]/g,e).map(function(e){return"[]"===e[0]?"":e[1]||e[0]})}function arrayToObject(e){var t,n,r={},a=Object.keys(e),o=a.length;for(t=0;t<o;t++)r[n=a[t]]=e[n];return r}e.exports=function formDataToJSON(e){function buildPath(e,t,n,a){var o=e[a++];if("__proto__"===o)return!0;var i=Number.isFinite(+o),s=a>=e.length;return(o=!o&&r.isArray(n)?n.length:o,s)?(r.hasOwnProperty(n,o)?n[o]=[n[o],t]:n[o]=t,!i):(n[o]&&r.isObject(n[o])||(n[o]=[]),buildPath(e,t,n[o],a)&&r.isArray(n[o])&&(n[o]=arrayToObject(n[o])),!i)}if(r.isFormData(e)&&r.isFunction(e.entries)){var t={};return r.forEachEntry(e,function(e,n){buildPath(parsePropPath(e),n,t,0)}),t}return null}},29137:function(e){"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},45019:function(e,t,n){"use strict";var r=n(9516);e.exports=function isAxiosError(e){return r.isObject(e)&&!0===e.isAxiosError}},64202:function(e,t,n){"use strict";var r=n(9516);e.exports=r.isStandardBrowserEnv()?function standardBrowserEnv(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(e){var r=e;if(t){n.setAttribute("href",r);r=n.href}return n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=resolveURL(window.location.href),function isURLSameOrigin(t){var n=r.isString(t)?resolveURL(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function nonStandardBrowserEnv(){return function isURLSameOrigin(){return!0}}()},7018:function(e,t,n){"use strict";var r=n(9516);e.exports=function normalizeHeaderName(e,t){r.forEach(e,function processHeader(n,r){if(r!==t&&r.toUpperCase()===t.toUpperCase()){e[t]=n;delete e[r]}})}},62012:function(e,t,n){"use strict";var r=n(9516),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t,n,o,i={};return e&&r.forEach(e.split("\n"),function parser(e){o=e.indexOf(":");t=r.trim(e.slice(0,o)).toLowerCase();n=r.trim(e.slice(o+1));if(t){if(i[t]&&a.indexOf(t)>=0)return;"set-cookie"===t?i[t]=(i[t]?i[t]:[]).concat([n]):i[t]=i[t]?i[t]+", "+n:n}}),i}},25656:function(e){"use strict";e.exports=function parseProtocol(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},17980:function(e){"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},26440:function(e,t,n){"use strict";var r=n(9516),a=n(5845),o=n(30786);function isVisitable(e){return r.isPlainObject(e)||r.isArray(e)}function removeBrackets(e){return r.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function each(e,t){return e=removeBrackets(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}function isFlatArray(e){return r.isArray(e)&&!e.some(isVisitable)}var i=r.toFlatObject(r,{},null,function filter(e){return/^is[A-Z]/.test(e)});function isSpecCompliant(e){return e&&r.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}e.exports=function toFormData(e,t,n){if(!r.isObject(e))throw TypeError("target must be an object");t=t||new(o||FormData);var s=(n=r.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function defined(e,t){return!r.isUndefined(t[e])})).metaTokens,l=n.visitor||defaultVisitor,c=n.dots,d=n.indexes,u=(n.Blob||"undefined"!=typeof Blob&&Blob)&&isSpecCompliant(t);if(!r.isFunction(l))throw TypeError("visitor must be a function");function convertValue(e){if(null===e)return"";if(r.isDate(e))return e.toISOString();if(!u&&r.isBlob(e))throw new a("Blob is not supported. Use a Buffer instead.");return r.isArrayBuffer(e)||r.isTypedArray(e)?u&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function defaultVisitor(e,n,a){var o=e;if(e&&!a&&"object"==typeof e){if(r.endsWith(n,"{}")){n=s?n:n.slice(0,-2);e=JSON.stringify(e)}else if(r.isArray(e)&&isFlatArray(e)||r.isFileList(e)||r.endsWith(n,"[]")&&(o=r.toArray(e)))return n=removeBrackets(n),o.forEach(function each(e,a){r.isUndefined(e)||null===e||t.append(!0===d?renderKey([n],a,c):null===d?n:n+"[]",convertValue(e))}),!1}return!!isVisitable(e)||(t.append(renderKey(a,n,c),convertValue(e)),!1)}var h=[],p=Object.assign(i,{defaultVisitor:defaultVisitor,convertValue:convertValue,isVisitable:isVisitable});function build(e,n){if(!r.isUndefined(e)){if(-1!==h.indexOf(e))throw Error("Circular reference detected in "+n.join("."));h.push(e);r.forEach(e,function each(e,a){!0===(!(r.isUndefined(e)||null===e)&&l.call(t,e,r.isString(a)?a.trim():a,n,p))&&build(e,n?n.concat(a):[a])});h.pop()}}if(!r.isObject(e))throw TypeError("data must be an object");return build(e),t}},86069:function(e,t,n){"use strict";var r=n(9516),a=n(26440),o=n(95721);e.exports=function toURLEncodedForm(e,t){return a(e,new o.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return o.isNode&&r.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}},34841:function(e,t,n){"use strict";var r=n(49641).version,a=n(5845),o={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){o[e]=function validator(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var i={};o.transitional=function transitional(e,t,n){function formatMessage(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new a(formatMessage(r," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);if(t&&!i[r]){i[r]=!0;console.warn(formatMessage(r," has been deprecated since v"+t+" and will be removed in the near future"))}return!e||e(n,r,o)}};e.exports={assertOptions:function assertOptions(e,t,n){if("object"!=typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var l=e[i],c=void 0===l||s(l,i,e);if(!0!==c)throw new a("option "+i+" must be "+c,a.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new a("Unknown option "+i,a.ERR_BAD_OPTION)}},validators:o}},40243:function(e){"use strict";e.exports=FormData},32002:function(e,t,n){"use strict";var r=n(50170);e.exports="undefined"!=typeof URLSearchParams?URLSearchParams:r},29490:function(e,t,n){"use strict";e.exports={isBrowser:!0,classes:{URLSearchParams:n(32002),FormData:n(40243),Blob:Blob},protocols:["http","https","file","blob","url","data"]}},95721:function(e,t,n){"use strict";e.exports=n(29490)},9516:function(e,t,n){"use strict";var r=n(69012),a=Object.prototype.toString,o=function(e){return function(t){var n=a.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(e){return e=e.toLowerCase(),function isKindOf(t){return o(t)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var i=kindOfTest("ArrayBuffer");function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&i(e.buffer)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function isEmptyObject(e){return e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}var s=kindOfTest("Date"),l=kindOfTest("File"),c=kindOfTest("Blob"),d=kindOfTest("FileList");function isFunction(e){return"[object Function]"===a.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isFormData(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||isFunction(e.toString)&&e.toString()===t)}var u=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function isStandardBrowserEnv(){var e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document}function forEach(e,t){if(null!=e){"object"!=typeof e&&(e=[e]);if(isArray(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}}function merge(){var e={};function assignValue(t,n){isPlainObject(e[n])&&isPlainObject(t)?e[n]=merge(e[n],t):isPlainObject(t)?e[n]=merge({},t):isArray(t)?e[n]=t.slice():e[n]=t}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],assignValue);return e}function extend(e,t,n){return forEach(t,function assignValue(t,a){n&&"function"==typeof t?e[a]=r(t,n):e[a]=t}),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function inherits(e,t,n,r){e.prototype=Object.create(t.prototype,r);e.prototype.constructor=e;n&&Object.assign(e.prototype,n)}function toFlatObject(e,t,n,r){var a,o,i,s={};t=t||{};if(null==e)return t;do{o=(a=Object.getOwnPropertyNames(e)).length;for(;o-- >0;){i=a[o];if((!r||r(i,e,t))&&!s[i]){t[i]=e[i];s[i]=!0}}e=!1!==n&&Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,n){e=String(e);(void 0===n||n>e.length)&&(n=e.length);n-=t.length;var r=e.indexOf(t,n);return -1!==r&&r===n}function toArray(e){if(!e)return null;if(isArray(e))return e;var t=e.length;if(!isNumber(t))return null;for(var n=Array(t);t-- >0;)n[t]=e[t];return n}var h=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));function forEachEntry(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var a=n.value;t.call(e,a[0],a[1])}}function matchAll(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r}var p=kindOfTest("HTMLFormElement");e.exports={isArray:isArray,isArrayBuffer:i,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isEmptyObject:isEmptyObject,isUndefined:isUndefined,isDate:s,isFile:l,isBlob:c,isFunction:isFunction,isStream:isStream,isURLSearchParams:u,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:o,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,isTypedArray:h,isFileList:d,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:p,hasOwnProperty:function resolver(e){return function(t,n){return e.call(t,n)}}(Object.prototype.hasOwnProperty)}},79230:function(e,t,n){"use strict";n.d(t,{A:function(){return addCsrfToken}});var r=n(28226);let a=["delete","patch","post","put"];function addCsrfToken(e){return!e||e?.headers?.["connect-protocol-version"]||(0,r.tO)(e.url)||!a.includes(e.method)||e.data instanceof Uint8Array||e.data instanceof ArrayBuffer||"string"==typeof e.data||(e.data instanceof FormData||e.data instanceof URLSearchParams?e.data.append("_token",window.context.csrf.token):e.data=Object.assign({_token:window.context.csrf.token},e.data||{})),e}},92409:function(e,t,n){"use strict";n.d(t,{A:function(){return addRequestId}});var r=n(30398);let random=()=>Math.random().toString(36).substring(2,15);function addRequestId(e){return(()=>{let e=document.getElementById(r.z.NAV_ROOT);return!!e&&!!e.dataset.featureClientRequestId})()&&(e.headers.common["X-Chesscom-Request-Id"]=(e=>{let t=random();for(;t.length<e;)t+=random();return t.substring(0,e)})(32)),e}},26762:function(e,t,n){"use strict";n.d(t,{A:function(){return castBoolsToInts}});var r=n(28226);let boolToInt=(e,t=new WeakSet)=>("object"!=typeof e||null===e||t.has(e)||(t.add(e),Object.keys(e).forEach(n=>{let r=e[n];"boolean"==typeof r?e[n]=Number(r):"object"==typeof r&&null!==r&&(e[n]=boolToInt(r,t))})),e);function castBoolsToInts(e){return!e||(0,r.tO)(e.url)||"object"==typeof e.data&&(e.data=boolToInt(e.data)),e}},1248:function(e,t,n){"use strict";var r=n(79230),a=n(92409),o=n(26762);t.A=[r.A,a.A,o.A]},37634:function(e,t){var n,r,a;!function(o,i){r=[],void 0===(a="function"==typeof(n=i().Routing)?n.apply(t,r):n)||(e.exports=a)}(0,function(){var e={};"use strict";e.__esModule=!0;e.Routing=e.Router=void 0;var t=function(){function Router2(e,t){this.context_=e||{base_url:"",prefix:"",host:"",port:"",scheme:"",locale:""};this.setRoutes(t||{})}return Router2.getInstance=function(){return e.Routing},Router2.setData=function(e){Router2.getInstance().setRoutingData(e)},Router2.prototype.setRoutingData=function(e){this.setBaseUrl(e.base_url);this.setRoutes(e.routes);void 0!==e.prefix&&this.setPrefix(e.prefix);void 0!==e.port&&this.setPort(e.port);void 0!==e.locale&&this.setLocale(e.locale);this.setHost(e.host);void 0!==e.scheme&&this.setScheme(e.scheme)},Router2.prototype.setRoutes=function(e){this.routes_=Object.freeze(e)},Router2.prototype.getRoutes=function(){return this.routes_},Router2.prototype.setBaseUrl=function(e){this.context_.base_url=e},Router2.prototype.getBaseUrl=function(){return this.context_.base_url},Router2.prototype.setPrefix=function(e){this.context_.prefix=e},Router2.prototype.setScheme=function(e){this.context_.scheme=e},Router2.prototype.getScheme=function(){return this.context_.scheme},Router2.prototype.setHost=function(e){this.context_.host=e},Router2.prototype.getHost=function(){return this.context_.host},Router2.prototype.setPort=function(e){this.context_.port=e},Router2.prototype.getPort=function(){return this.context_.port},Router2.prototype.setLocale=function(e){this.context_.locale=e},Router2.prototype.getLocale=function(){return this.context_.locale},Router2.prototype.buildQueryParams=function(e,t,n){var r,a=this,o=new RegExp(/\[\]$/);if(t instanceof Array)t.forEach(function(t,r){o.test(e)?n(e,t):a.buildQueryParams(e+"["+("object"==typeof t?r:"")+"]",t,n)});else if("object"==typeof t)for(r in t)this.buildQueryParams(e+"["+r+"]",t[r],n);else n(e,t)},Router2.prototype.getRoute=function(e){var t=[this.context_.prefix+e,e+"."+this.context_.locale,this.context_.prefix+e+"."+this.context_.locale,e];for(var n in t)if(t[n]in this.routes_)return this.routes_[t[n]];throw Error('The route "'+e+'" does not exist.')},Router2.prototype.generate=function(e,t,n){var r=this.getRoute(e),a=t||{},o=Object.assign({},a),i="",s=!0,l="",c=void 0===this.getPort()||null===this.getPort()?"":this.getPort();r.tokens.forEach(function(t){if("text"===t[0]&&"string"==typeof t[1]){i=Router2.encodePathComponent(t[1])+i;s=!1;return}if("variable"===t[0]){6===t.length&&!0===t[5]&&(s=!1);var n=r.defaults&&!Array.isArray(r.defaults)&&"string"==typeof t[3]&&t[3]in r.defaults;if(!1===s||!n||"string"==typeof t[3]&&t[3]in a&&!Array.isArray(r.defaults)&&a[t[3]]!=r.defaults[t[3]]){var l=void 0;if("string"==typeof t[3]&&t[3]in a){l=a[t[3]];delete o[t[3]]}else if("string"==typeof t[3]&&n&&!Array.isArray(r.defaults))l=r.defaults[t[3]];else if(s)return;else throw Error('The route "'+e+'" requires the parameter "'+t[3]+'".');var c=!0===l||!1===l||""===l;if(!c||!s){var d=Router2.encodePathComponent(l);"null"===d&&null===l&&(d="");i=t[1]+d+i}s=!1}else n&&"string"==typeof t[3]&&t[3]in o&&delete o[t[3]];return}throw Error('The token type "'+t[0]+'" is not supported.')});""===i&&(i="/");r.hosttokens.forEach(function(e){var t;if("text"===e[0]){l=e[1]+l;return}if("variable"===e[0]){if(e[3]in a){t=a[e[3]];delete o[e[3]]}else r.defaults&&!Array.isArray(r.defaults)&&e[3]in r.defaults&&(t=r.defaults[e[3]]);l=e[1]+t+l}});i=this.context_.base_url+i;if(r.requirements&&"_scheme"in r.requirements&&this.getScheme()!=r.requirements._scheme){var d=l||this.getHost();i=r.requirements._scheme+"://"+d+(d.indexOf(":"+c)>-1||""===c?"":":"+c)+i}else if(void 0!==r.schemes&&void 0!==r.schemes[0]&&this.getScheme()!==r.schemes[0]){var d=l||this.getHost();i=r.schemes[0]+"://"+d+(d.indexOf(":"+c)>-1||""===c?"":":"+c)+i}else l&&this.getHost()!==l+(l.indexOf(":"+c)>-1||""===c?"":":"+c)?i=this.getScheme()+"://"+l+(l.indexOf(":"+c)>-1||""===c?"":":"+c)+i:!0===n&&(i=this.getScheme()+"://"+this.getHost()+(this.getHost().indexOf(":"+c)>-1||""===c?"":":"+c)+i);if(Object.keys(o).length>0){var u=[],add=function(e,t){t=null===(t="function"==typeof t?t():t)?"":t;u.push(Router2.encodeQueryComponent(e)+"="+Router2.encodeQueryComponent(t))};for(var h in o)o.hasOwnProperty(h)&&this.buildQueryParams(h,o[h],add);i=i+"?"+u.join("&")}return i},Router2.customEncodeURIComponent=function(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/%40/g,"@").replace(/%3A/g,":").replace(/%21/g,"!").replace(/%3B/g,";").replace(/%2C/g,",").replace(/%2A/g,"*").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")},Router2.encodePathComponent=function(e){return Router2.customEncodeURIComponent(e).replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%21/g,"!").replace(/%7C/g,"|")},Router2.encodeQueryComponent=function(e){return Router2.customEncodeURIComponent(e).replace(/%3F/g,"?")},Router2}();return e.Router=t,e.Routing=new t,e.default=e.Routing,{Router:e.Router,Routing:e.Routing}})},50190:function(e,t,n){"use strict";n.d(t,{AZ:function(){return c},JZ:function(){return d},Tp:function(){return u},a9:function(){return s},c6:function(){return o},hg:function(){return l},s2:function(){return i},uK:function(){return a}});var r=n(23618);let a={eventProps:"data-event-props",userActivityProps:"data-user-activity-props",speedChessChampionshipUrl:"data-speed-chess-championship-url",challengeUser:"data-challenge-user",loginAndGoRoute:"data-route-login-and-go",registerRoute:"data-route-register",routes:"data-routes"},o={NAVBAR_CLICKED:"Navbar Clicked",ONBOARD:"Onboard - StartReg",SEARCH:"Search",SEARCH_AUTOFILL:"searchAutoFill"},i=100,s=100,l={ALERTS:"alerts",CHALLENGES:"challenges",CHAT_MESSAGES:"chatMessages",GAMES:"games",MESSAGES:"messages"},c={CLUB_CHAT_MODERATOR_ACTION:"club-chat-moderator-action",HIDE_FRIEND_REQUEST:"hide-friend-request",MODAL_DID_HIDE:"MODAL_DID_HIDE",SEND_NEW_GAME_SEEK:"SEND_NEW_GAME_SEEK",SEND_NEW_GAME_SEEK_SUCCESS:"SEND_NEW_GAME_SEEK_SUCCESS",SHOW_ONBOARD_MODAL:"SHOW_ONBOARD_MODAL",SHOW_UPGRADE_MODAL:"SHOW_UPGRADE_MODAL",START_DIRECT_CHAT:"START_DIRECT_CHAT"},d={registerRoute:e=>r.A.generate("web_security_register",{redirectUrl:e}),loginAndGoRoute:e=>r.A.generate("web_security_login_and_go",{redirectUrl:e}),searchRoute:e=>r.A.generate("web_search",{q:e})},u={AUTH_BUTTON:".auth-button",LESSONS_CONTAINER:".lessons-container",LOGOUT_FORM:".form.logout",LOGOUT_TRIGGER:"#sb .logout",MAIN_NAV:"#sb",MAIN_NAV_HOME_LINK:"#sb .link.home",MAIN_NAV_LINKS:"#sb .menu > .link",MAIN_NAV_LOGIN_LINK:"#sb .login",MAIN_NAV_PLAY_LINK:"#sb .link.play",MAIN_NAV_REGISTER_LINK:".signup.register",MAIN_NAV_SOCIAL_LINK:"#sb .link.social",MAIN_TOP_NAV:"#sb .menu.top",MAIN_TOP_NAV_LINKS:"#sb .menu.top > .link",SEARCH_INPUT:'input[name="q"]',SIGN_UP:".signup",TOOLTIP_TRIGGER:"[data-tooltip-id]",USER_ACTIVITY_NAV_SELECTION:"[data-user-activity-nav-selection]"}},30398:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});let r={LOGIN_REGISTER_MODAL:"login-register-modal",OFFLINE_CHALLENGE_TOASTER:"offline-challenge-toaster",NAV_ROOT:"sb",SHAREABLE_GAME_URL_MODAL:"shareable-game-url-modal",SHAREABLE_GAME_SHORT_UUID:"shareable-game-short-uuid"}},65969:function(e,t,n){"use strict";n.d(t,{h:function(){return fetch}});var r=n(4090);async function fetch(e){return(0,r.m)({method:"get",...e})}},8588:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});function getClientIdHeaderValue(e,t){return`${e??"Chesscom-Web-Frontend"}/${t??window.context?.version}; (#ui_ux_frontend in Slack)`}var r=n(31001),a=n(61999),o=n(89877);let i=a.A.create({withCredentials:!0});i.interceptors.response.use(void 0,o.A);i.interceptors.response.use(e=>e,e=>{if(e?.response?.status>=400)try{(0,r.z)({message:e.message,method:e.config.method,requestUrl:e.config.url.replace("https://www.chess.com",""),stack:e.stack,status:e.response.status})}catch(e){}return Promise.reject(e)});i.interceptors.request.use(e=>{e.headers??={};if(!e.headers["x-chesscom-client"]){let t=getClientIdHeaderValue();e.headers["x-chesscom-client"]=t}return e});var s=i},4090:function(e,t,n){"use strict";n.d(t,{m:function(){return publish}});var r=n(8588),a=n(37901),o=n.n(a);async function publish(e){let t=window.PubSub.options.url[e.service||"base"],n=e.path instanceof Array?e.path.join("/"):e.path;t.endsWith("/")||n.startsWith("/")||e.allowNoTrailingSlash||(t+="/");let a={};["staging","prod"].includes(window.context.environment||"")||(a.uid=window.context.user?.uuid);e.params&&Object.assign(a,e.params);let i={};i["x-chesscom-request-id-client"]=e.requestId??o()();e.clientId&&(i["x-chesscom-play-client"]=e.clientId);e.headers&&Object.assign(i,e.headers);let s=e.timeout?AbortSignal?.timeout?.(e.timeout):void 0;return(0,r.A)({url:/^http[s]?:/.test(n)?n:`${t}${n}`,data:e.data,method:e.method||"post",params:a,headers:i,signal:s,withCredentials:!0})}},93930:function(e,t,n){"use strict";n.d(t,{$U:function(){return s},iz:function(){return c},YK:function(){return a},D6:function(){return r}});let r={CONNECT:"connect",DISCONNECT:"disconnect",FAILURE:"failure",RECONNECT:"reconnect"};var a=(e=>(e.Base="base",e.Chat="chat",e.Classroom="classroom",e.GameList="gamelist",e.Insights="insights",e.Invitations="invitations",e.Matcher="matcher",e.Play="play",e.Presence="presence",e.Ratings="ratings",e.Settings="settings",e.TopPlayers="topplayers",e.Tournaments="tournaments",e.UserProperties="user-properties",e.Users="users",e))(a||{}),o=(e=>(e.Classroom="classroom",e.Game="game",e.Disable="disable",e.HasNewMessages="has-new-message",e.MarkAsRead="mark-as-read",e.Messages="messages",e.Mute="mute",e.Unmute="unmute",e.User="user",e))(o||{}),i=(e=>(e.Users="users",e))(i||{}),s=(e=>(e.Accept="accept",e.Cancel="cancel",e.Challenges="challenges",e.Decline="reject",e.Games="games",e.OpenChallenges="open-challenges",e.Seeks="seeks",e))(s||{}),l=(e=>(e.Alias="alias",e.Arrows="arrows",e.AudioSettings="audio-settings",e.AutoSave="auto-save",e.Boards="boards",e.ChatSettings="chat-settings",e.Clock="clock",e.CollectionIds="collection-ids",e.Commands="commands",e.Confirmations="confirmations",e.Current="current",e.Enrollment="enrollment",e.EvaluationSettings="evaluation-settings",e.Flipped="flipped",e.GameId="game-id",e.Images="images",e.Invitees="invitees",e.LargeClassroom="large-classroom",e.Moves="moves",e.Notifications="notifications",e.PinnedVideos="pinned-videos",e.Players="players",e.Position="position",e.Publish="publish",e.SelectedCollectionId="selected-collection-id",e.Sequence="sequence",e.Sessions="sessions",e.Squares="squares",e.Stopwatch="stopwatch",e.Timer="timer",e.Title="title",e.Twilio="twilio",e.Users="users",e.Webrtc="webrtc",e))(l||{}),c=(e=>(e.Users="users",e))(c||{}),d=(e=>(e.Users="users",e))(d||{}),u=(e=>(e.Clock="clock",e.Game="game",e.Grudge="grudge",e.Match="match",e.Rematch="rematch",e.StopRepeat="stop-repeat",e.Tournaments="tournaments",e))(u||{});window.PubSub},310:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});let r=100;function delayedAdd(...e){return new Promise(t=>{setTimeout(()=>{if(window.toaster&&"add"in window.toaster){window.toaster.add(...e);t()}else delayedAdd(...e)},r)})}function delayedRemove(...e){setTimeout(()=>{window.toaster&&"remove"in window.toaster?window.toaster.remove(...e):delayedRemove(...e)},r)}let a=window.toaster||{add:delayedAdd,remove:delayedRemove}},72438:function(e,t,n){"use strict";var r=n(7118),a=n(21752),o=n(22404),i=n(28947);let s=["height","src","width"],l=["textContent"];t.A=(0,r.defineComponent)({__name:"cc-button",props:{align:{default:"center"},customClasses:{},customImgSrc:{},disabled:{type:Boolean},fullWidth:{type:Boolean},href:{},icon:{},isOneLineText:{type:Boolean},label:{},loading:{type:Boolean},minWidth:{type:Boolean},routerLink:{},selectedBorder:{type:Boolean},size:{default:"medium"},type:{default:"button"},variant:{default:"secondary"}},emits:["click","contextmenu","touchend","touchstart"],setup(e){let t=e,n=(0,r.computed)(()=>t.routerLink?"router-link":t.href?"a":"button"),c=(0,r.computed)(()=>i.D[t.size]?.iconSize),d=(0,r.computed)(()=>i.D[t.size]?.loaderSize),u=(0,r.computed)(()=>t.disabled||null),h=(0,r.computed)(()=>t.loading||null);return(t,p)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(n.value),{class:(0,r.normalizeClass)(["cc-button-component",`cc-button-${e.variant}`,`cc-button-${e.size}`,`cc-bg-${e.variant}`,{"cc-button-full":e.fullWidth,"cc-button-disabled":u.value,"cc-button-loading":h.value,"cc-button-min-width":e.minWidth,"cc-selected-border":e.selectedBorder,"cc-button-align-start":"start"===e.align}]),disabled:u.value||h.value,href:e.href||e.routerLink||null,to:e.routerLink,type:e.href?null:e.type,onClick:p[0]||(p[0]=e=>t.$emit("click",e)),onContextmenu:p[1]||(p[1]=e=>t.$emit("contextmenu",e)),onTouchend:p[2]||(p[2]=e=>t.$emit("touchend",e)),onTouchstartPassive:p[3]||(p[3]=e=>t.$emit("touchstart",e))},{default:(0,r.withCtx)(()=>[h.value?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:0,class:"cc-button-loader",variant:"spinner-chameleon",size:d.value},null,8,["size"])):(0,r.createCommentVNode)("",!0),p[4]||(p[4]=(0,r.createTextVNode)()),e.customImgSrc?((0,r.openBlock)(),(0,r.createElementBlock)("img",{key:1,alt:"icon",class:(0,r.normalizeClass)(["cc-button-icon cc-button-custom-img",e.customClasses?.icon]),height:(0,r.unref)(i.D)[e.size]?.imgSize,src:e.customImgSrc,width:(0,r.unref)(i.D)[e.size]?.imgSize},null,10,s)):e.icon?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:2,name:e.icon.name,size:c.value,variant:e.icon.variant,class:(0,r.normalizeClass)(["cc-button-icon",e.customClasses?.icon])},null,8,["name","size","variant","class"])):(0,r.createCommentVNode)("",!0),p[5]||(p[5]=(0,r.createTextVNode)()),e.label?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:3,class:(0,r.normalizeClass)([{"cc-button-one-line":e.isOneLineText},e.customClasses?.label]),textContent:(0,r.toDisplayString)(e.label)},null,10,l)):(0,r.createCommentVNode)("",!0),p[6]||(p[6]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default")]),_:3},40,["class","disabled","href","to","type"]))}})},39378:function(e,t,n){"use strict";var r=n(7118),a=n(21752),o=n(29905);t.A=(0,r.defineComponent)({__name:"cc-icon-button",props:{customClasses:{},disabled:{type:Boolean},href:{},target:{},icon:{},iconSize:{default:20},size:{default:"small"},tooltip:{},variant:{default:"ghost"}},emits:["click","contextmenu","touchend","touchstart"],setup(e){let t=e,n=(0,r.computed)(()=>t.disabled||null),i=(0,r.computed)(()=>"object"==typeof t.tooltip?t.tooltip:{text:t.tooltip,position:"top",anchor:void 0,closeOnClick:void 0});return(t,s)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.href?"a":"button"),{"aria-label":i.value.text,class:(0,r.normalizeClass)(["cc-icon-button-component",`cc-icon-button-${e.size}`,`cc-icon-button-${e.variant}`,`cc-bg-${e.variant}`,{"cc-icon-button-disabled":n.value&&e.href},e.customClasses?.container]),disabled:n.value,href:e.href||null,target:e.target||null,type:e.href?null:"button",onClick:s[0]||(s[0]=e=>t.$emit("click",e)),onContextmenu:s[1]||(s[1]=e=>t.$emit("contextmenu",e)),onTouchend:s[2]||(s[2]=e=>t.$emit("touchend",e)),onTouchstart:s[3]||(s[3]=e=>t.$emit("touchstart",e))},{default:(0,r.withCtx)(()=>[e.tooltip?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:0,anchor:i.value.anchor,"close-on-click":i.value.closeOnClick,position:i.value.position,text:i.value.text},null,8,["anchor","close-on-click","position","text"])):(0,r.createCommentVNode)("",!0),s[4]||(s[4]=(0,r.createTextVNode)()),(0,r.createVNode)(a.A,{class:(0,r.normalizeClass)(e.customClasses?.icon),name:e.icon.name,size:e.iconSize,variant:e.icon.variant},null,8,["class","name","size","variant"]),s[5]||(s[5]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default")]),_:3},40,["aria-label","class","disabled","href","target","type"]))}})},15598:function(e,t,n){"use strict";var r=n(7118),a=n(596);let o=["alt","height","src","width"];t.A=(0,r.defineComponent)({__name:"cc-icon",props:{alt:{},customSize:{},name:{},size:{default:24},variant:{default:"glyph"}},setup(e){let t=e,n=(0,r.computed)(()=>t.customSize?t.customSize:t.size),i=(0,r.computed)(()=>t.customSize?`${t.customSize/10}rem`:void 0),s=(0,r.computed)(()=>`/bundles/web/images/color-icons/${t.name}.svg`),l=(0,r.computed)(()=>`/bundles/web/images/glyphs/${t.name}.svg`);return(t,c)=>"color"===e.variant?((0,r.openBlock)(),(0,r.createElementBlock)("img",{key:0,"aria-hidden":"true",alt:e.alt?e.alt:e.name,class:(0,r.normalizeClass)(["cc-icon-img",e.customSize?"cc-icon-custom-img-size":`cc-icon-size-${e.size}`]),height:n.value,src:s.value,style:(0,r.normalizeStyle)(e.customSize?[`--cc-icon-custom-size: ${i.value}`]:null),width:n.value},null,14,o)):((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:(0,r.normalizeClass)(["cc-icon-glyph",`cc-icon-size-${e.size}`])},[(0,r.createVNode)((0,r.unref)(a.A),{src:l.value,width:n.value,height:n.value,"transform-source":e=>e},null,8,["src","width","height","transform-source"])],2))}})},14650:function(e,t,n){"use strict";var r=n(7118);let a=["aria-label","type","value"];t.A=(0,r.defineComponent)({__name:"cc-input",props:{ariaLabel:{},autofocus:{type:Boolean},hasError:{type:Boolean},hasWarning:{type:Boolean},modelValue:{default:""},showSpinButtons:{type:Boolean},size:{default:"medium"},type:{default:"text"}},emits:["blur","change","enter","focus","keydown","keyup","paste","update:modelValue"],setup(e,{emit:t}){let n=t,o=(0,r.useTemplateRef)("inputEl");(0,r.onMounted)(()=>{e.autofocus&&requestAnimationFrame(()=>{o.value?.focus()})});let keyupEvent=e=>n("keyup",e),onInput=e=>n("update:modelValue",e.target.value);return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("input",{ref_key:"inputEl",ref:o,"aria-label":e.ariaLabel,class:(0,r.normalizeClass)(["cc-input-component",`cc-input-${e.size}`,{"cc-input-error":e.hasError,"cc-input-warning":e.hasWarning,"cc-input-spin-buttons":e.showSpinButtons}]),type:e.type,value:e.modelValue,onBlur:n[0]||(n[0]=e=>t.$emit("blur",e)),onChange:n[1]||(n[1]=e=>t.$emit("change",e)),onFocus:n[2]||(n[2]=e=>t.$emit("focus",e)),onInput,onKeydown:n[3]||(n[3]=e=>t.$emit("keydown",e)),onKeyup:[keyupEvent,n[4]||(n[4]=(0,r.withKeys)(e=>t.$emit("enter",e),["enter"]))],onPaste:n[5]||(n[5]=e=>t.$emit("paste",e))},null,42,a))}})},40034:function(e,t,n){"use strict";var r=n(7118);t.A=(0,r.defineComponent)({__name:"cc-loader",props:{size:{},variant:{default:"blocks"}},setup:e=>(t,n)=>"blocks"===e.variant?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,"aria-busy":"true","aria-live":"polite",class:(0,r.normalizeClass)(["cc-loader-component",`cc-loader-${e.size}`])},[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(6,e=>(0,r.createElementVNode)("div",{key:e,class:(0,r.normalizeClass)(`cc-loader-square cc-loader-square-${e}`)},null,2)),64))],2)):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,"aria-busy":"true","aria-live":"polite",class:(0,r.normalizeClass)(["cc-loader-spinner",`cc-loader-${e.size}`,`cc-loader-${e.variant}`])},null,2))})},16904:function(e,t,n){"use strict";n.d(t,{YC:function(){return useTiptap}});var r=n(7118),a=n(20139),o=n(84501),i=n(43873);let s=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,c=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,d=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,u=i.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,i.OX)({find:s,type:this.type}),(0,i.OX)({find:c,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:l,type:this.type}),(0,i.Zc)({find:d,type:this.type})]}}),h="textStyle",p=/^\s*([-+*])\s$/,m=i.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(h)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=(0,i.tG)({find:p,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,i.tG)({find:p,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(h),editor:this.editor})),[e]}}),f=i.CU.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>!!Object.entries((0,i.z6)(e,this.type)).some(([,e])=>!!e)||t.unsetMark(this.name)}}}),g=i.YY.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands:()=>({setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})}),b=i.bP.create({name:"doc",topNode:!0,content:"block+"});var _=n(42845),E=n(38262);function dropCursor(e={}){return new _.k_({view:t=>new w(t,e)})}class w{constructor(e,t){var n;this.editorView=e;this.cursorPos=null;this.element=null;this.timeout=-1;this.width=null!=(n=t.width)?n:1;this.color=!1===t.color?void 0:t.color||"black";this.class=t.class;this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let handler=e=>{this[t](e)};return e.dom.addEventListener(t,handler),{name:t,handler}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){if(e!=this.cursorPos){this.cursorPos=e;if(null==e){this.element.parentNode.removeChild(this.element);this.element=null}else this.updateOverlay()}}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,a;if(r){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let r=n.getBoundingClientRect(),o=e?r.bottom:r.top;e&&t&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);a={left:r.left,right:r.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!a){let e=this.editorView.coordsAtPos(this.cursorPos);a={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let o=this.editorView.dom.offsetParent;if(!this.element){this.element=o.appendChild(document.createElement("div"));this.class&&(this.element.className=this.class);this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;";this.color&&(this.element.style.backgroundColor=this.color)}this.element.classList.toggle("prosemirror-dropcursor-block",r);this.element.classList.toggle("prosemirror-dropcursor-inline",!r);if(o&&(o!=document.body||"static"!=getComputedStyle(o).position)){let n=o.getBoundingClientRect();e=n.left-o.scrollLeft;t=n.top-o.scrollTop}else{e=-pageXOffset;t=-pageYOffset}this.element.style.left=a.left-e+"px";this.element.style.top=a.top-t+"px";this.element.style.width=a.right-a.left+"px";this.element.style.height=a.bottom-a.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout);this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,a="function"==typeof r?r(this.editorView,t,e):r;if(t&&!a){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=(0,E.Um)(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e);this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}let v=i.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[dropCursor(this.options)]}}),k=i.YY.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>{var t;return null==(t=e.style.fontFamily)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands:()=>({setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()})});var S=n(97352),y=n(57505),A=n(1575);class N extends _.LN{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return N.valid(n)?new N(n):_.LN.near(n)}content(){return y.Ji.empty}eq(e){return e instanceof N&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new N(e.resolve(t.pos))}getBookmark(){return new R(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!closedBefore(e)||!closedAfter(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&N.valid(e))return e;let r=e.pos,a=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){a=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let i=e.doc.resolve(r);if(N.valid(i))return i}for(;;){let o=t>0?a.firstChild:a.lastChild;if(!o){if(a.isAtom&&!a.isText&&!_.nh.isSelectable(a)){e=e.doc.resolve(r+a.nodeSize*t);n=!1;continue e}break}a=o;r+=t;let i=e.doc.resolve(r);if(N.valid(i))return i}return null}}}N.prototype.visible=!1;N.findFrom=N.findGapCursorFrom;_.LN.jsonID("gapcursor",N);class R{constructor(e){this.pos=e}map(e){return new R(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return N.valid(t)?new N(t):_.LN.near(t)}}function closedBefore(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0==n){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}function closedAfter(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}}return!0}function gapCursor(){return new _.k_({props:{decorations:drawGapCursor,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&N.valid(n)?new N(n):null,handleClick,handleKeyDown:C,handleDOMEvents:{beforeinput:beforeinput}}})}let C=(0,S.K)({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(e,t){let n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,a){let o=e.selection,i=t>0?o.$to:o.$from,s=o.empty;if(o instanceof _.U3){if(!a.endOfTextblock(n)||0==i.depth)return!1;s=!1;i=e.doc.resolve(t>0?i.after():i.before())}let l=N.findGapCursorFrom(i,t,s);return!!l&&(r&&r(e.tr.setSelection(new N(l))),!0)}}function handleClick(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!N.valid(r))return!1;let a=e.posAtCoords({left:n.clientX,top:n.clientY});return!(a&&a.inside>-1&&_.nh.isSelectable(e.state.doc.nodeAt(a.inside)))&&(e.dispatch(e.state.tr.setSelection(new N(r))),!0)}function beforeinput(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof N))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let a=y.FK.empty;for(let e=r.length-1;e>=0;e--)a=y.FK.from(r[e].createAndFill(null,a));let o=e.state.tr.replace(n.pos,n.pos,new y.Ji(a,0,0));return o.setSelection(_.U3.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function drawGapCursor(e){if(!(e.selection instanceof N))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",A.zF.create(e.doc,[A.NZ.widget(e.selection.head,t,{key:"gapcursor"})])}let V=i.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[gapCursor()],extendNodeSchema(e){var t;let n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:null!=(t=(0,i.gk)((0,i.iI)(e,"allowGapCursor",n)))?t:null}}}),T=i.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",(0,i.KV)(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{let{selection:e,storedMarks:a}=n;if(e.$from.parent.type.spec.isolating)return!1;let{keepMarks:o}=this.options,{splittableMarks:i}=r.extensionManager,s=a||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&s&&o){let t=s.filter(e=>i.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),U=i.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){let n=this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0];return[`h${n}`,(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,...{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}}),{})},addInputRules(){return this.options.levels.map(e=>(0,i.JJ)({find:RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var I=200,RopeSequence=function(){};RopeSequence.prototype.append=function append(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<I&&this.leafAppend(e)||this.length<I&&e.leafPrepend(this)||this.appendInner(e)):this};RopeSequence.prototype.prepend=function prepend(e){return e.length?RopeSequence.from(e).append(this):this};RopeSequence.prototype.appendInner=function appendInner(e){return new B(this,e)};RopeSequence.prototype.slice=function slice(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};RopeSequence.prototype.get=function get(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)};RopeSequence.prototype.forEach=function forEach(e,t,n){void 0===t&&(t=0);void 0===n&&(n=this.length);t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};RopeSequence.prototype.map=function map(e,t,n){void 0===t&&(t=0);void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r};RopeSequence.from=function from(e){return e instanceof RopeSequence?e:e&&e.length?new x(e):RopeSequence.empty};var x=function(e){function Leaf(t){e.call(this);this.values=t}e&&(Leaf.__proto__=e);Leaf.prototype=Object.create(e&&e.prototype);Leaf.prototype.constructor=Leaf;var t={length:{configurable:!0},depth:{configurable:!0}};return Leaf.prototype.flatten=function flatten(){return this.values},Leaf.prototype.sliceInner=function sliceInner(e,t){return 0==e&&t==this.length?this:new Leaf(this.values.slice(e,t))},Leaf.prototype.getInner=function getInner(e){return this.values[e]},Leaf.prototype.forEachInner=function forEachInner(e,t,n,r){for(var a=t;a<n;a++)if(!1===e(this.values[a],r+a))return!1},Leaf.prototype.forEachInvertedInner=function forEachInvertedInner(e,t,n,r){for(var a=t-1;a>=n;a--)if(!1===e(this.values[a],r+a))return!1},Leaf.prototype.leafAppend=function leafAppend(e){if(this.length+e.length<=I)return new Leaf(this.values.concat(e.flatten()))},Leaf.prototype.leafPrepend=function leafPrepend(e){if(this.length+e.length<=I)return new Leaf(e.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(Leaf.prototype,t),Leaf}(RopeSequence);RopeSequence.empty=new x([]);var B=function(e){function Append(t,n){e.call(this);this.left=t;this.right=n;this.length=t.length+n.length;this.depth=Math.max(t.depth,n.depth)+1}return e&&(Append.__proto__=e),Append.prototype=Object.create(e&&e.prototype),Append.prototype.constructor=Append,Append.prototype.flatten=function flatten(){return this.left.flatten().concat(this.right.flatten())},Append.prototype.getInner=function getInner(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},Append.prototype.forEachInner=function forEachInner(e,t,n,r){var a=this.left.length;if(t<a&&!1===this.left.forEachInner(e,t,Math.min(n,a),r)||n>a&&!1===this.right.forEachInner(e,Math.max(t-a,0),Math.min(this.length,n)-a,r+a))return!1},Append.prototype.forEachInvertedInner=function forEachInvertedInner(e,t,n,r){var a=this.left.length;if(t>a&&!1===this.right.forEachInvertedInner(e,t-a,Math.max(n,a)-a,r+a)||n<a&&!1===this.left.forEachInvertedInner(e,Math.min(t,a),n,r))return!1},Append.prototype.sliceInner=function sliceInner(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},Append.prototype.leafAppend=function leafAppend(e){var t=this.right.leafAppend(e);if(t)return new Append(this.left,t)},Append.prototype.leafPrepend=function leafPrepend(e){var t=this.left.leafPrepend(e);if(t)return new Append(t,this.right)},Append.prototype.appendInner=function appendInner(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new Append(this.left,new Append(this.right,e)):new Append(this,e)},Append}(RopeSequence),F=RopeSequence;class M{constructor(e,t){this.items=e;this.eventCount=t}popEvent(e,t){let n,r,a,o;if(0==this.eventCount)return null;let i=this.items.length;for(;;i--){let e=this.items.get(i-1);if(e.selection){--i;break}}t&&(r=(n=this.remapping(i,this.items.length)).maps.length);let s=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step){n||(r=(n=this.remapping(i,t+1)).maps.length);r--;c.push(e);return}if(n){c.push(new O(e.map));let t=e.step.map(n.slice(r)),a;if(t&&s.maybeStep(t).doc){a=s.mapping.maps[s.mapping.maps.length-1];l.push(new O(a,void 0,void 0,l.length+c.length))}r--;a&&n.appendMap(a,r)}else s.maybeStep(e.step);if(e.selection)return a=n?e.selection.map(n.slice(r)):e.selection,o=new M(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:o,transform:s,selection:a}}addTransform(e,t,n,r){let a=[],o=this.eventCount,i=this.items,s=!r&&i.length?i.get(i.length-1):null;for(let n=0;n<e.steps.length;n++){let l=e.steps[n].invert(e.docs[n]),c=new O(e.mapping.maps[n],l,t),d;if(d=s&&s.merge(c)){c=d;n?a.pop():i=i.slice(0,i.length-1)}a.push(c);if(t){o++;t=void 0}r||(s=c)}let l=o-n.depth;if(l>D){i=cutOffEvents(i,l);o-=l}return new M(i.append(a),o)}remapping(e,t){let n=new E.X9;return this.items.forEach((t,r)=>{let a=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,a)},e,t),n}addMaps(e){return 0==this.eventCount?this:new M(this.items.append(e.map(e=>new O(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),a=e.mapping,o=e.steps.length,i=this.eventCount;this.items.forEach(e=>{e.selection&&i--},r);let s=t;this.items.forEach(t=>{let r=a.getMirror(--s);if(null==r)return;o=Math.min(o,r);let l=a.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(a.slice(s+1,r));c&&i++;n.push(new O(l,o,c))}else n.push(new O(l))},r);let l=[];for(let e=t;e<o;e++)l.push(new O(a.maps[e]));let c=new M(this.items.slice(0,r).append(l).append(n),i);return c.emptyItemCount()>500&&(c=c.compress(this.items.length-n.length)),c}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],a=0;return this.items.forEach((o,i)=>{if(i>=e){r.push(o);o.selection&&a++}else if(o.step){let e=o.step.map(t.slice(n)),i=e&&e.getMap();n--;i&&t.appendMap(i,n);if(e){let s=o.selection&&o.selection.map(t.slice(n));s&&a++;let l=new O(i.invert(),e,s),c,d=r.length-1;(c=r.length&&r[d].merge(l))?r[d]=c:r.push(l)}}else o.map&&n--},this.items.length,0),new M(F.from(r.reverse()),a)}}M.empty=new M(F.empty,0);function cutOffEvents(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}class O{constructor(e,t,n,r){this.map=e;this.step=t;this.selection=n;this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new O(t.getMap().invert(),t,this.selection)}}}class L{constructor(e,t,n,r,a){this.done=e;this.undone=t;this.prevRanges=n;this.prevTime=r;this.prevComposition=a}}let D=20;function applyTransaction(e,t,n,r){let a=n.getMeta(G),o;if(a)return a.historyState;n.getMeta(Z)&&(e=new L(e.done,e.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(i&&i.getMeta(G))if(i.getMeta(G).redo)return new L(e.done.addTransform(n,void 0,r,mustPreserveItems(t)),e.undone,rangesFor(n.mapping.maps),e.prevTime,e.prevComposition);else return new L(e.done,e.undone.addTransform(n,void 0,r,mustPreserveItems(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory"))if(o=n.getMeta("rebased"))return new L(e.done.rebased(n,o),e.undone.rebased(n,o),mapRanges(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);else return new L(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mapRanges(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let a=n.getMeta("composition"),o=0==e.prevTime||!i&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!isAdjacentTo(n,e.prevRanges)),s=i?mapRanges(e.prevRanges,n.mapping):rangesFor(n.mapping.maps);return new L(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,mustPreserveItems(t)),M.empty,s,n.time,null==a?e.prevComposition:a)}}function isAdjacentTo(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let a=0;a<t.length;a+=2)e<=t[a+1]&&r>=t[a]&&(n=!0)}),n}function rangesFor(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,a)=>t.push(r,a));return t}function mapRanges(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let a=t.map(e[r],1),o=t.map(e[r+1],-1);a<=o&&n.push(a,o)}return n}function histTransaction(e,t,n){let r=mustPreserveItems(t),a=G.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let i=o.selection.resolve(o.transform.doc),s=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),a,r),l=new L(n?s:o.remaining,n?o.remaining:s,null,0,-1);return o.transform.setSelection(i).setMeta(G,{redo:n,historyState:l})}let z=!1,P=null;function mustPreserveItems(e){let t=e.plugins;if(P!=t){z=!1;P=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){z=!0;break}}return z}let G=new _.hs("history"),Z=new _.hs("closeHistory");function dist_history(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new _.k_({key:G,state:{init:()=>new L(M.empty,M.empty,null,0,-1),apply:(t,n,r)=>applyTransaction(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?W:"historyRedo"==n?j:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function buildCommand(e,t){return(n,r)=>{let a=G.getState(n);if(!a||0==(e?a.undone:a.done).eventCount)return!1;if(r){let o=histTransaction(a,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}let W=buildCommand(!1,!0),j=buildCommand(!0,!0);buildCommand(!1,!1);buildCommand(!0,!1);let Y=i.YY.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>W(e,t),redo:()=>({state:e,dispatch:t})=>j(e,t)}),addProseMirrorPlugins(){return[dist_history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),H=i.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",(0,i.KV)(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{let{selection:n}=t,{$from:r,$to:a}=n,o=e();return 0===r.parentOffset?o.insertContentAt({from:Math.max(r.pos-1,0),to:a.pos},{type:this.name}):(0,i.BQ)(n)?o.insertContentAt(a.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:e,dispatch:t})=>{var n;if(t){let{$to:t}=e.selection,r=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(_.U3.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(_.nh.create(e.doc,t.pos)):e.setSelection(_.U3.create(e.doc,t.pos));else{let a=null==(n=t.parent.type.contentMatch.defaultType)?void 0:n.create();if(a){e.insert(r,a);e.setSelection(_.U3.create(e.doc,r+1))}}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,i.jT)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),X=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Q=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,J=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,K=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$=i.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,i.OX)({find:X,type:this.type}),(0,i.OX)({find:J,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:Q,type:this.type}),(0,i.Zc)({find:K,type:this.type})]}}),q=i.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",(0,i.KV)(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),findListItemPos=(e,t)=>{let{$from:n}=t.selection,r=(0,i.Pg)(e,t.schema),a=null,o=n.depth,s=n.pos,l=null;for(;o>0&&null===l;){a=n.node(o);if(a.type===r)l=o;else{o-=1;s-=1}}return null===l?null:{$pos:t.doc.resolve(s),depth:l}},getNextListDepth=(e,t)=>{let n=findListItemPos(e,t);if(!n)return!1;let[,r]=(0,i.fl)(t,e,n.$pos.pos+4);return r},handleBackspace=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(!(0,i.rU)(e.state,t)&&((e,t,n)=>{let{$anchor:r}=e.selection,a=Math.max(0,r.pos-2),o=e.doc.resolve(a).node();return!!o&&!!n.includes(o.type.name)})(e.state,0,n)){let{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),a=[];r.node().descendants((e,n)=>{e.type.name===t&&a.push({node:e,pos:n})});let o=a.at(-1);if(!o)return!1;let i=e.state.doc.resolve(r.start()+o.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},i.end()).joinForward().run()}if(!(0,i.rU)(e.state,t)||!(0,i.J_)(e.state))return!1;let r=findListItemPos(t,e.state);if(!r)return!1;let a=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=((e,t,n)=>{if(!n)return!1;let r=(0,i.Pg)(e,t.schema),a=!1;return n.descendants(e=>{e.type===r&&(a=!0)}),a})(t,e.state,a);return((e,t)=>{var n;let{$anchor:r}=t.selection,a=t.doc.resolve(r.pos-2);return 0!==a.index()&&(null==(n=a.nodeBefore)?void 0:n.type.name)===e})(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},handleDelete=(e,t)=>!!(0,i.rU)(e.state,t)&&!!(0,i.QN)(e.state,t)&&(((e,t)=>{let n=getNextListDepth(e,t),r=findListItemPos(e,t);return!!r&&!!n&&n>r.depth})(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():((e,t)=>{let n=getNextListDepth(e,t),r=findListItemPos(e,t);return!!r&&!!n&&n<r.depth})(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()),ee=i.YY.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&handleDelete(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&handleDelete(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&handleBackspace(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&handleBackspace(e,n,r)&&(t=!0)}),t}}}}),et="textStyle",en=/^(\d+)\.\s$/,er=i.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){let{start:t,...n}=e;return 1===t?["ol",(0,i.KV)(this.options.HTMLAttributes,n),0]:["ol",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(et)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=(0,i.tG)({find:en,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=(0,i.tG)({find:en,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(et)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),ea=i.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eo=i.YY.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new _.k_({key:new _.hs("placeholder"),props:{decorations:({doc:e,selection:t})=>{let n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,a=[];if(!n)return null;let o=this.editor.isEmpty;return e.descendants((e,t)=>{let n=r>=t&&r<=t+e.nodeSize,s=!e.isLeaf&&(0,i.Op)(e);if((n||!this.options.showOnlyCurrent)&&s){let r=[this.options.emptyNodeClass];o&&r.push(this.options.emptyEditorClass);let i=A.NZ.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});a.push(i)}return this.options.includeChildren}),A.zF.create(e,a)}}})]}}),ei=i.bP.create({name:"text",group:"inline"}),es=i.YY.create({name:"typography",addOptions:()=>({closeDoubleQuote:"",closeSingleQuote:"",copyright:"\xa9",ellipsis:"",emDash:"",laquo:"\xab",leftArrow:"",multiplication:"\xd7",notEqual:"",oneHalf:"\xbd",oneQuarter:"\xbc",openDoubleQuote:"",openSingleQuote:"",plusMinus:"\xb1",raquo:"\xbb",registeredTrademark:"\xae",rightArrow:"",servicemark:"",superscriptThree:"\xb3",superscriptTwo:"\xb2",threeQuarters:"\xbe",trademark:""}),addInputRules(){let e=[];return!1!==this.options.emDash&&e.push((e=>(0,i.Yp)({find:/--$/,replace:null!=e?e:""}))(this.options.emDash)),!1!==this.options.ellipsis&&e.push((e=>(0,i.Yp)({find:/\.\.\.$/,replace:null!=e?e:""}))(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&e.push((e=>(0,i.Yp)({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!=e?e:""}))(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&e.push((e=>(0,i.Yp)({find:/"$/,replace:null!=e?e:""}))(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&e.push((e=>(0,i.Yp)({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!=e?e:""}))(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&e.push((e=>(0,i.Yp)({find:/'$/,replace:null!=e?e:""}))(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&e.push((e=>(0,i.Yp)({find:/<-$/,replace:null!=e?e:""}))(this.options.leftArrow)),!1!==this.options.rightArrow&&e.push((e=>(0,i.Yp)({find:/->$/,replace:null!=e?e:""}))(this.options.rightArrow)),!1!==this.options.copyright&&e.push((e=>(0,i.Yp)({find:/\(c\)$/,replace:null!=e?e:"\xa9"}))(this.options.copyright)),!1!==this.options.trademark&&e.push((e=>(0,i.Yp)({find:/\(tm\)$/,replace:null!=e?e:""}))(this.options.trademark)),!1!==this.options.servicemark&&e.push((e=>(0,i.Yp)({find:/\(sm\)$/,replace:null!=e?e:""}))(this.options.servicemark)),!1!==this.options.registeredTrademark&&e.push((e=>(0,i.Yp)({find:/\(r\)$/,replace:null!=e?e:"\xae"}))(this.options.registeredTrademark)),!1!==this.options.oneHalf&&e.push((e=>(0,i.Yp)({find:/(?:^|\s)(1\/2)\s$/,replace:null!=e?e:"\xbd"}))(this.options.oneHalf)),!1!==this.options.plusMinus&&e.push((e=>(0,i.Yp)({find:/\+\/-$/,replace:null!=e?e:"\xb1"}))(this.options.plusMinus)),!1!==this.options.notEqual&&e.push((e=>(0,i.Yp)({find:/!=$/,replace:null!=e?e:""}))(this.options.notEqual)),!1!==this.options.laquo&&e.push((e=>(0,i.Yp)({find:/<<$/,replace:null!=e?e:"\xab"}))(this.options.laquo)),!1!==this.options.raquo&&e.push((e=>(0,i.Yp)({find:/>>$/,replace:null!=e?e:"\xbb"}))(this.options.raquo)),!1!==this.options.multiplication&&e.push((e=>(0,i.Yp)({find:/\d+\s?([*x])\s?\d+$/,replace:null!=e?e:"\xd7"}))(this.options.multiplication)),!1!==this.options.superscriptTwo&&e.push((e=>(0,i.Yp)({find:/\^2$/,replace:null!=e?e:"\xb2"}))(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&e.push((e=>(0,i.Yp)({find:/\^3$/,replace:null!=e?e:"\xb3"}))(this.options.superscriptThree)),!1!==this.options.oneQuarter&&e.push((e=>(0,i.Yp)({find:/(?:^|\s)(1\/4)\s$/,replace:null!=e?e:"\xbc"}))(this.options.oneQuarter)),!1!==this.options.threeQuarters&&e.push((e=>(0,i.Yp)({find:/(?:^|\s)(3\/4)\s$/,replace:null!=e?e:"\xbe"}))(this.options.threeQuarters)),e}}),el=i.CU.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",(0,i.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),ec="user-anchor-";class ed{static isAnchor(e){return e.startsWith(ec)}static toString(e){return e.replace(ec,"")}static fromString(e){return ed.isAnchor(e)?e:`${ec}${e}`}}let eu=i.CU.create({name:"anchor",addAttributes:()=>({id:{default:null,parseHTML:e=>{let t=e.id;return t&&ed.isAnchor(t)?ed.toString(t):null},renderHTML:e=>(e=>"object"==typeof e&&null!==e&&"id"in e&&!!e.id&&"string"==typeof e.id&&/^[a-z-_\d]+$/i.test(e.id))(e)?{id:ed.fromString(e.id)}:{}}}),parseHTML:()=>[{tag:"p[id]"},{tag:"span[id]"}],renderHTML:({HTMLAttributes:e})=>["span",e,0],addCommands(){return{setAnchor:e=>({chain:t})=>t().selectParentNode().setMark(this.name,{id:e}).run(),unsetAnchor:()=>({chain:e})=>e().selectParentNode().unsetMark(this.name).run()}}}),eh=i.YY.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>e.style.backgroundColor?.replace(/['"]+/g,""),renderHTML:e=>(e=>"object"==typeof e&&null!==e&&(!("backgroundColor"in e)||null===e.backgroundColor||"string"==typeof e.backgroundColor&&(!e.backgroundColor&&"string"!=typeof e.backgroundColor||(e=>{let t=document.createElement("span");return t.style.color=e,""!==t.style.color})(e.backgroundColor))))(e)?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()})}),ep=i.bP.create({name:"chessboard",group:"block",selectable:!0,atom:!0,addAttributes:()=>({diagramId:{parseHTML:e=>Number.parseInt(e.id.replace(/chess_com_diagram_\d+_/giu,""),10)}}),parseHTML:()=>[{tag:'div[id][class="chessDiagramDiv"]',getAttrs:e=>e instanceof HTMLElement&&!Number.isNaN(Number.parseInt(e.id.replace(/chess_com_diagram_\d+_/giu,""),10))&&null},{tag:'div[id][class="chessDiagramDiv"][style]',getAttrs:e=>e instanceof HTMLElement&&!Number.isNaN(Number.parseInt(e.id.replace(/chess_com_diagram_\d+_/giu,""),10))&&null}],renderHTML:({node:e})=>["div",{id:`chess_com_diagram_0_${e.attrs.diagramId}`,class:"chessDiagramDiv"}]}),isFocusFullyInNode=(e,t)=>e[0]<=t[0]&&e[1]>=t[1];var em=(0,r.defineComponent)({__name:"edit-overlay",props:{editor:{},pos:{},node:{},clickThrough:{type:Boolean,default:!1},toolbar:{default:"focus-leaf"},side:{default:"top"},noBorder:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1}},setup(e){let t=e,n=(0,r.ref)(t.editor.isEditable),handleEditorUpdate=()=>{n.value=t.editor.isEditable};(0,r.onMounted)(()=>{t.editor.on("update",handleEditorUpdate)});(0,r.onBeforeUnmount)(()=>{t.editor.off("update",handleEditorUpdate)});let{isFocusedLeaf:a,isFocused:o}=((e,t)=>{let n=(()=>e.extensionManager.extensions.find(e=>"deep-focus"===e.name))();if(!n)return{isFocused:(0,r.computed)(()=>!1),isFocusedLeaf:(0,r.computed)(()=>!1)};let a=n.storage.focusedRanges;return{isFocused:(0,r.computed)(()=>a.value.some(e=>isFocusFullyInNode(t.value,e))),isFocusedLeaf:(0,r.computed)(()=>{let e=a.value.at(-1);return!!e&&isFocusFullyInNode(t.value,e)})}})(t.editor,(0,r.computed)(()=>[t.pos,t.pos+t.node.nodeSize])),i=(0,r.computed)(()=>{switch(t.toolbar){case"focus":return o.value;case"focus-leaf":return a.value;case"hover":return!0;default:return!1}});return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)([t.$style.wrapper,{[t.$style.editable]:n.value,[t.$style["no-border"]]:e.noBorder,[t.$style["show-toolbar"]]:i.value}])},[!e.clickThrough&&n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:(0,r.normalizeClass)(t.$style.blocked)},[(0,r.renderSlot)(t.$slots,"default")],2)):(0,r.renderSlot)(t.$slots,"default",{key:1}),a[0]||(a[0]=(0,r.createTextVNode)()),t.$slots.toolbar&&n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:(0,r.normalizeClass)([t.$style.toolbar,t.$style[e.side],{[t.$style["no-background"]]:e.noBackground}])},[(0,r.renderSlot)(t.$slots,"toolbar")],2)):(0,r.createCommentVNode)("",!0)],2))}}),ef=n(66262);let eg={};eg.$style={wrapper:"edit-overlay-wrapper",editable:"edit-overlay-editable","no-border":"edit-overlay-no-border","show-toolbar":"edit-overlay-show-toolbar",toolbar:"edit-overlay-toolbar",left:"edit-overlay-left",right:"edit-overlay-right",top:"edit-overlay-top",bottom:"edit-overlay-bottom",blocked:"edit-overlay-blocked","overlay-background":"edit-overlay-overlay-background","no-background":"edit-overlay-no-background"};var eb=(0,ef.A)(em,[["__cssModules",eg]]),e_=n(68496),eE=n(35896);let ew=["id"];var ev=(0,r.defineComponent)({__name:"chessboard-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){(0,r.useCssVars)(e=>({e4008d84:i.value}));let t=e,o=window.chesscom.features.includes("tiptap_viewer_html_rendering"),handleEditClick=async()=>{await Promise.all([n.e(2024),n.e(7847),n.e(8079)]).then(n.bind(n,68420));window.postMessage({action:"showDiagramEditor",diagramId:t.node.attrs.diagramId},window.location.origin)},handleDeleteClick=()=>{t.deleteNode()},handleMessage=e=>{e.origin===window.location.origin&&"diagramCreated"===e.data.action&&handleChessboardModalInsert(e.data.diagramId)};(0,r.onMounted)(()=>{window.addEventListener("message",handleMessage)});(0,r.onBeforeUnmount)(()=>{window.removeEventListener("message",handleMessage)});let handleChessboardModalInsert=e=>{t.editor.chain().focus().insertContent({type:"chessboard",attrs:{diagramId:e}}).run()},i=(0,r.computed)(()=>`url(${(0,eE.J)("/bundles/web/images/diagram-placeholder.png")})`);return(n,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[t.editor.isEditable&&!(0,r.unref)(o)?((0,r.openBlock)(),(0,r.createBlock)(eb,{key:0,class:(0,r.normalizeClass)(n.$style["edit-overlay"]),"click-through":"",editor:t.editor,node:e.node,pos:e.getPos()},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(e_.A,{size:"small",variant:"ghost",icon:{variant:"glyph",name:"tool-pencil"},onClick:handleEditClick}),i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{size:"small",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},onClick:handleDeleteClick})]),default:(0,r.withCtx)(()=>[i[1]||(i[1]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(n.$style["diagram-placeholder"])},null,2)]),_:1},8,["class","editor","node","pos"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,id:`chess_com_diagram_0_${e.node.attrs.diagramId}`,class:(0,r.normalizeClass)("chessDiagramDiv")},null,8,ew))]),_:1}))}});let ek={};ek.$style={"edit-overlay":"chessboard-view-edit-overlay","diagram-placeholder":"chessboard-view-diagram-placeholder"};let eS=(0,ef.A)(ev,[["__cssModules",ek]]),ey=ep.extend({addNodeView:()=>(0,a.$7)(eS)});var eA=(e=>(e.YouTube="youtube",e.TikTok="tiktok",e.X="x",e.Twitch="twitch",e.Tenor="tenor",e))(eA||{});let isYouTubeEmbed=e=>"youtube"===e.type,isTikTokEmbed=e=>"tiktok"===e.type,isXEmbed=e=>"x"===e.type,isTwitchEmbed=e=>"twitch"===e.type,isTenorEmbed=e=>"tenor"===e.type;class eN{}var eR=(e=>(e.Channel="channel",e.Vod="vod",e))(eR||{});class eC extends eN{parse(e){if("www.twitch.tv"!==e.hostname&&"clips.twitch.tv"!==e.hostname)return null;let t=e.pathname.split("/");if(e.pathname.startsWith("/embed")){let t=e.searchParams.get("clip");return t?{id:t,type:"vod"}:null}if(e.pathname.startsWith("/videos")){let e=t[t.length-1];return e?{id:e,type:"vod"}:null}if(t.length<2)return null;let[,n,,r]=t;return r?{id:r,type:"vod"}:n?{id:n,type:"channel"}:null}}let embed_validations_validateAttributes=e=>"object"==typeof e&&null!==e&&"type"in e&&"data"in e&&"width"in e&&"height"in e&&"string"==typeof e.type&&!!((e,t)=>{switch(e){case eA.YouTube:return((e,t)=>e===eA.YouTube&&"object"==typeof t&&null!==t&&"id"in t&&"start"in t&&"string"==typeof t.id&&!!t.id&&!!/^[a-zA-Z0-9_-]{11,12}$/.test(t.id)&&(null===t.start||"number"==typeof t.start)&&(null===t.start||!(t.start<0)&&!!Number.isFinite(t.start))&&!0)(e,t);case eA.TikTok:return((e,t)=>e===eA.TikTok&&"object"==typeof t&&null!==t&&"id"in t&&"author"in t&&"string"==typeof t.id&&!!t.id&&!!/^[0-9]{1,20}$/.test(t.id)&&"string"==typeof t.author&&!!t.author&&!!/^[a-zA-Z0-9_.]{2,24}$/.test(t.author)&&!0)(e,t);case eA.X:return((e,t)=>e===eA.X&&"object"==typeof t&&null!==t&&"id"in t&&"author"in t&&"hideCard"in t&&"hideThread"in t&&"dnt"in t&&"hideMedia"in t&&"string"==typeof t.id&&!!t.id&&!!/^[0-9]{1,20}$/.test(t.id)&&"string"==typeof t.author&&!!t.author&&!!/^[a-zA-Z0-9_]{1,15}$/.test(t.author)&&"boolean"==typeof t.hideCard&&"boolean"==typeof t.hideThread&&"boolean"==typeof t.dnt&&"boolean"==typeof t.hideMedia&&!0)(e,t);case eA.Twitch:return((e,t)=>{if(e!==eA.Twitch||"object"!=typeof t||null===t||!("id"in t)||!("type"in t)||"string"!=typeof t.id||!t.id||t.type!==eR.Channel&&t.type!==eR.Vod)return!1;if(t.type===eR.Channel){if(!/^[a-zA-Z0-9_]{4,25}$/.test(t.id))return!1}else if(t.type===eR.Vod&&!/^[a-zA-Z0-9_]{1,100}$/.test(t.id))return!1;return!0})(e,t);case eA.Tenor:return((e,t)=>e===eA.Tenor&&"object"==typeof t&&null!==t&&"id"in t&&"string"==typeof t.id&&!!t.id&&!!/^[a-zA-Z0-9_-]{1,200}$/.test(t.id)&&!0)(e,t);default:return!1}})(e.type,e.data)&&(null===e.width||"number"==typeof e.width)&&(null===e.width||!(e.width<=0)&&!!Number.isFinite(e.width))&&(null===e.height||"number"==typeof e.height)&&(null===e.height||!(e.height<=0)&&!!Number.isFinite(e.height))&&!0;class eV extends eN{parse(e){if("tenor.com"!==e.hostname||!e.pathname.startsWith("/view/"))return null;let[,,t]=e.pathname.split("/");return t?{id:t}:null}}class eT extends eN{parse(e){if("www.tiktok.com"!==e.hostname)return null;let[,t,,n]=e.pathname.split("/");return n&&t?{id:n,author:t.replace("@","")}:null}}class eU extends eN{parse(e){if("x.com"!==e.hostname&&"twitter.com"!==e.hostname)return null;let[,t,,n]=e.pathname.split("/");return n&&t?{id:n,author:t,hideCard:!0,hideThread:!1,dnt:!1,hideMedia:!1}:null}}class eI extends eN{parseWatch(e){let t=new URLSearchParams(e.search),n=t.get("v"),r=t.get("t");if(!n)return null;let a=Number.parseInt(r||"",10);return{id:n,start:Number.isNaN(a)?null:a}}parseEmbed(e){let[,,t]=e.pathname.split("/"),n=e.searchParams.get("t");if(!t)return null;let r=Number.parseInt(n||"",10);return{id:t,start:Number.isNaN(r)?null:r}}parseYoutuBe(e){let[,t]=e.pathname.split("/"),n=e.searchParams.get("t");if(!t)return null;let r=Number.parseInt(n||"",10);return{id:t,start:Number.isNaN(r)?null:r}}parse(e){if("www.youtube.com"!==e.hostname&&"youtube.com"!==e.hostname&&"youtu.be"!==e.hostname&&"www.youtube-nocookie.com"!==e.hostname)return null;switch(!0){case("www.youtube.com"===e.hostname||"youtube.com"===e.hostname)&&"/watch"===e.pathname:return this.parseWatch(e);case"www.youtube.com"===e.hostname&&e.pathname.startsWith("/embed/"):return this.parseEmbed(e);case"youtu.be"===e.hostname:return this.parseYoutuBe(e);case"www.youtube-nocookie.com"===e.hostname&&e.pathname.startsWith("/embed/"):return this.parseEmbed(e);default:return null}}}let ex=[{type:eA.YouTube,parser:new eI},{type:eA.TikTok,parser:new eT},{type:eA.X,parser:new eU},{type:eA.Twitch,parser:new eC},{type:eA.Tenor,parser:new eV}],getFirstValidUrl=e=>{for(let t of e)try{return new URL(t)}catch(e){}return null},parseEmbed=e=>{let t=getFirstValidUrl(e.split(/\s+/));t||(t=getFirstValidUrl(Array.from(e.matchAll(/https?:\/\/[\da-z.-]+.[a-z.]{2,6}[/\w .-?\-&]*\/?/giu),e=>e[0])));if(!t)return null;for(let{type:e,parser:n}of ex){let r=n.parse(t);if(r)return{type:e,data:r}}return null},eB=i.bP.create({name:"embed",group:"block",selectable:!0,atom:!0,addAttributes:()=>({type:{default:null,parseHTML:e=>{let t=e.getAttribute("src");if(!t)return null;let n=parseEmbed(t);return n?n.type:null}},data:{default:null,parseHTML:e=>{let t=e.getAttribute("src");if(!t)return null;let n=parseEmbed(t);return n?n.data:null}},width:{default:null,parseHTML:e=>{let t=Number.parseInt(e.style.width||e.getAttribute("width")||"",10);return Number.isNaN(t)?null:t}},height:{default:null,parseHTML:e=>{let t=Number.parseInt(e.style.height||e.getAttribute("height")||"",10);return Number.isNaN(t)?null:t}}}),parseHTML:()=>[{tag:"iframe[src]",getAttrs:e=>{let t=e.getAttribute("src");return!!t&&!!parseEmbed(t)&&null}}],renderHTML:({node:e})=>embed_validations_validateAttributes(e.attrs)?["iframe",e.attrs]:["iframe",{src:""}]}),eF=["src","title"];var eM=(0,r.defineComponent)({__name:"tenor-embed",props:{data:{}},setup(e){let t=(0,r.computed)(()=>{let t=e.data.id.split("-");return t[t.length-1]});return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{src:`https://tenor.com/embed/${t.value}?playertype=card`,title:e.$trans("Tenor GIF"),class:(0,r.normalizeClass)(e.$style.embed),frameborder:"0",scrolling:"no",credentialless:""},null,10,eF))}});let eO={};eO.$style={embed:"tenor-embed-embed"};let eL=(0,ef.A)(eM,[["__cssModules",eO]]),eD=["src","title"];var ez=(0,r.defineComponent)({__name:"tiktok-embed",props:{data:{}},setup:e=>(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{src:`https://www.tiktok.com/player/v1/${e.data.id}?rel=0`,title:t.$trans("TikTok video player"),class:(0,r.normalizeClass)(t.$style.embed),frameborder:"0",scrolling:"no",credentialless:""},null,10,eD))});let eP={};eP.$style={embed:"tiktok-embed-embed"};let eG=(0,ef.A)(ez,[["__cssModules",eP]]),eZ=["title","src"],eW=["title","src"];var ej=(0,r.defineComponent)({__name:"twitch-embed",props:{data:{}},setup(e){let t=(0,r.computed)(()=>window.location.hostname),n=(0,r.computed)(()=>e.data?.type===eR.Vod);return(a,o)=>n.value?((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{key:0,title:a.$trans("Twitch VOD"),src:`https://clips.twitch.tv/embed?clip=${e.data.id}&parent=${t.value}`,class:(0,r.normalizeClass)(a.$style.embed),frameborder:"0",allowfullscreen:"",scrolling:"no",credentialless:""},null,10,eZ)):((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{key:1,title:a.$trans("Twitch Channel"),src:`https://player.twitch.tv/?channel=${e.data.id}&parent=${t.value}`,class:(0,r.normalizeClass)(a.$style.embed),frameborder:"0",allowfullscreen:"",scrolling:"no",credentialless:""},null,10,eW))}});let eY={};eY.$style={embed:"twitch-embed-embed"};let eH=(0,ef.A)(ej,[["__cssModules",eY]]),eX=["src","title"];var eQ=(0,r.defineComponent)({__name:"x-embed",props:{data:{}},setup(e){let t=e,n=(0,r.computed)(()=>new URLSearchParams({id:t.data.id,align:"center",conversation:"none",dnt:t.data?.dnt?"true":"false",hideCard:t.data?.hideCard?"true":"false",hideMedia:t.data?.hideMedia?"true":"false",hideThread:t.data?.hideThread?"true":"false",origin:window.location.hostname}).toString());return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{src:`https://platform.twitter.com/embed/Tweet.html?${n.value}`,title:e.$trans("X Post"),class:(0,r.normalizeClass)(e.$style.embed),frameborder:"0",credentialless:"",scrolling:"no"},null,10,eX))}});let eJ={};eJ.$style={embed:"x-embed-embed"};let eK=(0,ef.A)(eQ,[["__cssModules",eJ]]),e$=["src","title"];var eq=(0,r.defineComponent)({__name:"youtube-embed",props:{data:{}},setup(e){let t=e,n=(0,r.computed)(()=>{let e={};return t.data.start&&(e.t=`${t.data.start}`),new URLSearchParams(e).toString()}),a=(0,r.computed)(()=>`https://www.youtube-nocookie.com/embed/${t.data.id}${n.value?"?":""}${n.value}`);return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("iframe",{src:a.value,title:e.$trans("YouTube video player"),class:(0,r.normalizeClass)(e.$style.embed),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",frameborder:"0",scrolling:"no",credentialless:"",allowfullscreen:""},null,10,e$))}});let e0={};e0.$style={embed:"youtube-embed-embed"};let e1=(0,ef.A)(eq,[["__cssModules",e0]]),e2={key:1};var e9=(0,r.defineComponent)({__name:"embed-renderer",props:{data:{}},setup(e){let t=e,n=(0,r.computed)(()=>embed_validations_validateAttributes(t.data)),a=(0,r.computed)(()=>{if(!n.value)return null;switch(!0){case isYouTubeEmbed(t.data):return e1;case isTikTokEmbed(t.data):return eG;case isTenorEmbed(t.data):return eL;case isTwitchEmbed(t.data):return eH;case isXEmbed(t.data):return eK;default:return null}}),o=(0,r.computed)(()=>{if(!n.value)return null;switch(!0){case isYouTubeEmbed(t.data):case isTikTokEmbed(t.data):case isTenorEmbed(t.data):case isTwitchEmbed(t.data):case isXEmbed(t.data):return t.data.data;default:return null}});return(e,t)=>a.value&&o.value&&n.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(a.value),{key:0,data:o.value},null,8,["data"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",e2,(0,r.toDisplayString)(e.$trans("We cannot recognize this embed type. Try embedding from a different site!")),1))}}),e5=(0,r.defineComponent)({__name:"mouse-resizer",props:{modelValue:{},gridRounding:{default:()=>[25,25]},minSize:{default:()=>[100,100]},forceAspectRatio:{default:0},editor:{}},emits:["update:modelValue"],setup(e,{emit:t}){(0,r.useCssVars)(e=>({v2d00b7c1:c.value,f32c6828:l.value}));let n=(0,r.useTemplateRef)("element"),a=e,o=(0,r.ref)(a.editor.isEditable),handleEditorUpdate=()=>{o.value=a.editor.isEditable};(0,r.onMounted)(()=>{a.editor.on("update",handleEditorUpdate)});(0,r.onBeforeUnmount)(()=>{a.editor.off("update",handleEditorUpdate)});let i=(0,r.ref)(!1),applyValueConstraints=e=>{let t=[Math.round(e[0]/a.gridRounding[0])*a.gridRounding[0],Math.round(e[1]/a.gridRounding[1])*a.gridRounding[1]],n=[Math.max(t[0],a.minSize[0]),Math.max(t[1],a.minSize[1])];return a.forceAspectRatio&&(n[0]/n[1]>a.forceAspectRatio?n[0]=Math.round(n[1]*a.forceAspectRatio):n[1]=Math.round(n[0]/a.forceAspectRatio)),n},handleResizeObserver=([e])=>{i.value&&(e=>{if(e[0]<a.minSize[0]||e[1]<a.minSize[1])return;let n=applyValueConstraints(e);(n[0]!==a.modelValue[0]||n[1]!==a.modelValue[1])&&t("update:modelValue",n)})([e.contentRect.width,e.contentRect.height])},s=(0,r.ref)(null),handleMousedown=()=>{i.value=!0},handleMouseup=()=>{i.value=!1;handleModelChange(a.modelValue)},handleModelChange=e=>{if(!n.value||i.value)return;let t=applyValueConstraints(e);n.value.style=`width: ${t[0]}px; height: ${t[1]}px;`},l=(0,r.computed)(()=>`${a.minSize[0]}px`),c=(0,r.computed)(()=>`${a.minSize[1]}px`);return(0,r.watch)(()=>a.modelValue,handleModelChange),(0,r.onMounted)(()=>{if(n.value){handleModelChange(a.modelValue);s.value=new ResizeObserver(handleResizeObserver);s.value.observe(n.value);n.value.addEventListener("mousedown",handleMousedown);n.value.addEventListener("mouseup",handleMouseup)}}),(0,r.onBeforeUnmount)(()=>{if(s.value){s.value.disconnect();n.value?.removeEventListener("mousedown",handleMousedown);n.value?.removeEventListener("mouseup",handleMouseup)}}),(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{ref_key:"element",ref:n,class:(0,r.normalizeClass)([e.$style.component,{[e.$style.editable]:o.value}])},[(0,r.renderSlot)(e.$slots,"default")],2))}});let e3={};e3.$style={component:"mouse-resizer-component",editable:"mouse-resizer-editable"};var e4=(0,ef.A)(e5,[["__cssModules",e3]]),e8=(0,r.defineComponent)({__name:"embed-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=e,n=(0,r.computed)(()=>t.node.attrs),handleResize=([e,n])=>{t.updateAttributes({width:e,height:n})},handleDeleteClick=()=>{t.deleteNode()};return(o,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[(0,r.createVNode)(e4,{editor:t.editor,"onUpdate:modelValue":handleResize,"model-value":[e.node.attrs.width,e.node.attrs.height]},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{editor:t.editor,node:e.node,pos:e.getPos()},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(e_.A,{size:"small",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},onClick:handleDeleteClick})]),default:(0,r.withCtx)(()=>[i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{style:(0,r.normalizeStyle)({width:`${e.node.attrs.width}px`,height:`${e.node.attrs.height}px`})},[(0,r.createVNode)(e9,{data:n.value},null,8,["data"])],4)]),_:1},8,["editor","node","pos"])]),_:1},8,["editor","model-value"])]),_:1}))}});let e6=eB.extend({addNodeView:()=>(0,a.$7)(e8)}),e7=["cringe","grin","happy","meh","nervous","Rage","sad","shock","surprise","tear","tongue","wink","frustrated","cry","evil","happy","bk","bq","br","bb","bn","bp","wk","wq","wr","wb","wn","wp","0-0-0","0-0","archive","articles","blitz","blogs","board","bullet","castle","chessbook","chesspawn","clock","clubs","coaches","computer","daily","devices","diamond","draw","explorer","fish","fork","forums","friends","gold","half","lessons","live","mate","messages","news","openings","peshka","pin","platinum","playhand","resign","settings","skewer","stats","tactics","themes","thumbdown","thumbup","tournaments","trophies","videos","votechess"],te=i.bP.create({name:"emoji",group:"inline",inline:!0,selectable:!0,atom:!0,priority:101,addAttributes:()=>({emoji:{parseHTML:e=>e.getAttribute("src")?.split("/").pop()?.split(".")[0]||null}}),parseHTML:()=>[{tag:"img[src]",getAttrs:e=>{let{src:t}=e;try{let e=new URL(t);if(!t.includes("/emotions/img/")||!e.hostname.includes("www.chess"))return!1;let n=e.pathname.split("/").pop()?.split(".")[0];if(!n||!e7.includes(n))return!1;return null}catch(e){return!1}}}],renderHTML:({node:e})=>["img",{src:`https://www.chess.com/js/tiny_mce/plugins/emotions/img/${e.attrs.emoji}.gif`}]});var tn=n(29905),to=n(34619);let ti=["src","srcset","alt"];var tl=(0,r.defineComponent)({__name:"emoji-renderer",props:{emoji:{}},setup(e){let t=e,n=(0,r.computed)(()=>`/bundles/web/images/icons/smileys/1x/${t.emoji}.png`),a=(0,r.computed)(()=>`/bundles/web/images/icons/smileys/2x/${t.emoji}.png`),o=(0,r.computed)(()=>`${n.value}, ${a.value} 2x`),i=(0,r.computed)(()=>(0,to.pw)("%emoji% emoji",{"%emoji%":t.emoji})),s=(0,r.computed)(()=>t.emoji);return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("img",{src:n.value,srcset:o.value,alt:i.value,height:"16px",width:"16px"},null,8,ti),t[0]||(t[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tn.A,{"for-previous-element":"",text:s.value},null,8,["text"])]))}}),tc=(0,r.defineComponent)({__name:"emoji-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(t,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{class:(0,r.normalizeClass)([t.$style["node-view"],t.$style["controlled-size"]])},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(tl,{class:(0,r.normalizeClass)(t.$style.renderer),emoji:e.node.attrs.emoji},null,8,["class","emoji"])]),_:1},8,["class"]))});let td={};td.$style={"node-view":"emoji-view-node-view",renderer:"emoji-view-renderer"};let tu=(0,ef.A)(tc,[["__cssModules",td]]),th=te.extend({addNodeView:()=>(0,a.$7)(tu)}),tp=[8,12,14,16,18,24,32,48,72],tm=i.YY.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>{let t=e.style.fontSize?.replace(/['"]+/g,"").replace(/px/g,"");if(!t)return null;let n=(e=>tp.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t,tp[0]))(Number.parseInt(t,10));return`${n}px`},renderHTML:e=>(e=>"object"==typeof e&&null!==e&&(!("fontSize"in e)||null===e.fontSize||"string"==typeof e.fontSize&&!!e.fontSize&&(e=>{let t=document.createElement("span");return t.style.fontSize=e,""!==t.style.fontSize})(e.fontSize)))(e)?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands:()=>({setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()})}),image_validations_validateAttributes=e=>{if("object"!=typeof e||null===e||!("src"in e)||!("alt"in e)||!("width"in e)||!("height"in e)||!e.src||"string"!=typeof e.src||(!e.alt||"string"!=typeof e.alt)&&""!==e.alt&&null!==e.alt||null!==e.width&&"number"!=typeof e.width||null!==e.height&&"number"!=typeof e.height)return!1;try{let t=new URL(e.src);if("http:"===t.protocol||"https:"===t.protocol||"data:"===t.protocol)return!0;return!1}catch{return!1}},tf=i.bP.create({name:"image",group:"inline",selectable:!0,atom:!0,inline:!0,priority:100,addAttributes:()=>({src:{default:null,parseHTML:e=>e.getAttribute("src")},alt:{default:null,parseHTML:e=>e.getAttribute("alt")},width:{default:250,parseHTML:e=>Number.parseInt(e.getAttribute("width")??"250",10)},height:{default:250,parseHTML:e=>Number.parseInt(e.getAttribute("height")??"250",10)}}),parseHTML:()=>[{tag:"img[src]",getAttrs:e=>!!e.hasAttribute("src")&&null},{tag:"a[href] > img[src]",mark:"link"}],renderHTML:({node:e})=>image_validations_validateAttributes(e.attrs)?["img",{src:e.attrs.src,alt:e.attrs.alt,width:e.attrs.width,height:e.attrs.height}]:["img",{src:"",alt:"",width:250,height:250}]});var tg=n(18560);let tb=["src","alt","width","height"];var t_=(0,r.defineComponent)({__name:"image-renderer",props:{src:{},alt:{},width:{default:"100%"},height:{default:void 0}},setup(e){(0,r.useCssVars)(e=>({v5c89dd91:a.value}));let t=e,n=(0,r.computed)(()=>t.width?`${t.width}px`:"100%"),a=(0,r.computed)(()=>t.height?`${t.height}px`:"100%");return(t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("img",{class:(0,r.normalizeClass)(t.$style.root),src:e.src,alt:e.alt,width:n.value,height:e.height},null,10,tb))}});let tE={};tE.$style={root:"image-renderer-root"};var tw=(0,ef.A)(t_,[["__cssModules",tE]]),tv=n(61999),tk=n(23618),tS=n(91180),ty=n(24747),tA=n(43146);let getImageDimensions=e=>"string"==typeof e?(e=>new Promise(t=>{let n=new Image;n.onload=()=>{t({width:n.width,height:n.height})};n.onerror=()=>{t(null)};n.src=e}))(e):(e=>new Promise(t=>{let n=new FileReader;n.onload=()=>{let e=new Image;e.onload=()=>{t({width:e.width,height:e.height})};e.onerror=()=>{t(null)};"string"==typeof n.result?e.src=n.result:t(null)};n.onerror=()=>{t(null)};n.readAsDataURL(e)}))(e),tN={key:1,class:"cc-text-large-bold"},tR=375;var tC=(0,r.defineComponent)({__name:"configure-image",props:{modelValue:{default:()=>({src:"",alt:"",width:null,height:null})}},emits:["hide","insert"],setup(e,{emit:t}){let n=e,a=t,handleHide=()=>{a("hide")},o=(0,r.ref)(),i=(0,r.ref)(n.modelValue.alt),s=(0,r.computed)(()=>o.value?URL.createObjectURL(o.value):n.modelValue.src),handleInsert=async()=>{let e=n.modelValue.src,t={width:n.modelValue.width??tR,height:n.modelValue.height??tR};if(o.value){let n=new Blob([o.value]),r=tk.A.generate("web_tinymce_callback_imageupload"),a=new FormData;a.append("file",n);let i=await tv.A.post(r,a);e=i.data?.imageUrl;t=await getImageDimensions(o.value)??t}let r=t.width/t.height,s=tR,l=Math.round(s/r);if(e){a("insert",{src:e,alt:i.value,width:s,height:l});a("hide")}},handleUploadInputChange=e=>{let t=e.target,n=t.files?.[0];if(n){o.value=n;t.onchange=null}},handleUpload=()=>{let e=document.createElement("input");e.type="file";e.accept="image/*";e.onchange=handleUploadInputChange;e.click()};return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ty.A,{onHide:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(tA.A,{onClose:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$trans("Insert image")),1)]),_:1}),t[7]||(t[7]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.root,e.$style["flex-column"],e.$style["flex-between"]])},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.card,e.$style.fit,e.$style["flex-row"]])},[(0,r.createElementVNode)("label",{class:(0,r.normalizeClass)([[e.$style.label,e.$style["mr-8"]],"cc-text-medium-bold"]),for:"upload"},(0,r.toDisplayString)(e.$trans("Upload")),3),t[1]||(t[1]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{onClick:handleUpload,id:"upload",label:e.$trans("Choose file"),variant:"secondary"},null,8,["label"])],2),t[4]||(t[4]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.card,e.$style.preview])},[s.value?((0,r.openBlock)(),(0,r.createBlock)(tw,{key:0,src:s.value,alt:i.value},null,8,["src","alt"])):((0,r.openBlock)(),(0,r.createElementBlock)("span",tN,(0,r.toDisplayString)(e.$trans("Image preview")),1))],2),t[5]||(t[5]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.card,e.$style["flex-column"]])},[(0,r.createElementVNode)("label",{class:(0,r.normalizeClass)([[e.$style.label,e.$style["mb-8"]],"cc-text-medium-bold"]),for:"alt"},(0,r.toDisplayString)(e.$trans("Alt text")),3),t[2]||(t[2]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{id:"alt",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e)},null,8,["modelValue"])],2),t[6]||(t[6]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.card,e.$style["flex-row"],e.$style["flex-between"],e.$style["flex-gap"]])},[(0,r.createVNode)(e_.A,{onClick:handleHide,class:(0,r.normalizeClass)(e.$style["flex-1"]),label:e.$trans("Cancel"),variant:"secondary"},null,8,["class","label"]),t[3]||(t[3]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{onClick:handleInsert,class:(0,r.normalizeClass)(e.$style["flex-1"]),disabled:!o.value&&!n.modelValue.src,label:e.$trans("Insert"),variant:"primary"},null,8,["class","disabled","label"])],2)],2)]),_:1}))}});let tV={};tV.$style={root:"configure-image-root",card:"configure-image-card",label:"configure-image-label","flex-row":"configure-image-flex-row","flex-column":"configure-image-flex-column","flex-right":"configure-image-flex-right","flex-between":"configure-image-flex-between","flex-gap":"configure-image-flex-gap","flex-1":"configure-image-flex-1","mb-8":"configure-image-mb-8","mr-8":"configure-image-mr-8",fit:"configure-image-fit",editor:"configure-image-editor",preview:"configure-image-preview"};let tT=(0,ef.A)(tC,[["__cssModules",tV]]),tU=["href","target","rel"];var tI=(0,r.defineComponent)({__name:"image-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=(0,r.computed)(()=>i.node.attrs),n=(0,r.computed)(()=>image_validations_validateAttributes(t.value)),o=(0,r.computed)(()=>i.node.marks.find(e=>"link"===e.type.name)?.attrs),i=e,handleDeleteClick=()=>{i.deleteNode()},handleResize=([e,t])=>{let n=i.node.attrs.width/i.node.attrs.height,r=e/t,a=t;r!==n&&(a=Math.round(e/n));i.updateAttributes({width:e,height:a})},s=(0,r.ref)(!1),handleEditClick=()=>{s.value=!0},handleImageInsert=e=>{i.updateAttributes(e);s.value=!1},handleImageHide=()=>{s.value=!1};return(0,r.onMounted)(async()=>{if(!n.value||!t.value.width||!t.value.height||!t.value.src)return;let e=await getImageDimensions(t.value.src);if(!e)return;let r=e.width/e.height;if(r===i.node.attrs.width/i.node.attrs.height)return;let a={width:t.value.width||e.width,height:t.value.width?Math.round(t.value.width/r):e.height};(a.width!==i.node.attrs.width||a.height!==i.node.attrs.height)&&i.updateAttributes(a)}),(l,c)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[n.value?((0,r.openBlock)(),(0,r.createBlock)(e4,{key:0,editor:i.editor,"onUpdate:modelValue":handleResize,"model-value":[e.node.attrs.width,e.node.attrs.height],"force-aspect-ratio":e.node.attrs.width/e.node.attrs.height},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{editor:i.editor,pos:e.getPos(),node:e.node,toolbar:"hover","no-border":""},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"tool-pencil"},"icon-size":16,tooltip:l.$trans("Edit image"),onClick:handleEditClick},null,8,["tooltip"]),c[0]||(c[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:l.$trans("Delete image"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[c[1]||(c[1]=(0,r.createTextVNode)()),o.value?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,href:o.value.href,target:o.value.target,rel:o.value.rel},[(0,r.createVNode)(tw,{src:e.node.attrs.src,alt:e.node.attrs.alt,width:e.node.attrs.width,height:e.node.attrs.height},null,8,["src","alt","width","height"])],8,tU)):((0,r.openBlock)(),(0,r.createBlock)(tw,{key:1,src:e.node.attrs.src,alt:e.node.attrs.alt,width:e.node.attrs.width,height:e.node.attrs.height},null,8,["src","alt","width","height"]))]),_:1},8,["editor","pos","node"])]),_:1},8,["editor","model-value","force-aspect-ratio"])):(0,r.createCommentVNode)("",!0),c[2]||(c[2]=(0,r.createTextVNode)()),s.value?((0,r.openBlock)(),(0,r.createBlock)(tT,{key:1,"model-value":t.value,onInsert:handleImageInsert,onHide:handleImageHide},null,8,["model-value"])):(0,r.createCommentVNode)("",!0)]),_:1}))}});let tx=tf.extend({addNodeView:()=>(0,a.$7)(tI)}),tB=40,tF=i.YY.create({name:"indent",addOptions:()=>({types:["paragraph"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{indentLevel:{default:null,parseHTML:e=>{let t=e.style.textIndent?.replace(/['"]+/g,"").replace("px","");return Number.isNaN(Number.parseInt(t,10))?0:Number.parseInt(t,10)/tB},renderHTML:e=>(e=>"object"==typeof e&&null!==e&&(!("indentLevel"in e)||null===e.indentLevel||!("number"!=typeof e.indentLevel||Number.isNaN(e.indentLevel))&&!(e.indentLevel<0)))(e)?{style:`text-indent: ${e.indentLevel*tB}px;`}:{}}}}]},addCommands:()=>({increaseIndent:()=>({chain:e,state:t})=>{let n=t.selection.$anchor.node(),r=n?.attrs.indentLevel||0;return e().updateAttributes("paragraph",{indentLevel:Math.min(r+1,10)}).run()},decreaseIndent:()=>({chain:e,state:t})=>{let n=t.selection.$anchor.node(),r=n?.attrs.indentLevel||0;return e().updateAttributes("paragraph",{indentLevel:Math.max(r-1,0)}).removeEmptyTextStyle().run()}})}),tM="numeric",tO="ascii",tL="alpha",tD="asciinumeric",tz="alphanumeric",tP="domain",tG="emoji",tZ="whitespace";function registerGroup(e,t){return e in t||(t[e]=[]),t[e]}function addToGroups(e,t,n){if(t[tM]){t[tD]=!0;t[tz]=!0}if(t[tO]){t[tD]=!0;t[tL]=!0}t[tD]&&(t[tz]=!0);t[tL]&&(t[tz]=!0);t[tz]&&(t[tP]=!0);t[tG]&&(t[tP]=!0);for(let r in t){let t=registerGroup(r,n);0>t.indexOf(e)&&t.push(e)}}function flagsForToken(e,t){let n={};for(let r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function State(e=null){this.j={};this.jr=[];this.jd=null;this.t=e}State.groups={};State.prototype={accepts(){return!!this.t},go(e){let t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){let r=t.jr[n][0],a=t.jr[n][1];if(a&&r.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let a=0;a<e.length;a++)this.tt(e[a],t,n,r)},tr(e,t,n,r){let a;r=r||State.groups;if(t&&t.j)a=t;else{a=new State(t);n&&r&&addToGroups(t,n,r)}return this.jr.push([e,a]),a},ts(e,t,n,r){let a=this,o=e.length;if(!o)return a;for(let t=0;t<o-1;t++)a=a.tt(e[t]);return a.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||State.groups;let a=this;if(t&&t.j)return a.j[e]=t,t;let o=t,i,s=a.go(e);if(s){Object.assign((i=new State).j,s.j);i.jr.push.apply(i.jr,s.jr);i.jd=s.jd;i.t=s.t}else i=new State;if(o){r&&(i.t&&"string"==typeof i.t?addToGroups(o,Object.assign(flagsForToken(i.t,r),n),r):n&&addToGroups(o,n,r));i.t=o}return a.j[e]=i,i}};let ta=(e,t,n,r,a)=>e.ta(t,n,r,a),tr=(e,t,n,r,a)=>e.tr(t,n,r,a),ts=(e,t,n,r,a)=>e.ts(t,n,r,a),tt=(e,t,n,r,a)=>e.tt(t,n,r,a),tW="WORD",tj="UWORD",tY="ASCIINUMERICAL",tH="ALPHANUMERICAL",tX="LOCALHOST",tQ="TLD",tJ="UTLD",tK="SCHEME",t$="SLASH_SCHEME",tq="NUM",t0="WS",t1="NL",t2="OPENBRACE",t9="CLOSEBRACE",t5="OPENBRACKET",t3="CLOSEBRACKET",t4="OPENPAREN",t8="CLOSEPAREN",t6="OPENANGLEBRACKET",t7="CLOSEANGLEBRACKET",ne="FULLWIDTHLEFTPAREN",nt="FULLWIDTHRIGHTPAREN",nn="LEFTCORNERBRACKET",nr="RIGHTCORNERBRACKET",na="LEFTWHITECORNERBRACKET",no="RIGHTWHITECORNERBRACKET",ni="FULLWIDTHLESSTHAN",ns="FULLWIDTHGREATERTHAN",nl="AMPERSAND",nc="APOSTROPHE",nd="ASTERISK",nu="AT",nh="BACKSLASH",np="BACKTICK",nm="CARET",nf="COLON",ng="COMMA",nb="DOLLAR",n_="DOT",nE="EQUALS",nw="EXCLAMATION",nv="HYPHEN",nk="PERCENT",nS="PIPE",ny="PLUS",nA="POUND",nN="QUERY",nR="QUOTE",nC="FULLWIDTHMIDDLEDOT",nV="SEMI",nT="SLASH",nU="TILDE",nI="UNDERSCORE",nx="EMOJI",nB="SYM";var nF=Object.freeze({__proto__:null,ALPHANUMERICAL:tH,AMPERSAND:nl,APOSTROPHE:nc,ASCIINUMERICAL:tY,ASTERISK:nd,AT:nu,BACKSLASH:nh,BACKTICK:np,CARET:nm,CLOSEANGLEBRACKET:t7,CLOSEBRACE:t9,CLOSEBRACKET:t3,CLOSEPAREN:t8,COLON:nf,COMMA:ng,DOLLAR:nb,DOT:n_,EMOJI:nx,EQUALS:nE,EXCLAMATION:nw,FULLWIDTHGREATERTHAN:ns,FULLWIDTHLEFTPAREN:ne,FULLWIDTHLESSTHAN:ni,FULLWIDTHMIDDLEDOT:nC,FULLWIDTHRIGHTPAREN:nt,HYPHEN:nv,LEFTCORNERBRACKET:nn,LEFTWHITECORNERBRACKET:na,LOCALHOST:tX,NL:t1,NUM:tq,OPENANGLEBRACKET:t6,OPENBRACE:t2,OPENBRACKET:t5,OPENPAREN:t4,PERCENT:nk,PIPE:nS,PLUS:ny,POUND:nA,QUERY:nN,QUOTE:nR,RIGHTCORNERBRACKET:nr,RIGHTWHITECORNERBRACKET:no,SCHEME:tK,SEMI:nV,SLASH:nT,SLASH_SCHEME:t$,SYM:nB,TILDE:nU,TLD:tQ,UNDERSCORE:nI,UTLD:tJ,UWORD:tj,WORD:tW,WS:t0});let nM=/[a-z]/,nO=/\p{L}/u,nL=/\p{Emoji}/u,nD=/\d/,nz=/\s/,nP="\r",nG="\n",nZ="",nW=null,nj=null;function init$2(e=[]){let t={};State.groups=t;let n=new State;null==nW&&(nW=decodeTlds("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2"));null==nj&&(nj=decodeTlds("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222"));tt(n,"'",nc);tt(n,"{",t2);tt(n,"}",t9);tt(n,"[",t5);tt(n,"]",t3);tt(n,"(",t4);tt(n,")",t8);tt(n,"<",t6);tt(n,">",t7);tt(n,"",ne);tt(n,"",nt);tt(n,"",nn);tt(n,"",nr);tt(n,"",na);tt(n,"",no);tt(n,"",ni);tt(n,"",ns);tt(n,"&",nl);tt(n,"*",nd);tt(n,"@",nu);tt(n,"`",np);tt(n,"^",nm);tt(n,":",nf);tt(n,",",ng);tt(n,"$",nb);tt(n,".",n_);tt(n,"=",nE);tt(n,"!",nw);tt(n,"-",nv);tt(n,"%",nk);tt(n,"|",nS);tt(n,"+",ny);tt(n,"#",nA);tt(n,"?",nN);tt(n,'"',nR);tt(n,"/",nT);tt(n,";",nV);tt(n,"~",nU);tt(n,"_",nI);tt(n,"\\",nh);tt(n,"",nC);let r=tr(n,nD,tq,{[tM]:!0});tr(r,nD,r);let a=tr(r,nM,tY,{[tD]:!0}),o=tr(r,nO,tH,{[tz]:!0}),i=tr(n,nM,tW,{[tO]:!0});tr(i,nD,a);tr(i,nM,i);tr(a,nD,a);tr(a,nM,a);let s=tr(n,nO,tj,{[tL]:!0});tr(s,nM);tr(s,nD,o);tr(s,nO,s);tr(o,nD,o);tr(o,nM);tr(o,nO,o);let l=tt(n,nG,t1,{[tZ]:!0}),c=tt(n,nP,t0,{[tZ]:!0}),d=tr(n,nz,t0,{[tZ]:!0});tt(n,nZ,d);tt(c,nG,l);tt(c,nZ,d);tr(c,nz,d);tt(d,nP);tt(d,nG);tr(d,nz,d);tt(d,nZ,d);let u=tr(n,nL,nx,{[tG]:!0});tt(u,"#");tr(u,nL,u);tt(u,"",u);let h=tt(u,"");tt(h,"#");tr(h,nL,u);let p=[[nM,i],[nD,a]],m=[[nM,null],[nO,s],[nD,o]];for(let e=0;e<nW.length;e++)fastts(n,nW[e],tQ,tW,p);for(let e=0;e<nj.length;e++)fastts(n,nj[e],tJ,tj,m);addToGroups(tQ,{tld:!0,ascii:!0},t);addToGroups(tJ,{utld:!0,alpha:!0},t);fastts(n,"file",tK,tW,p);fastts(n,"mailto",tK,tW,p);fastts(n,"http",t$,tW,p);fastts(n,"https",t$,tW,p);fastts(n,"ftp",t$,tW,p);fastts(n,"ftps",t$,tW,p);addToGroups(tK,{scheme:!0,ascii:!0},t);addToGroups(t$,{slashscheme:!0,ascii:!0},t);e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){let r=e[t][0],a=e[t][1]?{scheme:!0}:{slashscheme:!0};r.indexOf("-")>=0?a[tP]=!0:nM.test(r)?nD.test(r)?a[tD]=!0:a[tO]=!0:a[tM]=!0;ts(n,r,r,a)}return ts(n,"localhost",tX,{ascii:!0}),n.jd=new State(nB),{start:n,tokens:Object.assign({groups:t},nF)}}function run$1(e,t){let n=stringToArray(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,a=[],o=0,i=0;for(;i<r;){let s=e,l=null,c=0,d=null,u=-1,h=-1;for(;i<r&&(l=s.go(n[i]));){s=l;if(s.accepts()){u=0;h=0;d=s}else if(u>=0){u+=n[i].length;h++}c+=n[i].length;o+=n[i].length;i++}o-=u;i-=h;c-=u;a.push({t:d.t,v:t.slice(o-c,o),s:o-c,e:o})}return a}function stringToArray(e){let t=[],n=e.length,r=0;for(;r<n;){let a,o=e.charCodeAt(r),i=o<55296||o>56319||r+1===n||(a=e.charCodeAt(r+1))<56320||a>57343?e[r]:e.slice(r,r+2);t.push(i);r+=i.length}return t}function fastts(e,t,n,r,a){let o,i=t.length;for(let n=0;n<i-1;n++){let i=t[n];if(e.j[i])o=e.j[i];else{(o=new State(r)).jr=a.slice();e.j[i]=o}e=o}return(o=new State(n)).jr=a.slice(),e.j[t[i-1]]=o,o}function decodeTlds(e){let t=[],n=[],r=0;for(;r<e.length;){let a=0;for(;"0123456789".indexOf(e[r+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+a),10);t>0;t--)n.pop();r+=a}else{n.push(e[r]);r++}}return t}let nY={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(e,t=null){let n=Object.assign({},nY);e&&(n=Object.assign(n,e instanceof Options?e.o:e));let r=n.ignoreTags,a=[];for(let e=0;e<r.length;e++)a.push(r[e].toUpperCase());this.o=n;t&&(this.defaultRender=t);this.ignoreTags=a}Options.prototype={o:nY,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){let r=null!=t,a=this.o[e];return a&&("object"==typeof a?"function"==typeof(a=n.t in a?a[n.t]:nY[e])&&r&&(a=a(t,n)):"function"==typeof a&&r&&(a=a(t,n.t,n))),a},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){let t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function noop(e){return e}function MultiToken(e,t){this.t="token";this.v=e;this.tk=t}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){let t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=nY.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){let t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),a=e.get("tagName",n,t),o=this.toFormattedString(e),i={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return i.href=r,s&&(i.class=s),l&&(i.target=l),c&&(i.rel=c),d&&Object.assign(i,d),{tagName:a,attributes:i,content:o,eventListeners:u}}};function createTokenClass(e,t){class n extends MultiToken{constructor(t,n){super(t,n);this.t=e}}for(let e in t)n.prototype[e]=t[e];return n.t=e,n}let nH=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),nX=createTokenClass("text"),nQ=createTokenClass("nl"),nJ=createTokenClass("url",{isLink:!0,toHref(e=nY.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){let e=this.tk;return e.length>=2&&e[0].t!==tX&&e[1].t===nf}}),makeState=e=>new State(e);function init$1({groups:e}){let t=e.domain.concat([nl,nd,nu,nh,np,nm,nb,nE,nv,tq,nk,nS,ny,nA,nT,nB,nU,nI]),n=[nc,nf,ng,n_,nw,nk,nN,nR,nV,t6,t7,t2,t9,t3,t5,t4,t8,ne,nt,nn,nr,na,no,ni,ns],r=[nl,nc,nd,nh,np,nm,nb,nE,nv,t2,t9,nk,nS,ny,nA,nN,nT,nB,nU,nI],a=makeState(),o=tt(a,nU);ta(o,r,o);ta(o,e.domain,o);let i=makeState(),s=makeState(),l=makeState();ta(a,e.domain,i);ta(a,e.scheme,s);ta(a,e.slashscheme,l);ta(i,r,o);ta(i,e.domain,i);let c=tt(i,nu);tt(o,nu,c);tt(s,nu,c);tt(l,nu,c);let d=tt(o,n_);ta(d,r,o);ta(d,e.domain,o);let u=makeState();ta(c,e.domain,u);ta(u,e.domain,u);let h=tt(u,n_);ta(h,e.domain,u);let p=makeState(nH);ta(h,e.tld,p);ta(h,e.utld,p);tt(c,tX,p);let m=tt(u,nv);tt(m,nv,m);ta(m,e.domain,u);ta(p,e.domain,u);tt(p,n_,h);tt(p,nv,m);ta(tt(p,nf),e.numeric,nH);let f=tt(i,nv),g=tt(i,n_);tt(f,nv,f);ta(f,e.domain,i);ta(g,r,o);ta(g,e.domain,i);let b=makeState(nJ);ta(g,e.tld,b);ta(g,e.utld,b);ta(b,e.domain,i);ta(b,r,o);tt(b,n_,g);tt(b,nv,f);tt(b,nu,c);let _=tt(b,nf),E=makeState(nJ);ta(_,e.numeric,E);let w=makeState(nJ),v=makeState();ta(w,t,w);ta(w,n,v);ta(v,t,w);ta(v,n,v);tt(b,nT,w);tt(E,nT,w);let k=tt(s,nf),S=tt(l,nf),y=tt(S,nT),A=tt(y,nT);ta(s,e.domain,i);tt(s,n_,g);tt(s,nv,f);ta(l,e.domain,i);tt(l,n_,g);tt(l,nv,f);ta(k,e.domain,w);tt(k,nT,w);tt(k,nN,w);ta(A,e.domain,w);ta(A,t,w);tt(A,nT,w);let N=[[t2,t9],[t5,t3],[t4,t8],[t6,t7],[ne,nt],[nn,nr],[na,no],[ni,ns]];for(let e=0;e<N.length;e++){let[r,a]=N[e],o=tt(w,r);tt(v,r,o);tt(o,a,w);let i=makeState(nJ);ta(o,t,i);let s=makeState();ta(o,n);ta(i,t,i);ta(i,n,s);ta(s,t,i);ta(s,n,s);tt(i,a,w);tt(s,a,w)}return tt(a,tX,b),tt(a,t1,nQ),{start:a,tokens:nF}}function run(e,t,n){let r=n.length,a=0,o=[],i=[];for(;a<r;){let s=e,l=null,c=null,d=0,u=null,h=-1;for(;a<r&&!(l=s.go(n[a].t));)i.push(n[a++]);for(;a<r&&(c=l||s.go(n[a].t));){l=null;s=c;if(s.accepts()){h=0;u=s}else h>=0&&h++;a++;d++}if(h<0){a-=d;if(a<r){i.push(n[a]);a++}}else{if(i.length>0){o.push(initMultiToken(nX,t,i));i=[]}a-=h;d-=h;let e=u.t,r=n.slice(a-d,a);o.push(initMultiToken(e,t,r))}}return i.length>0&&o.push(initMultiToken(nX,t,i)),o}function initMultiToken(e,t,n){let r=n[0].s,a=n[n.length-1].e;return new e(t.slice(r,a),n)}let nK="undefined"!=typeof console&&console&&console.warn||(()=>{}),n$={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function linkify_reset(){return State.groups={},n$.scanner=null,n$.parser=null,n$.tokenQueue=[],n$.pluginQueue=[],n$.customSchemes=[],n$.initialized=!1,n$}function registerCustomProtocol(e,t=!1){n$.initialized&&nK(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`);if(!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);n$.customSchemes.push([e,t])}function init(){n$.scanner=init$2(n$.customSchemes);for(let e=0;e<n$.tokenQueue.length;e++)n$.tokenQueue[e][1]({scanner:n$.scanner});n$.parser=init$1(n$.scanner.tokens);for(let e=0;e<n$.pluginQueue.length;e++)n$.pluginQueue[e][1]({scanner:n$.scanner,parser:n$.parser});return n$.initialized=!0,n$}function tokenize(e){return n$.initialized||init(),run(n$.parser.start,e,run$1(n$.scanner.start,e))}tokenize.scan=run$1;function find(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t;t=null}let r=new Options(n),a=tokenize(e),o=[];for(let e=0;e<a.length;e++){let n=a[e];n.isLink&&(!t||n.t===t)&&r.check(n)&&o.push(n.toFormattedObject(r))}return o}function isValidLinkStructure(e){return 1===e.length?e[0].isLink:3===e.length&&!!e[1].isLink&&["()","[]"].includes(e[0].value+e[2].value)}function autolink(e){return new _.k_({key:new _.hs("autolink"),appendTransaction:(t,n,r)=>{let a=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),o=t.some(e=>e.getMeta("preventAutolink"));if(!a||o)return;let{tr:s}=r,l=(0,i.T7)(n.doc,[...t]);(0,i.FF)(l).forEach(({newRange:t})=>{let n,a,o=(0,i.Nx)(r.doc,t,e=>e.isTextblock);if(o.length>1){n=o[0];a=r.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ")}else if(o.length&&r.doc.textBetween(t.from,t.to," "," ").endsWith(" ")){n=o[0];a=r.doc.textBetween(n.pos,t.to,void 0," ")}if(n&&a){let t=a.split(" ").filter(e=>""!==e);if(t.length<=0)return!1;let o=t[t.length-1],l=n.pos+a.lastIndexOf(o);if(!o)return!1;let c=tokenize(o).map(t=>t.toObject(e.defaultProtocol));if(!isValidLinkStructure(c))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).forEach(t=>{(0,i.hO)(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||s.addMark(t.from,t.to,e.type.create({href:t.href}))})}});if(s.steps.length)return s}})}function clickHandler(e){return new _.k_({key:new _.hs("handleClickLink"),props:{handleClick:(t,n,r)=>{var a,o;if(0!==r.button||!t.editable)return!1;let s=r.target,l=[];for(;"DIV"!==s.nodeName;){l.push(s);s=s.parentNode}if(!l.find(e=>"A"===e.nodeName))return!1;let c=(0,i.gu)(t.state,e.type.name),d=r.target,u=null!=(a=null==d?void 0:d.href)?a:c.href,h=null!=(o=null==d?void 0:d.target)?o:c.target;return!!d&&!!u&&(window.open(u,h),!0)}}})}function pasteHandler(e){return new _.k_({key:new _.hs("handlePasteLink"),props:{handlePaste:(t,n,r)=>{let{state:a}=t,{selection:o}=a,{empty:i}=o;if(i)return!1;let s="";r.content.forEach(e=>{s+=e.textContent});let l=find(s,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===s);return!!s&&!!l&&(e.editor.commands.setMark(e.type,{href:l.href}),!0)}}})}let nq=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function isAllowedUri(e,t){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{let t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(nq,"").match(RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}let n0=i.CU.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(e=>{if("string"==typeof e)return void registerCustomProtocol(e);registerCustomProtocol(e.scheme,e.optionalSlashes)})},onDestroy(){linkify_reset()},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{let t=e.getAttribute("href");return!!t&&!!isAllowedUri(t,this.options.protocols)&&null}}]},renderHTML({HTMLAttributes:e}){return isAllowedUri(e.href,this.options.protocols)?["a",(0,i.KV)(this.options.HTMLAttributes,e),0]:["a",(0,i.KV)(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,i.Zc)({find:e=>{let t=[];if(e){let{validate:n}=this.options,r=find(e).filter(e=>e.isLink&&n(e.value));r.length&&r.forEach(e=>t.push({text:e.value,data:{href:e.href},index:e.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){let e=[];return this.options.autolink&&e.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),!0===this.options.openOnClick&&e.push(clickHandler({type:this.type})),this.options.linkOnPaste&&e.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),normalizeUrl=e=>{if(!e)return"";let t=e.toLowerCase(),n=e;t.startsWith("http://")||t.startsWith("https://")?t.startsWith("http://")&&(n=`https://${e.slice(7)}`):n=`https://${e}`;try{return new URL(n).toString()}catch{return null}},n1=n0.extend({addAttributes:()=>({href:{renderHTML:e=>{let t=normalizeUrl(e.href||"");return t?{href:t}:{}}},target:{default:"_blank",parseHTML:e=>e.getAttribute("target")||"_blank"},rel:{default:"noopener noreferrer nofollow",parseHTML:e=>e.getAttribute("rel")||"noopener noreferrer nofollow"},class:{default:"link",parseHTML:e=>e.getAttribute("class")||"link"}})}).configure({autolink:!0,linkOnPaste:!0,defaultProtocol:"https",openOnClick:!0,validate:e=>(e=>{if("object"!=typeof e||null===e||!("href"in e)||!("target"in e)||!("rel"in e)||!("class"in e)||!e.href||"string"!=typeof e.href||!e.target||"_blank"!==e.target||!e.rel||"noopener noreferrer nofollow"!==e.rel||!e.class||"link"!==e.class)return!1;try{let t=new URL(e.href);if(!t.protocol.startsWith("http"))return!1;return!0}catch{return!1}})({href:normalizeUrl(e),target:"_blank",rel:"noopener noreferrer nofollow",class:"link"}),protocols:["http","https"]});function findSuggestionMatch(e){var t;let{char:n,allowSpaces:r,allowedPrefixes:a,startOfLine:o,$position:s}=e,l=(0,i.GG)(n),c=RegExp(`\\s${l}$`),d=o?"^":"",u=r?RegExp(`${d}${l}.*?(?=\\s${l}|$)`,"gm"):RegExp(`${d}(?:^)?${l}[^\\s${l}]*`,"gm"),h=(null==(t=s.nodeBefore)?void 0:t.isText)&&s.nodeBefore.text;if(!h)return null;let p=s.pos-h.length,m=Array.from(h.matchAll(u)).pop();if(!m||void 0===m.input||void 0===m.index)return null;let f=m.input.slice(Math.max(0,m.index-1),m.index),g=RegExp(`^[${null==a?void 0:a.join("")}\0]?$`).test(f);if(null!==a&&!g)return null;let b=p+m.index,_=b+m[0].length;if(r&&c.test(h.slice(_-1,_+1))){m[0]+=" ";_+=1}return b<s.pos&&_>=s.pos?{range:{from:b,to:_},query:m[0].slice(n.length),text:m[0]}:null}let n2=new _.hs("suggestion");function Suggestion({pluginKey:e=n2,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:a=[" "],startOfLine:o=!1,decorationTag:i="span",decorationClass:s="suggestion",command:l=()=>null,items:c=()=>[],render:d=()=>({}),allow:u=()=>!0,findSuggestionMatch:h=findSuggestionMatch}){let p,m=null==d?void 0:d(),f=new _.k_({key:e,view(){return{update:async(e,n)=>{var r,a,o,i,s,d,u;let h=null==(r=this.key)?void 0:r.getState(n),f=null==(a=this.key)?void 0:a.getState(e.state),g=h.active&&f.active&&h.range.from!==f.range.from,b=!h.active&&f.active,_=h.active&&!f.active,E=!b&&!_&&h.query!==f.query,w=b||g&&E,v=E||g,k=_||g&&E;if(!w&&!v&&!k)return;let S=k&&!w?h:f,y=e.dom.querySelector(`[data-decoration-id="${S.decorationId}"]`);p={editor:t,range:S.range,query:S.query,text:S.text,items:[],command:e=>l({editor:t,range:S.range,props:e}),decorationNode:y,clientRect:y?()=>{var n;let{decorationId:r}=null==(n=this.key)?void 0:n.getState(t.state),a=e.dom.querySelector(`[data-decoration-id="${r}"]`);return(null==a?void 0:a.getBoundingClientRect())||null}:null};w&&(null==(o=null==m?void 0:m.onBeforeStart)||o.call(m,p));v&&(null==(i=null==m?void 0:m.onBeforeUpdate)||i.call(m,p));(v||w)&&(p.items=await c({editor:t,query:S.query}));k&&(null==(s=null==m?void 0:m.onExit)||s.call(m,p));v&&(null==(d=null==m?void 0:m.onUpdate)||d.call(m,p));w&&(null==(u=null==m?void 0:m.onStart)||u.call(m,p))},destroy:()=>{var e;p&&(null==(e=null==m?void 0:m.onExit)||e.call(m,p))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(e,i,s,l){let{isEditable:c}=t,{composing:d}=t.view,{selection:p}=e,{empty:m,from:f}=p,g={...i};g.composing=d;if(c&&(m||t.view.composing)){(f<i.range.from||f>i.range.to)&&!d&&!i.composing&&(g.active=!1);let e=h({char:n,allowSpaces:r,allowedPrefixes:a,startOfLine:o,$position:p.$from}),s=`id_${Math.floor(0xffffffff*Math.random())}`;if(e&&u({editor:t,state:l,range:e.range,isActive:i.active})){g.active=!0;g.decorationId=i.decorationId?i.decorationId:s;g.range=e.range;g.query=e.query;g.text=e.text}else g.active=!1}else g.active=!1;if(!g.active){g.decorationId=null;g.range={from:0,to:0};g.query=null;g.text=null}return g}},props:{handleKeyDown(e,t){var n;let{active:r,range:a}=f.getState(e.state);return!!r&&((null==(n=null==m?void 0:m.onKeyDown)?void 0:n.call(m,{view:e,event:t,range:a}))||!1)},decorations(e){let{active:t,range:n,decorationId:r}=f.getState(e);return t?A.zF.create(e.doc,[A.NZ.inline(n.from,n.to,{nodeName:i,class:s,"data-decoration-id":r})]):null}}});return f}let n9=new _.hs("mention"),n5=i.bP.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({options:e,node:t}){var n;return`${e.suggestion.char}${null!=(n=t.attrs.label)?n:t.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:t}){var n;return["span",(0,i.KV)(this.HTMLAttributes,e.HTMLAttributes),`${e.suggestion.char}${null!=(n=t.attrs.label)?n:t.attrs.id}`]},suggestion:{char:"@",pluginKey:n9,command:({editor:e,range:t,props:n})=>{var r,a,o;let i=e.view.state.selection.$to.nodeAfter;(null==(r=null==i?void 0:i.text)?void 0:r.startsWith(" "))&&(t.to+=1);e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run();null==(o=null==(a=e.view.dom.ownerDocument.defaultView)?void 0:a.getSelection())||o.collapseToEnd()},allow:({state:e,range:t})=>{let n=e.doc.resolve(t.from),r=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){if(void 0!==this.options.renderLabel)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",(0,i.KV)({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})];let n={...this.options};n.HTMLAttributes=(0,i.KV)({"data-type":this.name},this.options.HTMLAttributes,t);let r=this.options.renderHTML({options:n,node:e});return"string"==typeof r?["span",(0,i.KV)({"data-type":this.name},this.options.HTMLAttributes,t),r]:r},renderText({node:e}){return void 0!==this.options.renderLabel?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:e})):this.options.renderText({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1,{selection:r}=t,{empty:a,anchor:o}=r;return!!a&&(t.doc.nodesBetween(o-1,o,(t,r)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",r,r+t.nodeSize),!1}),n)})}},addProseMirrorPlugins(){return[Suggestion({editor:this.editor,...this.options.suggestion})]}}),isUrl=e=>{try{return new URL(e),!0}catch{return!1}},mention_validations_validateAttributes=e=>!("object"!=typeof e||null===e||!("id"in e)||"string"!=typeof e.id&&null!==e.id||!("username"in e)||"string"!=typeof e.username&&null!==e.username||null===e.id&&null===e.username||"string"==typeof e.id&&isUrl(e.id)||"string"==typeof e.username&&isUrl(e.username)),n3=n5.extend({priority:101,addAttributes:()=>({username:{default:null,parseHTML:e=>e.getAttribute("data-username")||null},id:{default:null,parseHTML:e=>e.getAttribute("data-uuid")||null}}),parseHTML:()=>[{tag:"span[data-username]",getAttrs:e=>!!e.getAttribute("data-username")&&null}],renderHTML:({HTMLAttributes:e})=>mention_validations_validateAttributes(e)?["span",{class:"username v-user-popover","data-popup":"hover","data-username":e.username,"data-has-user-popover":!0,"data-uuid":e.id||null},`@${e.username}`]:["span"]});var n4=n(22404),n8=n(11305),n6=n(59469);let n7=tk.A.generate("web_user_callback_username_search"),re=tk.A.generate("web_user_callback_id_to_user_data"),searchByUuid=async e=>{try{let t=await tv.A.get(re,{params:{uuids:[e]}});return t.data?[t.data]:[]}catch{return[]}},searchByUsername=async e=>{try{if(window.chesscom.features.includes("friends_search_fe_username_search_tiptap")){let{data:t}=await (0,n6.d)({query:e});return t}return(await tv.A.get(n7,{params:{query:e}})).data}catch{return[]}},searchUser=async e=>"uuid"in e&&e.uuid?searchByUuid(e.uuid):"username"in e&&e.username?searchByUsername(e.username):[],rt={key:0};var rn=(0,r.defineComponent)({__name:"mention-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=window.context.route,n=e,o=(0,r.ref)(n.node.attrs.username||""),i=(0,r.computed)(()=>mention_validations_validateAttributes(n.node.attrs));return(0,r.onMounted)(async()=>{if(!n.node.attrs.id)return;let[e]=await searchUser({uuid:n.node.attrs.id});o.value=e?.[n.node.attrs.id]?.username}),(e,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{class:(0,r.normalizeClass)(e.$style.mention)},{default:(0,r.withCtx)(()=>[o.value&&i.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",rt,[n[0]||(n[0]=(0,r.createTextVNode)("\n      @",-1)),(0,r.createVNode)(n8.A,{"click-behavior":"openProfileInNewTab","current-route":(0,r.unref)(t),username:o.value},null,8,["current-route","username"])])):i.value?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:(0,r.normalizeClass)(e.$style.loading)},[n[1]||(n[1]=(0,r.createTextVNode)("\n      @",-1)),(0,r.createVNode)(n4.A,{size:"small",variant:"blocks"})],2)):(0,r.createCommentVNode)("",!0)]),_:1},8,["class"]))}});let rr={};rr.$style={mention:"mention-view-mention",loading:"mention-view-loading"};let ra=(0,ef.A)(rn,[["__cssModules",rr]]);var ro=n(38720),ri=n(26222),rs=n(82825),rl=(0,r.defineComponent)({__name:"mention-list",props:{command:{},anchorRect:{},query:{},itemLimit:{default:6}},setup(e,{expose:t}){(0,r.useCssVars)(e=>({v50c365ee:a.value,v50c365ec:o.value}));let n=e,a=(0,r.computed)(()=>`${window.scrollX+n.anchorRect.x}px`),o=(0,r.computed)(()=>`${window.scrollY+n.anchorRect.y+24}px`),i=(0,r.ref)(0),s=(0,r.ref)([]),handleQueryChange=async e=>{if(e.length<3){s.value=[];return}let t=await (0,rs.U)(e);s.value=t.data?.slice(0,n.itemLimit)||[]};return(0,r.watch)(()=>n.query,(0,ro.n)(handleQueryChange,300,{edges:["trailing"]})),t({onKeyDown:({event:e})=>"ArrowUp"===e.key?(i.value=Math.max(0,i.value-1),!0):"ArrowDown"===e.key?(i.value=Math.min(Math.min(n.itemLimit,s.value.length-1),i.value+1),!0):"Enter"===e.key&&(n.command({id:s.value[i.value].uuid}),!0)}),(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:"body"},[s.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,role:"listbox",class:(0,r.normalizeClass)([e.$style.menu,"cc-popover-lighter"])},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(s.value,(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ri.A,{key:e.uuid,role:"option",onClick:()=>(e=>{n.command({id:e.uuid})})(e),selected:t===i.value,label:e.username},null,8,["onClick","selected","label"]))),128))],2)):(0,r.createCommentVNode)("",!0)]))}});let rc={};rc.$style={menu:"mention-list-menu"};let rd=(0,ef.A)(rl,[["__cssModules",rc]]),ru=n3.configure({suggestion:{render(){let e=null;return{onStart(t){e=new a.CS(rd,{props:{command:t.command,anchorRect:t.clientRect?.(),query:t.query},editor:t.editor})},onUpdate(t){e?.updateProps({command:t.command,anchorRect:t.clientRect?.(),query:t.query})},onKeyDown:t=>!!e&&("Escape"===t.event.key||e.ref?.onKeyDown(t)),onExit(){e?.destroy()}}}}}).extend({addNodeView:()=>(0,a.$7)(ra)}),rh=i.bP.create({name:"preformatted",group:"block",content:"text*",code:!0,defining:!0,parseHTML:()=>[{tag:"pre"}],renderHTML:()=>["pre",0],addCommands:()=>({togglePreformatted:()=>({commands:e})=>e.toggleNode("preformatted","paragraph")})}),rp=i.bP.create({name:"quote",group:"block",content:"quoteHeader quoteBody",defining:!0,priority:101,parseHTML:()=>[{tag:"div.fquote"}],renderHTML:({HTMLAttributes:e})=>["div",(0,i.KV)(e,{class:"fquote"}),0]});var rf=(0,r.defineComponent)({__name:"node-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=e,handleDeleteClick=()=>{t.deleteNode()};return(n,o)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"",editor:t.editor,node:e.node,pos:e.getPos()},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:n.$trans("Delete quote"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[o[0]||(o[0]=(0,r.createTextVNode)()),(0,r.createElementVNode)("blockquote",{class:(0,r.normalizeClass)(n.$style.blockquote)},[(0,r.createVNode)((0,r.unref)(a.$p))],2)]),_:1},8,["editor","node","pos"])]),_:1}))}});let rg={};rg.$style={blockquote:"node-view-blockquote",icon:"node-view-icon"};let rb=(0,ef.A)(rf,[["__cssModules",rg]]),r_=rp.extend({addNodeView:()=>(0,a.$7)(rb)}),rE=i.bP.create({name:"quote-header",group:"quoteHeader",content:"inline*",isolating:!0,priority:101,parseHTML:()=>[{tag:"span.quoted-user"}],renderHTML:({HTMLAttributes:e})=>["span",(0,i.KV)(e,{class:"quoted-user"}),0]});var rw=n(21752),rv=(0,r.defineComponent)({__name:"node-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("h3",{class:(0,r.normalizeClass)(e.$style.author)},[(0,r.createVNode)(rw.A,{variant:"glyph",name:"layout-text-quote",class:(0,r.normalizeClass)(e.$style.icon),size:16},null,8,["class"]),t[0]||(t[0]=(0,r.createTextVNode)()),(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.header)},null,8,["class"])],2)]),_:1}))});let rk={};rk.$style={header:"node-view-header",author:"node-view-author"};let rS=(0,ef.A)(rv,[["__cssModules",rk]]),ry=rE.extend({addNodeView:()=>(0,a.$7)(rS)}),rA=i.bP.create({name:"quote-body",group:"quoteBody",content:"block*",priority:101,parseHTML:()=>[{tag:"div.quoted-text"}],renderHTML:({HTMLAttributes:e})=>["div",(0,i.KV)(e,{class:"quoted-text"}),0]});var rN=(0,r.defineComponent)({__name:"node-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.body)},null,8,["class"])]),_:1}))});let rR={};rR.$style={body:"node-view-body"};let rC=(0,ef.A)(rN,[["__cssModules",rR]]),rV=rA.extend({addNodeView:()=>(0,a.$7)(rC)}),rT=i.CU.create({name:"script",addAttributes:()=>({type:{default:null,renderHTML:e=>(e=>"object"==typeof e&&null!==e&&"type"in e&&"string"==typeof e.type&&("sub"===e.type||"sup"===e.type))(e)?{type:e.type}:{}}}),parseHTML:()=>[{tag:"sub",getAttrs:()=>({type:"sub"})},{tag:"sup",getAttrs:()=>({type:"sup"})}],renderHTML:({HTMLAttributes:e})=>["sub"===e.type?"sub":"sup",{...e,type:void 0},0],addCommands(){return{setSubscript:()=>({chain:e,state:t})=>t.selection.$from.pos!==t.selection.$to.pos?e().setMark(this.name,{type:"sub"}).run():e().selectParentNode().setMark(this.name,{type:"sub"}).run(),setSuperscript:()=>({chain:e,state:t})=>t.selection.$from.pos!==t.selection.$to.pos?e().setMark(this.name,{type:"sup"}).run():e().selectParentNode().setMark(this.name,{type:"sup"}).run(),unsetScript:()=>({chain:e,state:t})=>t.selection.$from.pos!==t.selection.$to.pos?e().unsetMark(this.name).run():e().selectParentNode().unsetMark(this.name).run()}}}),backgroundColor=()=>({default:void 0,parseHTML:e=>{let t=e.style.backgroundColor;return t||null},renderHTML:e=>null!==e.backgroundColor?{style:`background-color: ${e.backgroundColor};`}:{}}),borderColor=()=>({default:void 0,parseHTML:e=>{let t=e.style.borderColor;return t||null},renderHTML:e=>null!==e.borderColor?{style:`border-color: ${e.borderColor};`}:{}}),borderStyle=()=>({default:void 0,parseHTML:e=>{let t=e.style.borderStyle;return t||null},renderHTML:e=>null!==e.borderStyle?{style:`border-style: ${e.borderStyle};`}:{}}),borderWidth=()=>({default:void 0,parseHTML:e=>{let t=e.style.borderWidth;return t&&t.endsWith("px")?Number.parseFloat(t):null},renderHTML:e=>null!==e.borderWidth?{style:`border-width: ${e.borderWidth}px;`}:{}}),height=(e=null,t="height")=>({default:e??void 0,parseHTML:e=>{let t=e.style.height;return t&&t.endsWith("px")?Number.parseFloat(t):null},renderHTML:e=>null!==e[t]?{style:`height: ${e[t]}px;`}:{}}),parseWidthValue=(e,t)=>{let n=e.trim();if(n.endsWith("%")){let e=Number.parseFloat(n.slice(0,-1));return e>0&&!Number.isNaN(e)?e:null}let r=Number.parseFloat(n);if(!Number.isNaN(r)&&r>0)return r;let a=t.closest("table");if(!a)return null;let o=a.querySelector("tr");if(!o)return null;let i=o.querySelectorAll("td, th").length;return i>0?100/i:null},width=(e=null,t="width")=>({default:e??void 0,parseHTML:e=>{let t=e.style.width;if(t)return parseWidthValue(t,e);let n=e.getAttribute("width");return n?parseWidthValue(n,e):null},renderHTML:e=>null!==e[t]?{style:`width: ${e[t]}%;`}:{}}),css_validations_isValidColor=e=>(e=>"string"==typeof e&&/^#([0-9A-Fa-f]{3}){1,2}$/.test(e))(e)||(e=>"string"==typeof e&&/^rgb\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)$/.test(e))(e)||(e=>"string"==typeof e&&/^rgba\(\s*(?:\d{1,3}\s*,\s*){3}(0|1|0?\.\d+)\s*\)$/.test(e))(e)||(e=>"string"==typeof e&&/^hsl\(\s*\d{1,3}\s*,\s*(?:\d{1,3}%\s*,\s*){2}\d{1,3}%\s*\)$/.test(e))(e)||(e=>"string"==typeof e&&/^hsla\(\s*\d{1,3}\s*,\s*(?:\d{1,3}%\s*,\s*){2}(0|1|0?\.\d+)\s*\)$/.test(e))(e),table_validations_validateAttributes=e=>!("object"!=typeof e||null===e||"width"in e&&void 0!==e.width&&("number"!=typeof e.width||!(e=>"number"==typeof e&&!Number.isNaN(e)&&e>=0&&e<=100)(e.width))||"height"in e&&void 0!==e.height&&("number"!=typeof e.height||Number.isNaN(e.height)||e.height<0)||"cellspacing"in e&&void 0!==e.cellspacing&&"number"!=typeof e.cellspacing||"cellpadding"in e&&void 0!==e.cellpadding&&"number"!=typeof e.cellpadding||"alignment"in e&&void 0!==e.alignment&&("string"!=typeof e.alignment||!["left","center","right"].includes(e.alignment))||"borderWidth"in e&&void 0!==e.borderWidth&&("number"!=typeof e.borderWidth||Number.isNaN(e.borderWidth)))&&(!("borderColor"in e)||void 0===e.borderColor||"string"==typeof e.borderColor&&!!css_validations_isValidColor(e.borderColor))&&(!("borderStyle"in e)||void 0===e.borderStyle||"string"==typeof e.borderStyle&&!!["solid","dashed","dotted","double","groove","ridge","inset","outset","none","hidden"].includes(e.borderStyle))&&(!("backgroundColor"in e)||void 0===e.backgroundColor||"string"==typeof e.backgroundColor&&!!css_validations_isValidColor(e.backgroundColor))&&!0,rU=i.bP.create({name:"table",group:"block",content:"tableCaption? tableHead? tableBody tableFoot?",defining:!0,priority:101,addAttributes:()=>({width:width(100),height:height(),cellspacing:(()=>({default:void 0,parseHTML:e=>{let t=e.getAttribute("cellspacing"),n=t?Number.parseInt(t,10):null;return Number.isNaN(n)?null:n},renderHTML:e=>null!==e.cellSpacing?{cellspacing:String(e.cellSpacing)}:{}}))(),cellpadding:(()=>({default:void 0,parseHTML:e=>{let t=e.getAttribute("cellpadding"),n=t?Number.parseInt(t,10):null;return Number.isNaN(n)?null:n},renderHTML:e=>null!==e.cellPadding?{cellpadding:String(e.cellPadding)}:{}}))(),alignment:(()=>({default:void 0,parseHTML:e=>e.getAttribute("align")||"left",renderHTML:e=>null!==e.alignment?{align:e.alignment}:{}}))(),borderWidth:borderWidth(),borderStyle:borderStyle(),borderColor:borderColor(),backgroundColor:backgroundColor()}),parseHTML:()=>[{tag:"table"}],renderHTML:({HTMLAttributes:e})=>table_validations_validateAttributes(e)?["table",e,0]:["table",{},0],addCommands(){return{insertTable:({rows:e,cols:t})=>({commands:n})=>n.insertContent({type:this.name,content:[{type:"tableCaption",content:[{type:"paragraph",content:[]}]},{type:"tableHead",content:[{type:"tableHeaderRow",content:Array.from({length:t}).map(()=>({type:"tableHeaderCell",content:[]}))}]},{type:"tableBody",content:Array.from({length:e}).map(()=>({type:"tableDataRow",content:Array.from({length:t}).map(()=>({type:"tableDataCell",content:[{type:"paragraph",content:[]}]}))}))}]}),deleteTable:()=>({commands:e})=>e.deleteNode(this.name)}}});var rI=n(69890),rx=n(2211),rB=n(64749),rF=n(81650),rM=(0,r.defineComponent)({__name:"pop-over",props:(0,r.mergeModels)({id:{},placement:{default:"right"},anchorVisible:{type:Boolean,default:!0},trigger:{default:()=>["hover"]},hideOn:{default:()=>["click-outside","blur","scroll","window-resize"]},offset:{default:()=>[0,0]},autoClose:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},exclusive:{type:Boolean,default:!1}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){(0,r.useCssVars)(e=>({v29e8d388:i.value,c82dfc9c:d.value,v64613712:u.value,v300bc890:h.value}));let t=(0,r.useModel)(e,"modelValue"),n=e,a=(0,r.useTemplateRef)("popover"),o=(0,r.useTemplateRef)("anchor"),i=(0,r.computed)(()=>`--${n.id}-anchor`),s={position:"absolute",top:"0",left:"0"},l=(0,r.ref)(s),c=(0,r.ref)(""),d=(0,r.computed)(()=>{if(c.value)return c.value;switch(n.placement){case"bottom":return"end span-end";case"left":return"span-end start";default:return"span-end end"}}),u=(0,r.computed)(()=>n.anchorVisible?"anchors-visible":"always"),handleClick=()=>{if(!n.disabled&&n.trigger.includes("click")){!t.value&&n.exclusive&&window.postMessage({action:"popover-shown",id:n.id},window.location.origin);t.value=!t.value}},handleBlur=(e,r)=>{n.autoClose&&("blur"===e||n.trigger.includes(e))&&(r&&a.value?.contains(r.relatedTarget)||(t.value=!1))},ensureInView=()=>{if(!o.value||!a.value)return;let[e,t]=d.value.split(" ");c.value="";let n=a.value.getBoundingClientRect(),r=n.left<0,i=n.right>window.innerWidth,s=n.top<0,l=n.bottom>window.innerHeight;r?t="span-end":i&&(t="span-start");s?e="end":l&&(e="start");c.value=`${e} ${t}`;"anchorName"in document.documentElement.style||requestAnimationFrame(polyfillRerender)},addEventListeners=()=>{n.hideOn.includes("click-outside")&&document.addEventListener("click",handleFocusLoss);n.hideOn.includes("scroll")&&document.addEventListener("scroll",handleFocusLoss);n.hideOn.includes("window-resize")&&window.addEventListener("resize",handleFocusLoss);n.hideOn.includes("blur")&&window.addEventListener("blur",handleFocusLoss);window.addEventListener("message",handleMessage)},removeEventListeners=()=>{document.removeEventListener("click",handleFocusLoss);document.removeEventListener("scroll",handleFocusLoss);window.removeEventListener("resize",handleFocusLoss);window.removeEventListener("blur",handleFocusLoss);window.removeEventListener("message",handleMessage)};(0,r.watch)(t,e=>{if(e){a.value?.showPopover?.();addEventListeners();requestAnimationFrame(ensureInView)}else{c.value=null;a.value?.hidePopover?.();removeEventListeners()}});(0,r.onMounted)(()=>{if(t.value){a.value?.showPopover?.();addEventListeners();requestAnimationFrame(ensureInView)}});let handleFocusLoss=()=>{handleBlur("blur")},handleMessage=e=>{e.origin===window.location.origin&&e.data.id!==n.id&&"popover-shown"===e.data.action&&handleBlur("blur")};(0,r.onBeforeUnmount)(removeEventListeners);let h=(0,r.computed)(()=>{let[e,t]=n.offset,r=e<0?`calc(var(--space-${e}) * -1)`:`var(--space-${e})`,a=t<0?`calc(var(--space-${t}) * -1)`:`var(--space-${t})`;return`translate(${0===e?"0":r}, ${0===t?"0":a})`}),polyfillRerender=()=>{if(!o.value||!a.value)return;let e=o.value.getBoundingClientRect(),t=a.value.getBoundingClientRect();l.value=s;let[n,r]=d.value.split(" ");switch(n){case"start":case"span-start":l.value.top=`${window.scrollY+e.top-t.height}px`;break;default:l.value.top=`${window.scrollY+e.top+e.height}px`}switch(r){case"end":case"span-end":l.value.left=`${e.left}px`;break;default:l.value.left=`${e.left+e.width-t.width}px`}};return(e,i)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("button",{ref_key:"anchor",ref:o,class:(0,r.normalizeClass)(e.$style.default),onClick:(0,r.withModifiers)(handleClick,["stop"]),onMouseover:i[0]||(i[0]=e=>(e=>{if(!n.disabled&&n.trigger.includes(e)){!t.value&&n.exclusive&&window.postMessage({action:"popover-shown",id:n.id},window.location.origin);t.value=!0}})("hover")),onMouseleave:i[1]||(i[1]=e=>handleBlur("hover",e))},[(0,r.renderSlot)(e.$slots,"trigger")],34),i[2]||(i[2]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.popover),popover:"manual",ref_key:"popover",ref:a,style:(0,r.normalizeStyle)(l.value)},[t.value?(0,r.renderSlot)(e.$slots,"popover",{key:0}):(0,r.createCommentVNode)("",!0)],6)],64))}});let rO={};rO.$style={popover:"pop-over-popover",default:"pop-over-default"};var rL=(0,ef.A)(rM,[["__cssModules",rO]]),rD=(0,r.defineComponent)({__name:"color-selector",emits:["update:modelValue"],setup(e,{emit:t}){let n=t,a=[{testid:"lightgreen",label:(0,to.pw)("Light Green"),value:"var(--color-green-200)"},{testid:"lightyellow",label:(0,to.pw)("Light Yellow"),value:"var(--color-gold-75)"},{testid:"lightred",label:(0,to.pw)("Light Red"),value:"var(--color-fuchsia-75)"},{testid:"lightpurple",label:(0,to.pw)("Light Purple"),value:"var(--color-purple-100)"},{testid:"lightblue",label:(0,to.pw)("Light Blue"),value:"var(--color-blue-75)"},{testid:"green",label:(0,to.pw)("Green"),value:"var(--color-green-300)"},{testid:"yellow",label:(0,to.pw)("Yellow"),value:"var(--color-gold-200)"},{testid:"red",label:(0,to.pw)("Red"),value:"var(--color-red-300)"},{testid:"purple",label:(0,to.pw)("Purple"),value:"var(--color-purple-300)"},{testid:"blue",label:(0,to.pw)("Blue"),value:"var(--color-blue-300)"},{testid:"darkturquoise",label:(0,to.pw)("Dark Turquoise"),value:"var(--color-aqua-400)"},{testid:"orange",label:(0,to.pw)("Orange"),value:"var(--color-orange-300)"},{testid:"darkred",label:(0,to.pw)("Dark Red"),value:"var(--color-red-500)"},{testid:"darkpurple",label:(0,to.pw)("Dark Purple"),value:"var(--color-purple-500)"},{testid:"darkblue",label:(0,to.pw)("Dark Blue"),value:"var(--color-blue-500)"},{testid:"lightgray",label:(0,to.pw)("Light Gray"),value:"var(--color-gray-100)"},{testid:"mediumgray",label:(0,to.pw)("Medium Gray"),value:"var(--color-gray-300)"},{testid:"gray",label:(0,to.pw)("Gray"),value:"var(--color-gray-500)"},{testid:"darkgray",label:(0,to.pw)("Dark Gray"),value:"var(--color-gray-700)"},{testid:"navyblue",label:(0,to.pw)("Navy Blue"),value:"var(--color-blue-700)"},{testid:"black",label:(0,to.pw)("Black"),value:"var(--color-neutrals-black)"},{testid:"white",label:(0,to.pw)("White"),value:"var(--color-neutrals-white)"}],handleClear=()=>{n("update:modelValue",null)};return(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(e.$style["colour-grid"])},[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a,t=>(0,r.createVNode)(e_.A,{key:t.value,class:(0,r.normalizeClass)([e.$style["colour-grid-item"],e.$style.hoverable]),onClick:()=>(e=>{n("update:modelValue",e)})(t.value),style:(0,r.normalizeStyle)({backgroundColor:t.value}),size:"x-small"},null,8,["class","onClick","style"])),64)),t[0]||(t[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tg.A,{onClick:handleClear,class:(0,r.normalizeClass)(e.$style["colour-grid-item"]),variant:"ghost",size:"x-small",icon:{name:"mark-cross",variant:"glyph"}},null,8,["class"])],2))}});let rz={};rz.$style={"colour-grid":"color-selector-colour-grid","colour-grid-item":"color-selector-colour-grid-item",hoverable:"color-selector-hoverable"};var rP=(0,ef.A)(rD,[["__cssModules",rz]]),rG=(0,r.defineComponent)({inheritAttrs:!1,__name:"color-input",props:{modelValue:{}},emits:["update:model-value"],setup(e,{emit:t}){(0,r.useCssVars)(e=>({v1ab6cdb8:e.modelValue}));let handleChange=e=>{t("update:model-value",e)};return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(t.$style.row)},[(0,r.createVNode)(rL,{trigger:["click"],placement:"bottom",id:"table-row-properties-border-color"},{trigger:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{icon:{variant:"glyph",name:"board"},variant:"ghost",class:(0,r.normalizeClass)(t.$style.button),tooltip:t.$trans("Select color")},null,8,["class","tooltip"])]),popover:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(t.$style.overlay)},[(0,r.createVNode)(rP,{"onUpdate:modelValue":handleChange})],2)]),_:1}),n[1]||(n[1]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,(0,r.mergeProps)(t.$attrs,{"model-value":e.modelValue,"onUpdate:modelValue":handleChange,type:"text"}),null,16,["model-value"])],2))}});let rZ={};rZ.$style={overlay:"color-input-overlay",row:"color-input-row",button:"color-input-button"};var rW=(0,ef.A)(rG,[["__cssModules",rZ]]);let resolveVariableColor=e=>{if("undefined"==typeof window)return null;let t=document.createElement("div");t.style.display="none";t.style.color=e;document.body.appendChild(t);let n=window.getComputedStyle(t,null).getPropertyValue("color");return document.body.removeChild(t),""!==n?n:null},rj=["textContent"],rY=["textContent"],rH=["textContent"],rX=["textContent"],rQ=["textContent"],rJ=["textContent"],rK=["textContent"];var r$=(0,r.defineComponent)({__name:"configure-table",props:{modelValue:{}},emits:["hide","update:modelValue"],setup(e,{emit:t}){let n=e,a=t,o=(0,r.ref)(n.modelValue.height),i=(0,r.ref)(n.modelValue.width),s=(0,r.ref)(n.modelValue.alignment),l=(0,r.ref)(n.modelValue.cellpadding),c=(0,r.ref)(n.modelValue.cellspacing),d=(0,r.ref)(n.modelValue.borderWidth),u=(0,r.ref)(n.modelValue.borderStyle),h=(0,r.ref)(n.modelValue.borderColor),p=(0,r.ref)(n.modelValue.backgroundColor),handleHide=()=>{a("hide")},m=(0,r.ref)("general"),handleBorderColourChange=e=>{if(!e){h.value="transparent";return}h.value=resolveVariableColor(e)??h.value},handleBackgroundColourChange=e=>{if(!e){p.value="transparent";return}p.value=resolveVariableColor(e)??e},f=(0,r.computed)(()=>({width:i.value?Number.parseFloat(String(i.value)):void 0,height:o.value?Number.parseFloat(String(o.value)):void 0,alignment:s.value||void 0,cellpadding:l.value?Number.parseFloat(String(l.value)):void 0,cellspacing:c.value?Number.parseFloat(String(c.value)):void 0,borderWidth:d.value?Number.parseFloat(String(d.value)):void 0,borderStyle:u.value||void 0,borderColor:h.value||void 0,backgroundColor:p.value||void 0})),g=(0,r.computed)(()=>table_validations_validateAttributes(f.value)),handleSave=()=>{if(g.value){a("update:modelValue",f.value);handleHide()}};return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ty.A,{"modal-width":"lg",onHide:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(tA.A,{onClose:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$trans("Table Properties")),1)]),_:1}),t[21]||(t[21]=(0,r.createTextVNode)()),(0,r.createVNode)(rx.A,{variant:"secondary"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(rB.A,{id:"general",label:e.$trans("General"),"is-active":"general"===m.value,onClick:t[0]||(t[0]=e=>m.value="general")},null,8,["label","is-active"]),t[7]||(t[7]=(0,r.createTextVNode)()),(0,r.createVNode)(rB.A,{id:"advanced",label:e.$trans("Advanced"),"is-active":"advanced"===m.value,onClick:t[1]||(t[1]=e=>m.value="advanced")},null,8,["label","is-active"])]),_:1}),t[22]||(t[22]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"general","is-active":"general"===m.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.row)},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.column)},[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Width")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rj),t[8]||(t[8]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),"aria-label":e.$trans("Width"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"])],2),t[10]||(t[10]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.column)},[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Height")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rY),t[9]||(t[9]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e),"aria-label":e.$trans("Height"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"])],2)],2),t[11]||(t[11]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Alignment")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rH),t[12]||(t[12]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value=e),label:e.$trans("Alignment"),options:[{value:"left",label:e.$trans("Left")},{value:"center",label:e.$trans("Center")},{value:"right",label:e.$trans("Right")}]},null,8,["modelValue","label","options"])]),_:1},8,["is-active","class"]),t[23]||(t[23]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"advanced","is-active":"advanced"===m.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border width")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rX),t[13]||(t[13]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:d.value,"onUpdate:modelValue":t[5]||(t[5]=e=>d.value=e),"aria-label":e.$trans("Border width"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"]),t[14]||(t[14]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border style")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rQ),t[15]||(t[15]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:u.value,"onUpdate:modelValue":t[6]||(t[6]=e=>u.value=e),label:e.$trans("Border style"),options:[{label:(0,r.unref)(to.pw)("Solid"),value:"solid"},{label:(0,r.unref)(to.pw)("Dotted"),value:"dotted"},{label:(0,r.unref)(to.pw)("Dashed"),value:"dashed"},{label:(0,r.unref)(to.pw)("Double"),value:"double"},{label:(0,r.unref)(to.pw)("Groove"),value:"groove"},{label:(0,r.unref)(to.pw)("Ridge"),value:"ridge"},{label:(0,r.unref)(to.pw)("Inset"),value:"inset"},{label:(0,r.unref)(to.pw)("Outset"),value:"outset"},{label:(0,r.unref)(to.pw)("None"),value:"none"},{label:(0,r.unref)(to.pw)("Hidden"),value:"hidden"}]},null,8,["modelValue","label","options"]),t[16]||(t[16]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rJ),t[17]||(t[17]=(0,r.createTextVNode)()),(0,r.createVNode)(rW,{"model-value":h.value??null,"onUpdate:modelValue":handleBorderColourChange,"aria-label":e.$trans("Border color")},null,8,["model-value","aria-label"]),t[18]||(t[18]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Background color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,rK),t[19]||(t[19]=(0,r.createTextVNode)()),(0,r.createVNode)(rW,{"model-value":p.value??null,"onUpdate:modelValue":handleBackgroundColourChange,"aria-label":e.$trans("Background color")},null,8,["model-value","aria-label"])]),_:1},8,["is-active","class"]),t[24]||(t[24]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.row,e.$style.actions])},[(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),variant:"secondary",label:e.$trans("Cancel"),onClick:handleHide},null,8,["class","label"]),t[20]||(t[20]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),disabled:!g.value,variant:"primary",label:e.$trans("Save"),onClick:handleSave},null,8,["class","disabled","label"])],2)]),_:1}))}});let rq={};rq.$style={card:"configure-table-card",label:"configure-table-label",actions:"configure-table-actions",button:"configure-table-button",row:"configure-table-row",column:"configure-table-column",overlay:"configure-table-overlay"};let r0=(0,ef.A)(r$,[["__cssModules",rq]]);var r1=(0,r.defineComponent)({__name:"table-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){(0,r.useCssVars)(e=>({v4a282d64:l.value,v7ae0c4e0:s.value,v7918e844:i.value,v78b2c81a:o.value,v26a8428e:d.value,v6d6f337f:c.value}));let t=e,n=(0,r.computed)(()=>{if(!table_validations_validateAttributes(t.node.attrs))return{};let e={};return t.node.attrs.alignment&&(e.align=t.node.attrs.alignment),null!==t.node.attrs.cellpadding&&(e.cellPadding=String(t.node.attrs.cellpadding)),null!==t.node.attrs.cellspacing&&(e.cellSpacing=String(t.node.attrs.cellspacing)),e}),o=(0,r.computed)(()=>t.node.attrs.borderWidth?`${t.node.attrs.borderWidth}px`:"0"),i=(0,r.computed)(()=>t.node.attrs.borderStyle?t.node.attrs.borderStyle:"solid"),s=(0,r.computed)(()=>t.node.attrs.borderColor?t.node.attrs.borderColor:"transparent"),l=(0,r.computed)(()=>t.node.attrs.backgroundColor?t.node.attrs.backgroundColor:"transparent"),c=(0,r.computed)(()=>t.node.attrs.width?`${t.node.attrs.width}%`:"100%"),d=(0,r.computed)(()=>t.node.attrs.height?`${t.node.attrs.height}px`:"auto"),handleDeleteClick=()=>{t.deleteNode()},u=(0,r.ref)(t.editor.isEditable),handleEditorUpdate=()=>{u.value=t.editor.isEditable};(0,r.onMounted)(()=>{t.editor.on("update",handleEditorUpdate)});(0,r.onBeforeUnmount)(()=>{t.editor.off("update",handleEditorUpdate)});let h=(0,r.ref)(!1),handleTablePropertiesClick=()=>{h.value=!0},handleTablePropertiesHide=()=>{h.value=!1},handleTablePropertiesUpdate=e=>{t.updateAttributes(e)};return(o,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{class:(0,r.normalizeClass)(o.$style.wrapper)},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"",editor:e.editor,pos:e.getPos(),node:e.node,toolbar:"focus"},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"utility-cogwheel"},"icon-size":16,tooltip:o.$trans("Table properties"),onClick:handleTablePropertiesClick},null,8,["tooltip"]),i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:o.$trans("Delete table"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[i[1]||(i[1]=(0,r.createTextVNode)()),(0,r.createVNode)((0,r.unref)(a.$p),(0,r.mergeProps)({as:"table",class:o.$style.component},n.value),null,16,["class"])]),_:1},8,["editor","pos","node"]),i[2]||(i[2]=(0,r.createTextVNode)()),h.value?((0,r.openBlock)(),(0,r.createBlock)(r0,{key:0,"model-value":t.node.attrs,"onUpdate:modelValue":handleTablePropertiesUpdate,onHide:handleTablePropertiesHide},null,8,["model-value"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["class"]))}});let r2={};r2.$style={wrapper:"table-view-wrapper",component:"table-view-component",content:"table-view-content"};let r9=(0,ef.A)(r1,[["__cssModules",r2]]),r5=rU.extend({addNodeView:()=>(0,a.$7)(r9)}),r3=i.bP.create({name:"tableCaption",group:"table",content:"block+",defining:!0,priority:101,parseHTML:()=>[{tag:"caption"}],renderHTML:({HTMLAttributes:e})=>["caption",e,0]});var r4=(0,r.defineComponent)({__name:"table-caption-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let handleDeleteClick=()=>{e.deleteNode()};return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"caption"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"","no-background":"",editor:e.editor,pos:e.getPos(),node:e.node,side:"left"},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:t.$trans("Delete caption"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[n[0]||(n[0]=(0,r.createTextVNode)()),(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(t.$style.content)},null,8,["class"])]),_:1},8,["editor","pos","node"])]),_:1}))}});let r8={};r8.$style={content:"table-caption-view-content"};let r6=(0,ef.A)(r4,[["__cssModules",r8]]),r7=r3.extend({addNodeView:()=>(0,a.$7)(r6)}),ae=i.bP.create({name:"tableHead",group:"table",content:"tableHeaderRow+",defining:!0,priority:102,parseHTML:()=>[{tag:"thead"}],renderHTML:({HTMLAttributes:e})=>["thead",e,0]});var at=(0,r.defineComponent)({__name:"table-head-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"thead"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.content)},null,8,["class"])]),_:1}))});let an={};an.$style={content:"table-head-view-content"};let ar=(0,ef.A)(at,[["__cssModules",an]]),aa=ae.extend({addNodeView:()=>(0,a.$7)(ar)}),ao=i.bP.create({name:"tableBody",group:"table",content:"tableDataRow+",defining:!0,priority:101,parseHTML:()=>[{tag:"tbody"}],renderHTML:({HTMLAttributes:e})=>["tbody",e,0]});var ai=(0,r.defineComponent)({__name:"table-body-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"tbody"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.content)},null,8,["class"])]),_:1}))});let as={};as.$style={content:"table-body-view-content"};let al=(0,ef.A)(ai,[["__cssModules",as]]),ac=ao.extend({addNodeView:()=>(0,a.$7)(al)}),ad=i.bP.create({name:"tableFoot",group:"table",content:"tableDataRow+",defining:!0,priority:101,parseHTML:()=>[{tag:"tfoot"}],renderHTML:({HTMLAttributes:e})=>["tfoot",e,0]});var au=(0,r.defineComponent)({__name:"table-foot-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"tfoot"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.content)},null,8,["class"])]),_:1}))});let ah={};ah.$style={content:"table-foot-view-content"};let ap=(0,ef.A)(au,[["__cssModules",ah]]),am=ad.extend({addNodeView:()=>(0,a.$7)(ap)}),af=i.bP.create({group:"table",defining:!0,priority:101}),ag=af.extend({name:"tableDataRow",content:"tableDataCell+",addAttributes:()=>({alignment:(()=>({default:void 0,parseHTML:e=>e.getAttribute("alignment"),renderHTML:e=>e.alignment?{alignment:e.alignment}:{}}))(),height:height(),borderWidth:borderWidth(),borderStyle:borderStyle(),borderColor:borderColor(),backgroundColor:backgroundColor()}),parseHTML:()=>[{tag:"tr"}],renderHTML:({HTMLAttributes:e})=>["tr",e,0]}),ab=["textContent"],a_=["textContent"],aE=["textContent"],aw=["textContent"],av=["textContent"];var ak=(0,r.defineComponent)({__name:"configure-table-row",props:{modelValue:{}},emits:["hide","update:modelValue"],setup(e,{emit:t}){let n=t,handleHide=()=>{n("hide")},a=e,o=(0,r.ref)(String(a.modelValue.height)),i=(0,r.ref)(String(a.modelValue.borderWidth)),s=(0,r.ref)(a.modelValue.borderStyle),l=(0,r.ref)(a.modelValue.borderColor),c=(0,r.ref)(a.modelValue.backgroundColor),d=(0,r.ref)("general"),handleBorderColourChange=e=>{e&&(l.value=resolveVariableColor(e)??l.value)},handleBackgroundColourChange=e=>{e&&(c.value=resolveVariableColor(e)??c.value)},handleSave=()=>{let e=Number.parseFloat(o.value),t=Number.parseFloat(i.value);n("update:modelValue",{height:Number.isNaN(e)?void 0:e,borderWidth:Number.isNaN(t)?void 0:t,borderStyle:s.value,borderColor:l.value,backgroundColor:c.value});handleHide()};return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ty.A,{"modal-width":"lg",onHide:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(tA.A,{onClose:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$trans("Row Properties")),1)]),_:1}),t[15]||(t[15]=(0,r.createTextVNode)()),(0,r.createVNode)(rx.A,{variant:"secondary"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(rB.A,{id:"general",label:e.$trans("General"),"is-active":"general"===d.value,onClick:t[0]||(t[0]=e=>d.value="general")},null,8,["label","is-active"]),t[5]||(t[5]=(0,r.createTextVNode)()),(0,r.createVNode)(rB.A,{id:"advanced",label:e.$trans("Advanced"),"is-active":"advanced"===d.value,onClick:t[1]||(t[1]=e=>d.value="advanced")},null,8,["label","is-active"])]),_:1}),t[16]||(t[16]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"general","is-active":"general"===d.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Height")),class:(0,r.normalizeClass)(e.$style.label)},null,10,ab),t[6]||(t[6]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),"aria-label":e.$trans("Height"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"])]),_:1},8,["is-active","class"]),t[17]||(t[17]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"advanced","is-active":"advanced"===d.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border width")),class:(0,r.normalizeClass)(e.$style.label)},null,10,a_),t[7]||(t[7]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),"aria-label":e.$trans("Border width"),type:"number",min:"0",max:"20",step:"1"},null,8,["modelValue","aria-label"]),t[8]||(t[8]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border style")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aE),t[9]||(t[9]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value=e),label:e.$trans("Border style"),options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"},{label:"None",value:"none"},{label:"Hidden",value:"hidden"}]},null,8,["modelValue","label"]),t[10]||(t[10]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aw),t[11]||(t[11]=(0,r.createTextVNode)()),(0,r.createVNode)(rW,{"model-value":l.value??null,"onUpdate:modelValue":handleBorderColourChange,"aria-label":e.$trans("Border color")},null,8,["model-value","aria-label"]),t[12]||(t[12]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Background color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,av),t[13]||(t[13]=(0,r.createTextVNode)()),(0,r.createVNode)(rW,{"model-value":c.value??null,"onUpdate:modelValue":handleBackgroundColourChange,"aria-label":e.$trans("Background color")},null,8,["model-value","aria-label"])]),_:1},8,["is-active","class"]),t[18]||(t[18]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.row,e.$style.actions])},[(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),variant:"secondary",label:e.$trans("Cancel"),onClick:handleHide},null,8,["class","label"]),t[14]||(t[14]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),variant:"primary",label:e.$trans("Save"),onClick:handleSave},null,8,["class","label"])],2)]),_:1}))}});let aS={};aS.$style={card:"configure-table-row-card",actions:"configure-table-row-actions",button:"configure-table-row-button",row:"configure-table-row-row",column:"configure-table-row-column",label:"configure-table-row-label"};let ay=(0,ef.A)(ak,[["__cssModules",aS]]);var aA=(0,r.defineComponent)({__name:"table-data-row-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){(0,r.useCssVars)(e=>({v1a5ac57e:c.value,v560779fa:l.value,v543f9d5e:s.value,v53d97d34:i.value,v3f10c13b:o.value}));let t=e,handleDeleteClick=()=>{t.deleteNode()},n=(0,r.ref)(!1),handleRowPropertiesClick=()=>{n.value=!0},handleRowPropertiesHide=()=>{n.value=!1},handleTableRowPropertiesUpdate=e=>{t.updateAttributes(e)},o=(0,r.computed)(()=>t.node.attrs.height?`${t.node.attrs.height}px`:"auto"),i=(0,r.computed)(()=>t.node.attrs.borderWidth?`${t.node.attrs.borderWidth}px`:"0"),s=(0,r.computed)(()=>t.node.attrs.borderStyle?t.node.attrs.borderStyle:"hidden"),l=(0,r.computed)(()=>t.node.attrs.borderColor?t.node.attrs.borderColor:"transparent"),c=(0,r.computed)(()=>t.node.attrs.backgroundColor?t.node.attrs.backgroundColor:"transparent");return(o,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{class:(0,r.normalizeClass)(o.$style.content)},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"",editor:e.editor,pos:e.getPos(),node:e.node,side:"left",toolbar:"focus",class:(0,r.normalizeClass)(o.$style.component),"no-border":""},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"utility-cogwheel"},"icon-size":16,tooltip:o.$trans("Row properties"),onClick:handleRowPropertiesClick},null,8,["tooltip"]),i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:o.$trans("Delete row"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[i[1]||(i[1]=(0,r.createTextVNode)()),(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(o.$style.content)},null,8,["class"])]),_:1},8,["editor","pos","node","class"]),i[2]||(i[2]=(0,r.createTextVNode)()),n.value?((0,r.openBlock)(),(0,r.createBlock)(ay,{key:0,"model-value":t.node.attrs,"onUpdate:modelValue":handleTableRowPropertiesUpdate,onHide:handleRowPropertiesHide},null,8,["model-value"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["class"]))}});let aN={};aN.$style={content:"table-data-row-view-content",component:"table-data-row-view-component"};let aR=(0,ef.A)(aA,[["__cssModules",aN]]),aC=ag.extend({addNodeView:()=>(0,a.$7)(aR)}),aV=af.extend({name:"tableHeaderRow",content:"tableHeaderCell+",parseHTML:()=>[{tag:"tr"}],renderHTML:({HTMLAttributes:e})=>["tr",e,0]});var aT=(0,r.defineComponent)({__name:"table-header-row-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"tr"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(e.$style.content)},null,8,["class"])]),_:1}))});let aU={};aU.$style={content:"table-header-row-view-content"};let aI=(0,ef.A)(aT,[["__cssModules",aU]]),ax=aV.extend({addNodeView:()=>(0,a.$7)(aI)}),colspan=()=>({default:void 0,parseHTML:e=>{let t=e.getAttribute("colspan"),n=t?Number.parseInt(t,10):null;return Number.isNaN(n)||null===n||n<=1?null:n},renderHTML:e=>e.colspan&&e.colspan>1?{colspan:e.colspan}:{}}),rowspan=()=>({default:void 0,parseHTML:e=>{let t=e.getAttribute("rowspan"),n=t?Number.parseInt(t,10):null;return Number.isNaN(n)||null===n||n<=1?null:n},renderHTML:e=>e.rowspan&&e.rowspan>1?{rowspan:e.rowspan}:{}}),aB=i.bP.create({group:"table",defining:!0,priority:101,addAttributes:()=>({colspan:colspan(),rowspan:rowspan(),colwidth:width(33.33,"colwidth")})}),aF=aB.extend({name:"tableHeaderCell",content:"inline*",parseHTML:()=>[{tag:"th"}],renderHTML:({HTMLAttributes:e})=>["th",e,0]});var aM=(0,r.defineComponent)({__name:"table-header-cell-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=(0,r.computed)(()=>e.HTMLAttributes.style||"");return(n,o)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"th",class:(0,r.normalizeClass)(n.$style.component),style:(0,r.normalizeStyle)(t.value)},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"","no-background":"",editor:e.editor,pos:e.getPos(),node:e.node},{default:(0,r.withCtx)(()=>[(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(n.$style.content)},null,8,["class"])]),_:1},8,["editor","pos","node"])]),_:1},8,["class","style"]))}});let aO={};aO.$style={content:"table-header-cell-view-content"};let aL=(0,ef.A)(aM,[["__cssModules",aO]]),aD=aF.extend({addNodeView:()=>(0,a.$7)(aL)}),az=aB.extend({name:"tableDataCell",content:"block*",addAttributes:()=>({colspan:colspan(),rowspan:rowspan(),height:height(),width:width(),horizontalAlign:(()=>({default:"left",parseHTML:e=>{let t=e.style.textAlign;return"center"===t||"right"===t?t:"left"},renderHTML:e=>({style:`text-align: ${e.horizontalAlign};`})}))(),verticalAlign:(()=>({default:"top",parseHTML:e=>{let t=e.style.verticalAlign;return"middle"===t||"bottom"===t?t:"top"},renderHTML:e=>({style:`vertical-align: ${e.verticalAlign};`})}))(),padding:(()=>({default:void 0,parseHTML:e=>{let t=e.style.padding;return t||null},renderHTML:e=>e.padding?{style:`padding: ${e.padding};`}:{}}))(),borderWidth:borderWidth(),borderStyle:borderStyle(),borderColor:borderColor(),backgroundColor:backgroundColor()}),parseHTML:()=>[{tag:"td"}],renderHTML:({HTMLAttributes:e})=>["td",e,0]}),aP=["textContent"],aG=["textContent"],aZ=["textContent"],aW=["textContent"],aj=["textContent"],aY=["textContent"],aH=["textContent"],aX=["textContent"];var aQ=(0,r.defineComponent)({__name:"configure-table-cell",props:{modelValue:{}},emits:["hide","update:modelValue"],setup(e,{emit:t}){let n=e,a=t,o=(0,r.ref)(String(n.modelValue.height)),i=(0,r.ref)(String(n.modelValue.width)),s=(0,r.ref)(n.modelValue.horizontalAlign),l=(0,r.ref)(n.modelValue.verticalAlign),c=(0,r.ref)(String(n.modelValue.borderWidth)),d=(0,r.ref)(n.modelValue.borderStyle),u=(0,r.ref)(n.modelValue.borderColor),h=(0,r.ref)(n.modelValue.backgroundColor),handleHide=()=>{a("hide")},p=(0,r.ref)("general"),handleBorderColourChange=e=>{e&&(u.value=resolveVariableColor(e)??u.value)},handleBackgroundColourChange=e=>{e&&(h.value=resolveVariableColor(e)??h.value)},handleSave=()=>{let e=i.value?Number.parseFloat(i.value):void 0,t=o.value?Number.parseFloat(o.value):void 0,n=c.value?Number.parseFloat(c.value):void 0;a("update:modelValue",{width:Number.isNaN(e)?void 0:e,height:Number.isNaN(t)?void 0:t,horizontalAlign:s.value,verticalAlign:l.value,borderWidth:Number.isNaN(n)?void 0:n,borderStyle:d.value,borderColor:u.value,backgroundColor:h.value});handleHide()};return(e,t)=>((0,r.openBlock)(),(0,r.createBlock)(ty.A,{"modal-width":"lg",onHide:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(tA.A,{onClose:handleHide},{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$trans("Cell Properties")),1)]),_:1}),t[30]||(t[30]=(0,r.createTextVNode)()),(0,r.createVNode)(rx.A,{variant:"secondary"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(rB.A,{id:"general",label:e.$trans("General"),"is-active":"general"===p.value,onClick:t[0]||(t[0]=e=>p.value="general")},null,8,["label","is-active"]),t[10]||(t[10]=(0,r.createTextVNode)()),(0,r.createVNode)(rB.A,{id:"advanced",label:e.$trans("Advanced"),"is-active":"advanced"===p.value,onClick:t[1]||(t[1]=e=>p.value="advanced")},null,8,["label","is-active"])]),_:1}),t[31]||(t[31]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"general","is-active":"general"===p.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.row)},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.column)},[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Width")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aP),t[11]||(t[11]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),"aria-label":e.$trans("Width"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"])],2),t[13]||(t[13]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.column)},[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Height")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aG),t[12]||(t[12]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e),"aria-label":e.$trans("Height"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"])],2)],2),t[14]||(t[14]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Horizontal align")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aZ),t[15]||(t[15]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value=e),label:e.$trans("Horizontal align"),options:[{value:"left",label:e.$trans("Left")},{value:"center",label:e.$trans("Center")},{value:"right",label:e.$trans("Right")}]},null,8,["modelValue","label","options"]),t[16]||(t[16]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Vertical align")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aW),t[17]||(t[17]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=e=>l.value=e),label:e.$trans("Vertical align"),options:[{value:"top",label:e.$trans("Top")},{value:"middle",label:e.$trans("Middle")},{value:"bottom",label:e.$trans("Bottom")}]},null,8,["modelValue","label","options"])]),_:1},8,["is-active","class"]),t[32]||(t[32]=(0,r.createTextVNode)()),(0,r.createVNode)(rF.A,{id:"advanced","is-active":"advanced"===p.value,class:(0,r.normalizeClass)(e.$style.card)},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border width")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aj),t[22]||(t[22]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=e=>c.value=e),"aria-label":e.$trans("Border width"),type:"number",min:"1",max:"100",step:"1"},null,8,["modelValue","aria-label"]),t[23]||(t[23]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border style")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aY),t[24]||(t[24]=(0,r.createTextVNode)()),(0,r.createVNode)(rI.A,{modelValue:d.value,"onUpdate:modelValue":t[7]||(t[7]=e=>d.value=e),label:e.$trans("Border style"),options:[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"},{label:"None",value:"none"},{label:"Hidden",value:"hidden"}]},null,8,["modelValue","label"]),t[25]||(t[25]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Border color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aH),t[26]||(t[26]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.row)},[(0,r.createVNode)(rL,{trigger:["click"],placement:"bottom",id:"table-cell-properties-border-color"},{trigger:(0,r.withCtx)(()=>[(0,r.createVNode)(e_.A,{icon:{variant:"glyph",name:"board"},variant:"ghost"})]),popover:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.overlay)},[(0,r.createVNode)(rP,{"onUpdate:modelValue":handleBorderColourChange})],2)]),_:1}),t[19]||(t[19]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:u.value,"onUpdate:modelValue":t[8]||(t[8]=e=>u.value=e),"aria-label":e.$trans("Border color"),type:"text"},null,8,["modelValue","aria-label"])],2),t[27]||(t[27]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{textContent:(0,r.toDisplayString)(e.$trans("Background color")),class:(0,r.normalizeClass)(e.$style.label)},null,10,aX),t[28]||(t[28]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.row)},[(0,r.createVNode)(rL,{trigger:["click"],placement:"bottom",id:"table-cell-properties-border-color"},{trigger:(0,r.withCtx)(()=>[(0,r.createVNode)(e_.A,{icon:{variant:"glyph",name:"board"},variant:"ghost"})]),popover:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(e.$style.overlay)},[(0,r.createVNode)(rP,{"onUpdate:modelValue":handleBackgroundColourChange})],2)]),_:1}),t[21]||(t[21]=(0,r.createTextVNode)()),(0,r.createVNode)(tS.A,{modelValue:h.value,"onUpdate:modelValue":t[9]||(t[9]=e=>h.value=e),"aria-label":e.$trans("Background color"),type:"text"},null,8,["modelValue","aria-label"])],2)]),_:1},8,["is-active","class"]),t[33]||(t[33]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([e.$style.row,e.$style.actions])},[(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),variant:"secondary",label:e.$trans("Cancel"),onClick:handleHide},null,8,["class","label"]),t[29]||(t[29]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{class:(0,r.normalizeClass)(e.$style.button),variant:"primary",label:e.$trans("Save"),onClick:handleSave},null,8,["class","label"])],2)]),_:1}))}});let aJ={};aJ.$style={card:"configure-table-cell-card",label:"configure-table-cell-label",actions:"configure-table-cell-actions",button:"configure-table-cell-button",row:"configure-table-cell-row",column:"configure-table-cell-column",overlay:"configure-table-cell-overlay"};let aK=(0,ef.A)(aQ,[["__cssModules",aJ]]);var a$=(0,r.defineComponent)({__name:"table-data-cell-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){(0,r.useCssVars)(e=>({ec8d2382:h.value,v657f4301:u.value,v6663314f:d.value,v66964164:c.value,v29913a7d:i.value,v7b1888ab:l.value,v5ebffca0:s.value}));let t=e,handleDeleteClick=()=>{t.deleteNode()},n=(0,r.computed)(()=>t.HTMLAttributes.style||""),handlePropertiesUpdate=e=>{t.updateAttributes(e)},o=(0,r.ref)(!1),handleCellPropertiesClick=()=>{o.value=!0},handleCellPropertiesHide=()=>{o.value=!1},i=(0,r.computed)(()=>t.node.attrs.height?`${t.node.attrs.height}px`:"auto"),s=(0,r.computed)(()=>t.node.attrs.width?`${t.node.attrs.width}%`:"auto"),l=(0,r.computed)(()=>t.node.attrs.horizontalAlign?t.node.attrs.horizontalAlign:"left"),c=(0,r.computed)(()=>t.node.attrs.borderWidth?`${t.node.attrs.borderWidth}px`:"0"),d=(0,r.computed)(()=>t.node.attrs.borderStyle?t.node.attrs.borderStyle:"hidden"),u=(0,r.computed)(()=>t.node.attrs.borderColor?t.node.attrs.borderColor:"transparent"),h=(0,r.computed)(()=>t.node.attrs.backgroundColor?t.node.attrs.backgroundColor:"transparent");return(t,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),{as:"td",style:(0,r.normalizeStyle)(n.value),class:(0,r.normalizeClass)(t.$style.component)},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{"click-through":"",side:"right",editor:e.editor,pos:e.getPos(),node:e.node},{toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"utility-cogwheel"},"icon-size":16,tooltip:t.$trans("Cell properties"),onClick:handleCellPropertiesClick},null,8,["tooltip"]),i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createVNode)(tg.A,{size:"medium",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},"icon-size":16,tooltip:t.$trans("Delete cell"),onClick:handleDeleteClick},null,8,["tooltip"])]),default:(0,r.withCtx)(()=>[i[1]||(i[1]=(0,r.createTextVNode)()),(0,r.createVNode)((0,r.unref)(a.$p),{class:(0,r.normalizeClass)(t.$style.content)},null,8,["class"])]),_:1},8,["editor","pos","node"]),i[2]||(i[2]=(0,r.createTextVNode)()),o.value?((0,r.openBlock)(),(0,r.createBlock)(aK,{key:0,"model-value":e.node.attrs,"onUpdate:modelValue":handlePropertiesUpdate,onHide:handleCellPropertiesHide},null,8,["model-value"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["style","class"]))}});let aq={};aq.$style={content:"table-data-cell-view-content",component:"table-data-cell-view-component"};let a0=(0,ef.A)(a$,[["__cssModules",aq]]),a1=az.extend({addNodeView:()=>(0,a.$7)(a0)}),a2=i.YY.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{let t=e.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}).configure({types:["heading","paragraph"]}),unsafe_html_validations_validateAttributes=e=>{if("object"!=typeof e||null===e||!("unsafeContent"in e)||"string"!=typeof e.unsafeContent)return!1;if(!e.unsafeContent)return!0;try{let t=new DOMParser().parseFromString(e.unsafeContent,"text/html");if(!t.body||!t.body.firstChild||0!==t.querySelectorAll("script").length)return!1;return!0}catch{return!1}},a9=i.bP.create({name:"unsafe-html",group:"block",selectable:!0,atom:!0,addAttributes:()=>({unsafeContent:""}),parseHTML:()=>[],renderHTML:({HTMLAttributes:e})=>unsafe_html_validations_validateAttributes(e)?["div",{"data-security":"Unsafe HTML content removed because we attempted to render it outside Vue. If you see this (even in devtools), please report it!"}]:["div"]});var a5=n(95706),a3=(0,r.defineComponent)({__name:"unsafe-html-view",props:{decorations:{},selected:{type:Boolean},updateAttributes:{type:Function},deleteNode:{type:Function},node:{},view:{},getPos:{type:Function},innerDecorations:{},editor:{},extension:{},HTMLAttributes:{}},setup(e){let t=(0,r.defineAsyncComponent)(()=>n.e(515).then(n.bind(n,515))),i=e,s=(0,r.computed)(()=>unsafe_html_validations_validateAttributes(i.node.attrs)),l=(0,r.ref)(!1),handleUnsafeHTMLClick=()=>{l.value=!0},handleUnsafeHTMLHide=()=>{l.value=!1},handleUnsafeHTMLInsert=e=>{i.editor.chain().focus().insertContent({type:"unsafe-html",attrs:{unsafeContent:e}}).run()},handleSafeHTMLInsert=e=>{i.editor.chain().focus().insertContent(e).run()},handleDeleteClick=()=>{i.editor.chain().focus().run();i.deleteNode()};return(n,c)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(a.VR),null,{default:(0,r.withCtx)(()=>[(0,r.createVNode)(eb,{editor:i.editor,node:e.node,pos:e.getPos()},{default:(0,r.withCtx)(()=>[s.value?((0,r.openBlock)(),(0,r.createBlock)(a5.A,{key:0,html:e.node.attrs.unsafeContent},null,8,["html"])):(0,r.createCommentVNode)("",!0)]),toolbar:(0,r.withCtx)(()=>[(0,r.createVNode)(e_.A,{size:"small",variant:"ghost",icon:{variant:"glyph",name:"tool-pencil"},onClick:handleUnsafeHTMLClick}),c[0]||(c[0]=(0,r.createTextVNode)()),(0,r.createVNode)(e_.A,{size:"small",variant:"ghost",icon:{variant:"glyph",name:"mark-cross"},onClick:handleDeleteClick})]),_:1},8,["editor","node","pos"]),c[2]||(c[2]=(0,r.createTextVNode)()),l.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(t),{key:0,editor:i.editor,features:Object.values((0,r.unref)(o.e)),"model-value":e.node.attrs.unsafeContent,onInsertUnsafe:handleUnsafeHTMLInsert,onInsertSafe:handleSafeHTMLInsert,onHide:handleUnsafeHTMLHide},null,8,["editor","features","model-value"])):(0,r.createCommentVNode)("",!0)]),_:1}))}});let a4=a9.extend({addNodeView:()=>(0,a.$7)(a3)}),a8=["text","paragraph"],a6=i.YY.create({name:"deep-focus",addStorage:()=>({focusedRanges:(0,r.shallowRef)([])}),addProseMirrorPlugins(){return[new _.k_({key:new _.hs("deep-focus"),props:{decorations:({doc:e,selection:t})=>{let{isEditable:n,isFocused:r}=this.editor,{anchor:a}=t;if(!n||!r)return null;let o=[];return e.descendants((e,t)=>!e.isText&&!(!(a>=t&&a<=t+e.nodeSize-1)||a8.includes(e.type.name))&&(o.push([t,t+e.nodeSize]),!0)),this.storage.focusedRanges.value=o,null}}})]}}),createCoreTiptapOptions=()=>({content:"",enableContentCheck:!1,extensions:[f,ea,b,ei,es,V,v,u,$,el,m,q,er,ee,H,n1,Y,k,T,g,tf.extend({marks:"link"}),rp,rE,rA,U,eh,ep,eB,a2,a9,te,n3,rh,rU,ao,r3,ad,az,ae,aF,ag,aV,tm,tF,eu,rT].filter(e=>"object"==typeof e&&null!==e)});class a7 extends i.KE{constructor(){super(createCoreTiptapOptions())}}let oe={to:{html:e=>(e=>{let t=new a7;return t.commands.setContent(e),t})(e).getHTML(),json:e=>(0,i.yQ)(e,createCoreTiptapOptions().extensions)}};class ot{static emit=e=>{window.parent.postMessage({action:"tiptap-insert-quote",...e},window.location.origin)};editor;constructor(e){this.editor=e}listener=null;init(){this.listener&&this.destroy();this.listener=this.handleMessage.bind(this);window.addEventListener("message",this.listener)}destroy(){if(this.listener){window.removeEventListener("message",this.listener);this.listener=null}}handleMessage(e){if(!this.editor.isEditable||e.origin!==window.location.origin||"tiptap-insert-quote"!==e.data.action)return;let{content:t,header:n}=e.data;if(t||n){if("string"!=typeof t)return void this.editor.chain().focus().insertContent([{type:"quote",content:[{type:"quote-header",content:[{type:"text",text:n}]},{type:"quote-body",content:t&&"content"in t&&t.content||[]}]},{type:"paragraph",content:[]}]).run();this.editor.chain().focus().insertContent([{type:"quote",content:[{type:"quote-header",content:[{type:"text",text:n}]},{type:"quote-body",content:oe.to.json(t).content||[]}]},{type:"paragraph",content:[]}]).run()}}}let useTiptap=e=>{let t=(0,a.hG)((e=>({editable:!e.readonly,content:"",enableContentCheck:!1,extensions:[f,ea,b,ei,es,V,v,Y,a6,e.placeholder&&eo.configure({placeholder:e.placeholder}),e.features.includes(o.e.Headings)&&U,e.features.includes(o.e.Emphasis)&&u,e.features.includes(o.e.Emphasis)&&$,e.features.includes(o.e.Emphasis)&&el,e.features.includes(o.e.Lists)&&m,e.features.includes(o.e.Lists)&&q,e.features.includes(o.e.Lists)&&er,e.features.includes(o.e.Lists)&&ee,e.features.includes(o.e.HorizontalRule)&&H,e.features.includes(o.e.Links)&&n1,e.features.includes(o.e.FontFamily)&&k,e.features.includes(o.e.HardLineBreak)&&T,e.features.includes(o.e.TextColor)&&g,e.features.includes(o.e.Image)&&(e.features.includes(o.e.Links)?tx.extend({marks:"link"}):tx),e.features.includes(o.e.Blockquote)&&r_,e.features.includes(o.e.Blockquote)&&ry,e.features.includes(o.e.Blockquote)&&rV,e.features.includes(o.e.TextColor)&&eh,e.features.includes(o.e.ChessDiagram)&&ey,e.features.includes(o.e.Embed)&&e6,e.features.includes(o.e.TextAlignment)&&a2,e.features.includes(o.e.UnsafeHTML)&&a4,e.features.includes(o.e.Emoji)&&th,e.features.includes(o.e.Mentions)&&ru,e.features.includes(o.e.Preformatted)&&rh,e.features.includes(o.e.Tables)&&r5,e.features.includes(o.e.Tables)&&ac,e.features.includes(o.e.Tables)&&r7,e.features.includes(o.e.Tables)&&am,e.features.includes(o.e.Tables)&&a1,e.features.includes(o.e.Tables)&&aa,e.features.includes(o.e.Tables)&&aD,e.features.includes(o.e.Tables)&&aC,e.features.includes(o.e.Tables)&&ax,e.features.includes(o.e.FontSize)&&tm,e.features.includes(o.e.TextIndentation)&&tF,e.features.includes(o.e.Anchor)&&eu,e.features.includes(o.e.Script)&&rT].filter(e=>"object"==typeof e&&null!==e)}))(e)),n=(0,r.ref)();return(0,r.onMounted)(()=>{if(t.value){n.value=new ot(t.value);e.features.includes(o.e.Blockquote)&&n.value?.init()}}),(0,r.onBeforeUnmount)(()=>{t.value?.destroy();n.value?.destroy()}),t}},84501:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});let r={Emphasis:"emphasis",FontSize:"font-size",FontFamily:"font-family",TextColor:"text-color",TextAlignment:"text-alignment",TextIndentation:"text-indentation",HardLineBreak:"hard-line-break",HorizontalRule:"horizontal-rule",Lists:"lists",Tables:"tables",ChessDiagram:"chess-diagram",Embed:"embed",Links:"links",UnsafeHTML:"unsafe-html",Image:"image",Emoji:"emoji",Blockquote:"blockquote",Mentions:"mention",Anchor:"anchor",Script:"script",Headings:"headings",Preformatted:"preformatted"}},96782:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});let r={Gold:"gold",Platinum:"platinum",Diamond:"diamond"},a={Monthly:"monthly",Yearly:"yearly"};a.Yearly,r.Diamond,a.Monthly,r.Gold,a.Yearly,r.Diamond,a.Yearly,r.Platinum,a.Yearly,r.Gold,a.Monthly,r.Diamond,a.Monthly,r.Platinum,a.Monthly,r.Gold;let o={abuser:6,basic:10,cheater:5,diamond:50,gold:30,guest:0,moderator:80,platinum:40,silver:20,staff:90,voluntarilyClosed:7}},72005:function(e,t,n){"use strict";n.d(t,{e3:function(){return a}});var r=n(29558);n(23618).A.generate("web_security_onboarding");let a=window.chesscom.features.includes("web_consistent_onboarding_design")&&(0,r.E4)("web_onboarding_consistent_design_october_2025","consistent_onboarding_design")},28947:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});let r={"x-small":{iconSize:16,imgSize:16,loaderSize:"small"},small:{iconSize:16,imgSize:16,loaderSize:"medium"},medium:{iconSize:20,imgSize:20,loaderSize:"large"},large:{iconSize:24,imgSize:24,loaderSize:"large"},"x-large":{iconSize:24,imgSize:24,loaderSize:"large"},"xx-large":{iconSize:32,imgSize:32,loaderSize:"large"}}},65862:function(e,t,n){"use strict";n.d(t,{NB:function(){return useDesignSystem},zt:function(){return provideDesignSystem}});var r=n(7118);let a="design-system-key";function provideDesignSystem(e,t){e.provide(a,t)}function useDesignSystem(){let e=(0,r.inject)(a);if(!e)throw Error("design system data not found, make sure to call provideDesignSystem() first");return e}},97485:function(e,t,n){"use strict";n.d(t,{y:function(){return clearAlert}});var r=n(39086),a=n(29565),o=n(61999),i=n(75426),s=n(23618);async function clearAlert(e){let{group:t,index:n}=(0,r.K)(e);if(t&&-1!==n)try{t.notifications.splice(n,1);await o.A.post(getEndpoint(e))}catch(r){(0,i.H)(r);t.notifications.splice(n,0,e)}}function getEndpoint(e){switch(e.alertType){case a.f.OFFLINE_CHALLENGE:return s.A.generate("web_alert_callback_ignore_offline_challenge",{id:e.id});case a.f.COMMENT:return s.A.generate("web_alert_callback_ignore_comment",{contentId:e.contentId,contentType:e.contentType});case a.f.ACHIEVMENTS:return s.A.generate("web_alert_callback_ignore_achievement",{code:e.code});case a.f.GROUP_REQUEST:return s.A.generate("web_club_callback_manage_user_group_request",{id:e.contentId,username:e.username,action:"deny"});default:return s.A.generate("web_alert_callback_ignore",{id:e.alertId})}}},39086:function(e,t,n){"use strict";n.d(t,{K:function(){return findAlert}});var r=n(32210),a=n(29565);function findAlert(e){let t=-1;return{group:r.p.notifications?.find(n=>-1!==(t=n.notifications.findIndex(t=>{if(t.alertType!==e.alertType)return!1;switch(e.alertType){case a.f.OFFLINE_CHALLENGE:return t.id===e.id;case a.f.COMMENT:return t.contentId===e.contentId&&t.contentType===e.contentType;case a.f.ACHIEVMENTS:return t.code===e.code;default:return t.alertId===e.alertId}}))),index:t}}},18404:function(e,t,n){"use strict";n.d(t,{w:function(){return getAlertsByGroup}});var r=n(17084);function getAlertsByGroup(e){let t=(0,r.x)({include:e});return null===t?null:t.flatMap(e=>e.notifications)}},17084:function(e,t,n){"use strict";n.d(t,{x:function(){return getAllAlerts}});var r=n(32210);function getAllAlerts(e){if(null===r.p.notifications)return null;let t=r.p.notifications;return e?.include?.length&&(t=t.filter(t=>e.include.includes(t.type.id))),e?.ignore?.length&&(t=t.filter(t=>!e.ignore.includes(t.type.id))),t}},32210:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});let r=(0,n(7118).reactive)({isSubscribed:!1,notifications:null,loaded:"initial"})},29565:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});let r={ACHIEVMENTS:"user_achievements",ARENA_TROPHY:"user_arena_trophy",CHALLENGE:"game_seek",CLUB_FORUM_UPDATE:"user_group_forum_new",CLUB_FORUM:"user_group_forum",CLUB_NEWS_UPDATE:"user_group_news_new",CLUB_NEWS:"user_group_news",CLUB_NOTE:"user_group_note",COMMENT:"new_comment",CONTENT:"has_new_content",FRIEND_ACTIVITY:"friend_activity",FRIEND_REQUEST:"friend_request",GAME:"game",GAMES_DRAW_OFFERED:"game_draw_offered",GAMES_LOW_TIME:"game_low_time",GAMES_MESSAGE:"game_message",GAMES_STARTED:"game_started",GROUP_ACTIVITY:"user_group_activity",GROUP_REQUEST:"user_group_request",NOTE:"user_comment",MATCHED_CONTACTS:"matched_contacts",CONTACT_MATCH:"contact_match",OFFLINE_CHALLENGE:"offline_challenges",TEAM_LIVE_COMPETITION:"team_live_competition",TEAM_MATCH:"team_match_game",TOURNAMENT:"tournament_game",TROPHY:"user_trophy",VOTE_CHESS_GAME:"votechess_game",INSIGHTS:"insights"}},77900:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r={AcceptChallenge:"ChallengesEvents.AcceptChallenge",DeclineChallenge:"ChallengesEvents.DeclineChallenge",IncomingChallenge:"ChallengesEvents.IncomingChallenge",OutgoingChallenge:"ChallengesEvents.OutgoingChallenge"}},35745:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r=(0,n(49132).createQueuedEmitter)()},12787:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});let r=(0,n(7118).reactive)({incoming:[],outgoing:[]})},2101:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});let r=(0,n(49132).createContext)()},59722:function(e,t,n){"use strict";n.d(t,{Z:function(){return getCoach}});var r=n(47727);function getCoach(e){return(0,r.N)().find(t=>t.id===e)}},47727:function(e,t,n){"use strict";n.d(t,{N:function(){return getCoachesList}});var r=n(47426);function getCoachesList(){return r.G.state.data?.flatMap(e=>e.coaches)??[]}},81884:function(e,t,n){"use strict";n.d(t,{m:function(){return getSelectedCoach}});var r=n(59722),a=n(36359),o=n(71346);function getSelectedCoach({preferPendingCoach:e}={preferPendingCoach:!1}){return e&&a.a.pendingCoachId?(0,r.Z)(a.a.pendingCoachId)??null:o.E.state.data?.currentCoach??null}},18674:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(37823),a=n(49132);class o extends a.Model{locale="";textId="";data=null;promise=null;get key(){return(0,r.d)({locale:this.locale,textId:this.textId})}}},36359:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(18674),a=n(49132),o=n(7118);let i=(0,o.reactive)({coachAudio:{activeSound:null,currentPhrase:null,currentPhraseHash:null,isEnabled:!1,settingReady:!1,loadedSounds:{},speechTimeout:null},isCoachesModalOpen:!1,pendingCoachId:null,pendingCoachMessage:null,speechAssets:(0,o.markRaw)((0,a.createCollection)(r.a,{key:"key"})),speechLineTally:{}})},37823:function(e,t,n){"use strict";n.d(t,{d:function(){return getUniqueCoachKey}});function getUniqueCoachKey(e){return`${e.locale}${e.textId}`}},36388:function(e,t,n){"use strict";n.d(t,{Q:function(){return showError}});var r=n(65828);function showAlert(e){(0,r.D)({type:"alert",...e})}function showError(e){showAlert({duration:1e4,notification:{type:"error",message:e}})}},17295:function(e,t,n){"use strict";n.d(t,{A:function(){return showHttpError}});var r=n(36388),a=n(28165);function showHttpError(e){(0,r.Q)((0,a.q)(e))}},65828:function(e,t,n){"use strict";n.d(t,{D:function(){return showNotification}});var r=n(54606),a=n(310),o=n(72231);let i={notifications:[]};function findNotification(e){return i.notifications.filter(t=>!e||(!e.keys||e.keys.every(e=>t.keys.includes(e)))&&(!e.type||e.type===t.type)&&(!e.id||e.id===t.id))}var s=n(51123);function hideNotifications(e){findNotification(e).forEach(e=>{e.type===o._.Toaster?a.X.remove(e.id):e.type===o._.Alert&&(0,r.Hw)(e.id);(0,s.E)(i.notifications,e)})}var l=n(88391),c=n(37901),d=n.n(c);function getColorFromTheme(e){switch(e){case"error":return"var(--color-icon-boldest)";case"warning":return"var(--color-icon-warning)";case"success":return"var(--color-icon-success)";default:return"var(--color-icon-info)"}}function showNotificationLegacy(e){let t=(0,l.q)(),n={type:e.type??o._.Alert,keys:e.keys??[],id:e.keys?e.keys.join("-"):d()()};(n.type!==o._.Toaster||!t&&e.unique)&&hideNotifications(n);e.duration&&setTimeout(hideNotifications,e.duration,{id:n.id});if(n.type!==o._.Toaster||t){if(n.type===o._.Toaster)if(e.vueComponent)a.X.add({},{type:"custom",id:n.id,behavior:{autoDismiss:e.autoCollapse,dismissTimeout:e.duration},vueComponent:e.vueComponent});else{let t,r=e.actionLink?.data&&"isDoNotShowAgain"in e.actionLink.data,o=(r?[...e.links??[]]:[e.actionLink,...e.links??[]]).filter(e=>null!=e);t=0===o.length?{type:"none"}:1===o.length?{type:"single",actions:[{icon:{name:o[0].icon??"mark-check",variant:"glyph"},isPrimary:!0,tooltip:o[0].label??"",onClick:o[0].onClick}]}:{type:"dual",actions:o.slice(0,2).toReversed().map((e,t)=>({icon:{name:e.icon??"mark-check",variant:"glyph"},isPrimary:1===t,tooltip:e.label??"",onClick:e.onClick}))};a.X.add({},{type:"composable",id:n.id,behavior:{autoDismiss:e.autoCollapse,dismissTimeout:e.duration,hidePermanently:r?e.actionLink?.onClick:void 0,onDismissed:()=>e.closed?.()},avatar:e.image||e.avatarUrl?{type:"image",image:e.image||e.avatarUrl}:{type:"icon",icon:e.icon?{name:e.icon,variant:"glyph",color:getColorFromTheme(e.theme)}:{name:"circle-fill-info",variant:"glyph",color:"var(--color-icon-info)"}},content:{type:"html",content:e.content??""},actions:t})}else if(n.type===o._.Alert){let t="warning"===e.theme?"error":e.theme??"info";(0,r.Tj)({id:n.id,type:t,message:e.content??""})}}else a.X.add({id:n.id,autoCollapse:e.autoCollapse??!0,duration:e.duration,content:e.content??"",icon:e.icon,links:e.links,actionLink:e.actionLink,avatarUrl:e.avatarUrl,vueComponent:e.vueComponent,image:e.image,imageBackgroundColor:e.imageBackgroundColor,closed:e.closed,mounted:e.mounted});i.notifications.push(n)}function showToast(e,t){a.X.add({...t.notification.legacy,id:e.id,closed(){(0,s.E)(i.notifications,e);t.notification.legacy.closed?.()}},{...t.notification.redesign,id:e.id,behavior:{...t.notification.redesign.behavior,onDismissed(n){(0,s.E)(i.notifications,e);t.notification.redesign.behavior?.onDismissed?.(n)}}})}function showNotification(e){if("legacy"===e.type)return showNotificationLegacy({duration:e.duration,unique:e.unique,keys:e.keys,...e.notification});let t={type:getNotificationTypeFromShowNotificationType(e),id:getNotificationIdFromShowNotificationOptions(e),keys:e.keys??[]};if("alert"===e.type&&e.unique)hideNotifications(t);else if("toast"===e.type&&e.unique&&t.keys&&(0,l.q)()){let e=findNotification({type:t.type,keys:t.keys});for(let n of e)n.id!==t.id&&hideNotifications(n)}else"toast"===e.type&&e.unique&&!(0,l.q)()&&hideNotifications(t);"duration"in e&&e.duration&&setTimeout(()=>hideNotifications({id:t.id}),e.duration);"alert"===e.type?(0,r.Tj)({...e.notification,id:t.id}):showToast(t,e);i.notifications.push(t)}function getNotificationTypeFromShowNotificationType(e){return"alert"===e.type?o._.Alert:o._.Toaster}function getNotificationIdFromShowNotificationOptions(e){return("alert"===e.type?e.notification.id:e.notification.redesign.id)??e.keys?.join("-")??d()()}},10295:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});let r={Live:0,RCN:1}},77266:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});let r={AcceptLiveChallenge:"AcceptLiveChallenge",CancelLiveChallenge:"CancelLiveChallenge",DeclineLiveChallenge:"DeclineLiveChallenge",AcceptRcnChallenge:"AcceptRcnChallenge",CancelRcnChallenge:"CancelRcnChallenge",DeclineRcnChallenge:"DeclineRcnChallenge",ShowIncomingChallenge:"ShowIncomingChallenge",HideIncomingChallenge:"HideIncomingChallenge",ShowOutgoingChallenge:"ShowOutgoingChallenge",HideOutgoingChallenge:"HideOutgoingChallenge",DailyGameMoveMade:"DailyGameMoveMade"}},72231:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r={Toaster:0,Alert:1}},48427:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});let r=(0,n(49132).createBroadcastEmitter)({broadcastChannelId:"notifications"})},64822:function(e,t,n){"use strict";n.d(t,{E:function(){return subscribeChannel}});var r=n(28686),a=n(31194);async function connectPubSubClient(e){return e in a.p.connecting?a.p.connecting[e]:a.p.clients[e]?void 0:(a.p.connecting[e]=new Promise((t,o)=>{let i={debug:!1,maxReconnectionDelayMs:5e3,reconnectionDelayPowBase:1.3,uid:window.context?.user?.uuid,url:e.startsWith("wss://")?e:window.PubSub.options.url.pubsub.replace(/\/pubsub(\/)?$/,e)},s={onAttach:()=>{delete a.p.connecting[e];(0,r.c)(e);t()},onConnect:()=>{delete a.p.connecting[e];(0,r.c)(e);t()},onDetach:()=>{(0,r.c)(e)},onFailure:t=>{delete a.p.connecting[e];delete a.p.clients[e];o(t)}};n.e(6581).then(n.bind(n,36581)).then(({default:t})=>{a.p.clients[e]=t.connect(i,s);(0,r.c)(e)})}),a.p.connecting[e])}let o="$";var i=n(81055);function getSubscriptionChannel(e){return(0,i.Kg)(e)?e:e.join("/")}var s=n(77770);function getSubscriptionKey({channel:e,pubsub:t}){return(0,s.t)(t)?`${t}${o}${getSubscriptionChannel(e)}`:getSubscriptionChannel(e)}function unsubscribePubSubChannel(e){let t=getSubscriptionKey(e),n=e.pubsub;a.p.subscriptions[t]?.close();delete a.p.subscriptions[t];delete a.p.subscribing[t];if(!(0,s.t)(n))return;let r=Object.keys(a.p.subscriptions).filter(e=>e.split(o)[0]===n);if(!r.length&&a.p.clients[n]){a.p.clients[n].close();a.p.reactive.quality.remove(n);delete a.p.clients[n]}}var l=n(74358);let c=3e4;var d=n(92202),u=n(13037),h=n(32616);class p extends Error{failure=null;channel="";constructor(e,t,n){let r=n?`; ${n} attempts`:"";"timeout"===t.code?super(`timed out while subscribing to ${e}${r}`):super(`failed to subscribe to ${e} (code: ${t?.code}${r})`);this.channel=e;this.failure=t}}var m=n(1478);async function postPubSubErrorToClientMetrics({channel:e,message:t,url:n}){return(0,m.C)({channel:e,message:String(t)||"Unknown PubSub failure",type:"PUBSUB",url:n})}var f=n(92648);async function subscribePubSubChannel(e){(0,s.t)(e.pubsub)?await connectPubSubClient(e.pubsub):(0,u.$)()||await (0,l.e)();let t=getSubscriptionKey(e);return t in a.p.subscribing?a.p.subscribing[t]:a.p.subscriptions[t]?void 0:(a.p.subscribing[t]=new Promise((n,r)=>{let o,i,l=e.pubsub??"",u=getSubscriptionChannel(e.channel),m=(0,s.t)(e.pubsub)?a.p.clients[e.pubsub]:window.PubSub.client,g=0;function handleSuccess(){clearTimeout(o);d.V.emit(h.D.Subscribed,{channel:u,url:l,attempts:g});delete a.p.subscribing[t];a.p.subscriptions[t]=i;n()}async function handleFailure(t){clearTimeout(o);if(t?.code===401&&g<=1){let e=!1;try{await (0,f.M)();e=!0}catch{}if(e){m.setOnline(!1);m.setOnline(!0);subscribeWithTimeout();return}}unsubscribePubSubChannel({channel:u,pubsub:e.pubsub});d.V.emit(h.D.SubscriptionError,{channel:u,url:l,failure:t,attempts:g});let n=new p(u,t,g);postPubSubErrorToClientMetrics({channel:u,url:l,message:n.message});r(n)}function subscribeWithTimeout(){g++;o=setTimeout(()=>{t in a.p.subscribing&&handleFailure({code:"timeout",message:`${c}ms`})},c);i=m.subscribe(u,{onDetach(){d.V.emit(h.D.SubscriptionDetached,{channel:u,url:l});clearTimeout(o);e.onDetach?.()},onAttach(n){t in a.p.subscribing&&handleSuccess();e.onAttach?.(n)},onFailure(e){handleFailure(e)},onMessage(n){t in a.p.subscribing&&handleSuccess();Promise.resolve({channel:u,message:n}).then(e.onMessage)},onComplete(){d.V.emit(h.D.SubscriptionCompleted,{channel:u,url:l});clearTimeout(o);unsubscribePubSubChannel({channel:u,pubsub:e.pubsub});n()}})}setTimeout(subscribeWithTimeout)}),a.p.subscribing[t])}function subscribeChannel(e,t){return subscribePubSubChannel({channel:e,onMessage:t})}},28686:function(e,t,n){"use strict";n.d(t,{c:function(){return updateConnectionStatus}});var r=n(37082),a=n(92202),o=n(31194),i=n(32616),s=n(77770);function updateConnectionStatus(e=r.c){let t=(0,s.t)(e)?o.p.clients[e]:window.PubSub?.client;if(!t)return;let n=o.p.reactive.quality.find(e),l=!!t.isAttached?.();!!n?.isConnected!==l&&a.V.emit(l?i.D.Established:i.D.Interrupted,{url:e});let c=t.getQuality(),d={isConnected:l,url:e};0!==c&&(d.connectionQuality=c);o.p.reactive.quality.update(d)}},56965:function(e,t,n){"use strict";n.d(t,{$:function(){return waitForPubSubClient}});var r=n(31075);let a=window.chesscom.featuresConfig?.play_rcn_matcher_switch?.pubsubClientTimeout??1e4;var o=n(31194),i=n(77781);async function waitForPubSubClient(e={}){if(window.PubSub?.client)return;if(!o.p.isEnabled){if(!(0,r.M)())throw Error("Failed to wait for PubSub.client because user is not logged in");throw Error("PubSub.client script loaded but failed")}if(!o.p.scriptElement)throw Error("PubSub.client script element not found");let{waitTimeout:t,pollInterval:n}={waitTimeout:a,pollInterval:20,...e},s=Date.now();for(;;){if(window.PubSub?.client)return;if(!o.p.isEnabled)throw Error(`PubSub.client script loaded but failed after ${Date.now()-s}ms`);if(t>0&&Date.now()-s>t)if(o.p.scriptElement?.onload){o.p.isEnabled=!1;throw Error(`PubSub.client script loaded but failed after ${t}ms`)}else throw Error(`PubSub.client script timeout after ${t}ms`);await (0,i.u)(n)}}},74358:function(e,t,n){"use strict";n.d(t,{e:function(){return waitForPubSubConnection}});var r=n(93930),a=n(28686),o=n(56965),i=n(13037);async function waitForPubSubConnection(){await (0,o.$)({waitTimeout:0,pollInterval:50});(0,a.c)();if(!(0,i.$)())return new Promise(e=>{let onConnect=()=>{window.PubSub.off(r.D6.CONNECT,onConnect);window.PubSub.off(r.D6.RECONNECT,onConnect);e()};window.PubSub.on(r.D6.CONNECT,onConnect);window.PubSub.on(r.D6.RECONNECT,onConnect)})}},37082:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});let r="/pubsub"},92202:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});let{createEventEmitter:r}=n(30327).EventEmitterUtil,a=r()},13037:function(e,t,n){"use strict";n.d(t,{$:function(){return isPubSubConnected}});var r=n(37082),a=n(31194);function isPubSubConnected(){return!!a.p.reactive.quality.find(r.c)?.isConnected}},50787:function(e,t,n){"use strict";n.d(t,{X:function(){return isPubSubEnabled}});var r=n(31194);function isPubSubEnabled(){return r.p.isEnabled}},32852:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(49132);let a=(0,r.createContext)();var o=n(8588);function setupPubSubClientHeaders(){o.A.interceptors.request.use(e=>{e.headers??={};let t=a?.getPlayClientId?.();t&&(e.headers["x-chesscom-play-client"]=t);let n=a?.getClientId?.();return n&&(e.headers["x-chesscom-client"]=n),e})}var i=n(50787);let s=(0,r.createClientLoader)({shouldLoad:i.X,loader:()=>n.e(3310).then(n.bind(n,59836)),preloader:()=>setupPubSubClientHeaders()}),l=(0,r.createExtension)({clients:[s],context:a})},31194:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(37082),a=n(49132);class o extends a.Model{connectionQuality=0;isConnected=!1;url=r.c}var i=n(7118);let s=document.querySelector('script[src*="pubsub-connection"], script[data-src*="pubsub-connection"]')??null,l={clients:{},connecting:{},subscriptions:{},subscribing:{},scriptElement:s,isEnabled:!!s,reactive:(0,i.reactive)({quality:(0,a.createCollection)(o,{key:"url"})})}},32616:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});let r={Established:"Established",Interrupted:"Interrupted",Subscribed:"Subscribed",SubscriptionCompleted:"SubscriptionCompleted",SubscriptionDetached:"SubscriptionDetached",SubscriptionError:"SubscriptionError"}},77770:function(e,t,n){"use strict";n.d(t,{t:function(){return isAlternativePubSub}});function isAlternativePubSub(e){return!!(e&&"/pubsub"!==e&&"/pubsub/"!==e)}},12698:function(e,t,n){"use strict";n.d(t,{D:function(){return trackUntypedUserActivity}});var r=n(44725);async function trackUntypedUserActivity(e,t,n,a){(await (0,r.e)()).sendTrackEvent(e,t,n,a)}},90527:function(e,t,n){"use strict";n.d(t,{M:function(){return trackUserActivityEvent}});var r=n(44725);async function trackUserActivityEvent(e,t){(await (0,r.e)()).sendEvent(e,t)}},20598:function(e,t,n){"use strict";n.d(t,{K:function(){return trackUserActivity}});let r=(0,n(49132).createQueuedEmitter)(),a={Navigation:"UserActivityServiceMethod.Navigation",Identify:"UserActivityServiceMethod.Identify",Track:"UserActivityServiceMethod.Track"};var o=n(76014),i=n(44725);async function sendUserActivityTrackerEvent(e,t){e.tracker===o.N.Service&&await sendEventThroughUserActivityService(t,e)}async function sendEventThroughUserActivityService(e,t){let n=await (0,i.e)(),r=t.name??e.name,{user:o}=window.context||{};switch(t.method){case a.Identify:if(!o)return;n.sendIdentifyEvent(r,o.uuid,o.id,e.userProperties);break;case a.Navigation:n.sendNavigationEvent(r);break;default:n.sendTrackEvent(r,e.eventProperties,e.userProperties,e.incrementProperties)}}async function trackUserActivity(e,t,n){let a={name:e.name,trackers:e.trackers,userProperties:e.userProperties?{...e.userProperties}:{},eventProperties:e.eventProperties?{...e.eventProperties}:{}};t&&"eventProperties"in a&&Object.assign(a.eventProperties,t);n&&"userProperties"in a&&Object.assign(a.userProperties,n);await r.emit(a.name,a);for(let e of a.trackers)"enabled"in e&&!e.enabled||await sendUserActivityTrackerEvent(e,a)}},56130:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});let r="cached-user-activity-service"},76014:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});let r={Service:"UserActivityTracker.Service"}},40519:function(e,t,n){"use strict";n.d(t,{x:function(){return getUserActivityInfo}});var r=n(31025),a=n(86946);function getUserActivityInfo(){let{user:e}=window.context||{},t=e?.uuid,n=e&&!e.isGuest?e.id:void 0,o=(0,r.N)(),i=e&&n&&e.bucketingId?e.bucketingId:(0,a.Ri)("BUCKETING_ID_V2")??void 0;return{userId:t,legacyUserId:n,deviceId:o,bucketingId:i}}},44725:function(e,t,n){"use strict";n.d(t,{e:function(){return getUserActivityService}});var r=n(56130),a=n(40519);function getUserActivityService(){if(window.chesscom?.userActivityService)return window.chesscom.userActivityService;let{userId:e,legacyUserId:t,bucketingId:o,deviceId:i}=(0,a.x)(),s={applicationId:"APPLICATION_CHESSCOM",cacheKey:r.e,client:{build:window.context.commit,name:"WEB",version:window.context.version},legacyUserId:t,deviceId:i,userId:e,bucketingId:o};return window.chesscom.userActivityService=n.e(4154).then(n.bind(n,74154)).then(e=>e.createUserActivityClient(s)),window.chesscom.userActivityService}},31025:function(e,t,n){"use strict";n.d(t,{N:function(){return syncDeviceId}});var r=n(86946),a=n(42302);function syncDeviceId(){let e=localStorage.getItem("user-activity-sdk-device-id"),t=getRemoteDeviceIdFromCookie(),n=t??(0,a.A)();return e&&e!==t&&updateDeviceIdInCookie(n=e),e||t||updateDeviceIdInCookie(n),e||localStorage.setItem("user-activity-sdk-device-id",n),n}function updateDeviceIdInCookie(e){let t=JSON.stringify({deviceId:e});(0,r.TV)("me",encodeURIComponent(t),365,String(window.context?.cookies?.domain||""))}function getRemoteDeviceIdFromCookie(){let e=(0,r.Ri)("me");if(e)try{return JSON.parse(decodeURIComponent(e)).deviceId}catch(e){}}},11875:function(e,t,n){"use strict";n.d(t,{j:function(){return hideUserPopover}});var r=n(52436),a=n(969),o=n(15678);function hideUserPopover(){o.U.actionClicked||(0,r.z)("closeNoActions",!1);o.U.show=!1;o.U.loading=!0;o.U.user=new a.F;o.U.userDoesExist=!0;o.U.presenceDetails=null;o.U.presenceDetailsFetched=!1}},33286:function(e,t,n){"use strict";n.d(t,{O:function(){return setActionClicked}});var r=n(15678);function setActionClicked(){r.U.actionClicked=!0}},97050:function(e,t,n){"use strict";n.d(t,{s:function(){return setUserPopoverPosition}});var r=n(59796);let a={top:"top",right:"right",bottom:"bottom",left:"left",bottomLeft:"bottom-left"};function getUserPopoverPosition({hoveredElem:e,popupHeight:t=152,popupWidth:n=460,isAdminActionsVisible:r}){let o={top:null,left:null,right:null,x:null,y:null},i=182,s=e.width/2,l=window,c=e.bottom+(t>i?t:i)<l.innerHeight,d=n-28-12,u=e.left+s+d<l.innerWidth;if(c){o.top=e.bottom;o.y=a.bottom}else{o.top=e.bottom-e.height-(r?245:155);o.y=a.top}if(u){o.left=e.left+s-(n-d);o.right=window.innerWidth-e.right;o.x=a.right}else{o.left=e.left+s-d;o.right=window.innerWidth-e.right;o.x=a.left}return o.top=Math.round(o.top),o.left=Math.round(o.left),o.right=Math.round(o.right),o}var o=n(36761),i=n(53880);function popoverPositionStyle(e){let t,n=(0,i.Fr)()&&window.innerWidth<768;if((0,o.P)())t=`left: auto; right: ${e.right}px; top: ${e.top}px;`;else{t=`transform: translate(${e.left}px, ${e.top}px);`;n&&(t=`transform: translateY(${e.top}px);`)}return t}var s=n(15678),l=n(61242);function setUserPopoverPosition(){if(!s.U.userPopoverTriggerElement||!document.body.contains(s.U.userPopoverTriggerElement))return;let e=s.U.userPopoverTriggerElement.getBoundingClientRect(),t={},n=(r.c.shouldDisplayAdminActions?.()??!1)&&(0,l.H)()?.isModerator&&!s.U.isOwnPopover&&!s.U.user.isStaff;if(s.U.popoverRef){let{height:r,width:a,y:o}=s.U.popoverRef.getBoundingClientRect();t=getUserPopoverPosition({hoveredElem:e,popupHeight:r,popupWidth:a,isAdminActionsVisible:n});s.U.moreMenuOpensDown=window.innerHeight-o-r>=150}else t=getUserPopoverPosition({hoveredElem:e,popupHeight:155,popupWidth:460,isAdminActionsVisible:n});s.U.inlineStyles=popoverPositionStyle(t)}},52436:function(e,t,n){"use strict";n.d(t,{z:function(){return trackUserPopoverClicked}});var r=n(20598);let a={name:"userPopoverClicked",eventProperties:{},trackers:[{tracker:n(76014).N.Service,name:"User Popover Clicked"}]};var o=n(33286),i=n(15678);function trackUserPopoverClicked(e,t){(0,o.O)();(0,r.K)(a,{buttonClicked:e,popoverState:t?"expanded":"collapsed",chessTitle:i.U.user.chessTitle,isStreamer:i.U.user.isStreamer})}},31681:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});let r={BanUser:"UserPopoverEvents.BanUser",BughousePartner:"UserPopoverEvents.BughousePartner",BughouseUnpartner:"UserPopoverEvents.BughouseUnpartner",Challenge:"UserPopoverEvents.Challenge",Follow:"UserPopoverEvents.Follow",KickUser:"UserPopoverEvents.KickUser",MuteUser:"UserPopoverEvents.MuteUser",ShowArchive:"UserPopoverEvents.ShowArchive",ShowUserPopover:"UserPopoverEvents.ShowUserPopover",TrackChallengeClicked:"UserPopoverEvents.TrackChallengeClicked",TrackMessageClicked:"UserPopoverEvents.TrackMessageClicked",TrackPopoverViewed:"UserPopoverEvents.TrackPopoverViewed",Unblock:"UserPopoverEvents.Unblock",Unfollow:"UserPopoverEvents.Unfollow",UnMuteUser:"UserPopoverEvents.UnMuteUser",WarnUser:"UserPopoverEvents.WarnUser"}},59796:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});let r=(0,n(49132).createContext)()},35694:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});let r=(0,n(49132).createQueuedEmitter)()},969:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(49132);class a extends r.Model{code="";description="";id=null;name="";status=""}class o extends r.Model{code="";level=0;name="";vacation_accrue_days=0;vacation_add_days=0;vacation_cap_days=0}class i extends r.Model{allowFriendRequests=!0;areFriends=!1;avatarUrl="";bestRating=0;bestRatingType="";blocksCurrentUser=!1;canBeBlocked=!0;canReceiveGiftMembership=!1;chessTitle=null;countryId=0;countryName="";firstName=null;friendsCount=0;flair=new a;isBlocked=!1;isCoach=!1;isEnabled=!1;isFriendRequestExists=!1;isFriendRequestFromUserExists=!1;isGuest=!1;isMessageable=!1;isModerator=!1;isStaff=!1;isStreamer=!1;isTopBlogger=!1;isTracked=!1;joinDate="";lastLoginDate="";lastName=null;membership=new o;notMessageableReasonCode="";onlineStatus="";rating=0;ratingType="";topPuzzleRushScore=null;topPuzzleRushScoreType=null;userId=0;uuid=""}},15678:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(969);let a=(0,n(7118).reactive)({actionClicked:!1,clubChatIdForModeratorActions:0,inlineStyles:"",isOwnPopover:!1,lifetimeScore:{draw:0,lose:0,win:0},loading:!0,location:"",moreMenuOpensDown:!0,opponent:null,popoverPosition:{top:0,left:0},popoverRef:null,presenceDetails:null,presenceDetailsFetched:!1,show:!1,shouldDisplayAdminActions:!1,showRating:!0,user:new r.F,userDoesExist:!0,userIsMutedInChat:!1,userPopoverTriggerElement:null,username:"",visible:!0})},82825:function(e,t,n){"use strict";n.d(t,{U:function(){return searchUsernameLegacy}});var r=n(61999),a=n(23618);function searchUsernameLegacy(e){return r.A.get(a.A.generate("web_user_callback_username_search",{activeDays:4e3,orderByFriendsFirst:1,query:e}))}},61242:function(e,t,n){"use strict";n.d(t,{H:function(){return getCurrentUser}});var r=n(72302);function getCurrentUser(){return r.D.currentUser}},72302:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var r=n(64939),a=n(49132);class o extends a.Model{avatarUrl=null;avatarLargeUrl=null;chessTitle=null;country=null;eligibleFirstTrial=!1;flairCode=null;flair=null;id="";isGuest=!1;isModerator=!1;isActivated=!1;membership=null;membershipLevel=null;userId=0;username="";uuid;constructor(e){super();e&&(0,a.updateModel)(this,e)}isPremium(){return"basic"!==this.membership}getMembershipLevel(){return this.membership&&this.membership in r.x?r.x[this.membership]:null}}var i=n(20063),s=n(7118);let l=(0,i.N)(),c=l?new o({id:l.uuid,isGuest:l.isGuest,isModerator:l.isModerator,isActivated:l.isActivated,eligibleFirstTrial:l.eligibleFirstTrial,userId:l.id,membership:l.membershipCode,membershipLevel:l.membershipLevel,flairCode:l.flairCode,flair:l.flair,country:l.country.code,chessTitle:l.chessTitle,username:l.username,avatarUrl:l.avatarUrl,avatarLargeUrl:l.avatarLargeUrl}):null,d=(0,s.reactive)({currentUser:c,roles:[]})},88391:function(e,t,n){"use strict";n.d(t,{q:function(){return isNavbarRedesignActive}});var r=n(29558);function isNavbarRedesignActive(){return window.chesscom?.features?.includes("web_navbar_redesign_experiment_bypass")||window.chesscom?.features?.includes("web_navbar_redesign")&&(0,r.E4)("navbar_2025","new_nav")&&!window.chesscom.userInNavbarRedesignExclusionAudience}},77853:function(e,t,n){"use strict";n.d(t,{DEFAULT_TRANSPORT:function(){return p},createClient:function(){return createClient},defaultTransportConfig:function(){return defaultTransportConfig},setHeaders:function(){return setHeaders}});n(58254);var r=n(95137),a=n(2045),o=n(7815),i=n(98148),s=n(63656);let l=(0,s.fileDesc)("ChtjaGVzc2NvbS9hcGkvdjEvZXJyb3IucHJvdG8SD2NoZXNzY29tLmFwaS52MSKJAQoKVHdpcnBFcnJvchILCgNtc2cYASABKAkSDAoEY29kZRgCIAEoCRIzCgRtZXRhGAMgAygLMiUuY2hlc3Njb20uYXBpLnYxLlR3aXJwRXJyb3IuTWV0YUVudHJ5GisKCU1ldGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBYgZwcm90bzM"),c=(0,s.messageDesc)(l,0);var d=n(91956),u=n(97171),h=n(61999);async function axiosFetch(e,t={}){let n,r={headers:Object.fromEntries(t?.headers?.entries()??[]),withCredentials:!0,signal:t.signal??void 0};r.headers?.["content-type"]==="application/proto"&&(r.headers["content-type"]="application/protobuf");n="string"==typeof e?e:"searchParams"in e?e.toString():e.url;try{let e=await h.A.post(n,t.body,r);return new Response(JSON.stringify(e.data),{status:e.status,statusText:e.statusText,headers:convertHeaders(e.headers)})}catch(e){if(h.A.isCancel(e))throw new DOMException("canceled","AbortError");if(h.A.isAxiosError(e)&&e.response&&e.response.data){let t=convertHeaders(e.response.headers),n=new o.ConnectError(e.response.data.msg??"Error",(0,d.X)(e.response.data.code)??o.Code.Unknown,t,[{desc:c,value:e.response.data??{}}]);return new Response(JSON.stringify((0,u.gO)(n,void 0)),{status:e.response.status,statusText:e.response.statusText,headers:t})}throw e}}function convertHeaders(e){let t=new Headers;for(let[n,r]of Object.entries(e))if("string"==typeof r)t.set(n,r);else if(Array.isArray(r))for(let e of r)t.append(n,e);return t}function identity(e){return e}function range(e,t,n=1){if(null==t){t=e;e=0}if(!Number.isInteger(n)||0===n)throw Error("The step value must be a non-zero integer.");let r=Math.max(Math.ceil((t-e)/n),0),a=Array(r);for(let t=0;t<r;t++)a[t]=e+t*n;return a}function isLength(e){return Number.isSafeInteger(e)&&e>=0}function isArrayLike(e){return null!=e&&"function"!=typeof e&&isLength(e.length)}function forEach(e,t=identity){if(!e)return e;let n=isArrayLike(e)||Array.isArray(e)?range(0,e.length):Object.keys(e);for(let r=0;r<n.length;r++){let a=n[r],o=t(e[a],a,e);if(!1===o)break}return e}function baseUrlInterceptor(e,t){function getBaseUrl(n){if(void 0!==t){if("function"==typeof t)return t(e,n);if(t[n.parent.name])return t[n.parent.name](e,n)}let r=getApiOptions(n.parent),a=r.metadata?.isPlatformService?window.PubSub?.options?.url?.base||"/":e;return r.prefix&&!a.endsWith(r.prefix)?a.replace(/\/?$/,r.prefix):a}return e=>async t=>{let n=getBaseUrl(t.method);return e({...t,url:getMethodUrl(n,t.method)})}}function getMethodUrl(e,t){return e.replace(/\/?$/,`/${t.parent.typeName}/${t.name}`)}function platformServiceUidInterceptor(){return e=>async t=>{let n=getApiOptions(t.method.parent);if(n.metadata?.isPlatformService&&!["staging","prod"].includes(window.context.environment||"")&&window.context.user?.uuid){let[n,r=""]=t.url.split("?"),a=new URLSearchParams(r);return a.set("uid",window.context.user.uuid),e({...t,url:`${n}?${a.toString()}`})}return e(t)}}function setHeaders(e){return t=>async n=>(forEach(e,(e,t)=>{void 0!==e&&n.header.set(t,e)}),t(n))}function clientLocaleInterceptor(){return setHeaders({"Accept-Language":window.context?.i18n?.locale})}function defaultTransportConfig(e,...t){let n,r;if("string"==typeof e)n=e;else{n=window.chesscom.features.includes("web_api_domain_rpc")?`https://${window.Config["domain.api"]}`:"/";r=e}let a=[baseUrlInterceptor(n,r),platformServiceUidInterceptor(),clientLocaleInterceptor(),...t];return isPlaywrightTest()&&a.shift(),{baseUrl:n,useBinaryFormat:!1,interceptors:a,fetch:axiosFetch}}let p=(0,i.createConnectTransport)(defaultTransportConfig());function createClient(e,t=p){return(0,o.createClient)(e,t)}function getApiOptions(e){return(0,r.getOption)(e.file,a.sA)}function isPlaywrightTest(){return navigator.userAgent.includes("Playwright")}},414:function(e,t,n){"use strict";n.d(t,{q:function(){return pack}});var r=n(95137),a=n(4753);function pack(e,t){if(!(0,r.hasOption)(e,a.Dj)&&!(0,r.hasOption)(e,a.kK))throw Error(`Packed message must contain event_definition or context_extension option, but such option was not found on the ${e.name}`);return Object.assign((0,r.toJson)(e,(0,r.create)(e,t)),{"@type":`type.googleapis.com/${e.typeName}`})}},58254:function(){},67426:function(e,t,n){"use strict";n.d(t,{jT:function(){return v},RZ:function(){return b},Qs:function(){return _},a2:function(){return w},Is:function(){return E}});var r=n(63656),a=n(5847),o=n(2045),i=n(54477);let s=(0,r.fileDesc)("CjtjaGVzc2NvbS9mcmllbmRzX3NlYXJjaC92MS9mcmllbmRzX25hdmlnYXRpb25fc2VydmljZS5wcm90bxIaY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEiGgoYTGlzdFJlY2VudEZyaWVuZHNSZXF1ZXN0ImMKGUxpc3RSZWNlbnRGcmllbmRzUmVzcG9uc2USRgoHZnJpZW5kcxgBIAMoCzI1LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLlNvY2lhbEZyaWVuZHNTZWFyY2hGcmllbmQixwEKH0xpc3RSZWNlbnRQZW5kaW5nRnJpZW5kc1JlcXVlc3QSOwoKcGFnaW5hdGlvbhgBIAEoCzIiLmNoZXNzY29tLmFwaS52MS5SZXF1ZXN0UGFnaW5hdGlvbkgAiAEBEkoKCWRpcmVjdGlvbhgCIAEoDjIyLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZFJlcXVlc3REaXJlY3Rpb25IAYgBAUINCgtfcGFnaW5hdGlvbkIMCgpfZGlyZWN0aW9uIqwBCiBMaXN0UmVjZW50UGVuZGluZ0ZyaWVuZHNSZXNwb25zZRJPCg9wZW5kaW5nX2ZyaWVuZHMYASADKAsyNi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5QZW5kaW5nRnJpZW5kc1NlYXJjaEZyaWVuZBI3CgpwYWdpbmF0aW9uGAIgASgLMiMuY2hlc3Njb20uYXBpLnYxLlJlc3BvbnNlUGFnaW5hdGlvbiL6AgoZU29jaWFsQXV0b2NvbXBsZXRlUmVxdWVzdBIRCgl1c2VyX3V1aWQYASABKAkSDgoGcHJlZml4GAIgASgJEhwKD2luY2x1ZGVfZnJpZW5kcxgDIAEoCEgAiAEBEiAKE2luY2x1ZGVfc3VnZ2VzdGlvbnMYBCABKAhIAYgBARIaCg1mcmllbmRzX2xpbWl0GAUgASgFSAKIAQESHgoRc3VnZ2VzdGlvbnNfbGltaXQYBiABKAVIA4gBARIhChRleGFjdF91c2VybmFtZV9maXJzdBgHIAEoCEgEiAEBEhsKDmJvb3N0X3VzZXJuYW1lGAggASgISAWIAQFCEgoQX2luY2x1ZGVfZnJpZW5kc0IWChRfaW5jbHVkZV9zdWdnZXN0aW9uc0IQCg5fZnJpZW5kc19saW1pdEIUChJfc3VnZ2VzdGlvbnNfbGltaXRCFwoVX2V4YWN0X3VzZXJuYW1lX2ZpcnN0QhEKD19ib29zdF91c2VybmFtZSKwAQoaU29jaWFsQXV0b2NvbXBsZXRlUmVzcG9uc2USRgoHZnJpZW5kcxgBIAMoCzI1LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLlNvY2lhbEZyaWVuZHNTZWFyY2hGcmllbmQSSgoLc3VnZ2VzdGlvbnMYAiADKAsyNS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5Tb2NpYWxGcmllbmRzU2VhcmNoRnJpZW5kMr0DChhGcmllbmRzTmF2aWdhdGlvblNlcnZpY2USgAEKEUxpc3RSZWNlbnRGcmllbmRzEjQuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuTGlzdFJlY2VudEZyaWVuZHNSZXF1ZXN0GjUuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuTGlzdFJlY2VudEZyaWVuZHNSZXNwb25zZRKVAQoYTGlzdFJlY2VudFBlbmRpbmdGcmllbmRzEjsuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuTGlzdFJlY2VudFBlbmRpbmdGcmllbmRzUmVxdWVzdBo8LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkxpc3RSZWNlbnRQZW5kaW5nRnJpZW5kc1Jlc3BvbnNlEoUBChJTb2NpYWxBdXRvY29tcGxldGUSNS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5Tb2NpYWxBdXRvY29tcGxldGVSZXF1ZXN0GjYuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuU29jaWFsQXV0b2NvbXBsZXRlUmVzcG9uc2UiAEKGAcq3LIEBChsvc2VydmljZS9mcmllbmRzLXNlYXJjaC9pZGwSURIac2FuZGJveC5jaGVzcy1wbGF0Zm9ybS5jb20SGnN0YWdpbmcuY2hlc3MtcGxhdGZvcm0uY29tEhdwcm9kLmNoZXNzLXBsYXRmb3JtLmNvbRoLEglwaHBzZXNzaWQiAggBYgZwcm90bzM",[a.db,o.KK,i.px]),l=(0,r.serviceDesc)(s,0);var c=n(40422);let d=(0,r.fileDesc)("CjdjaGVzc2NvbS9mcmllbmRzX3NlYXJjaC92MS9mcmllbmRzX3NlYXJjaF9zZXJ2aWNlLnByb3RvEhpjaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MSKCAgoTUXVlcnlGcmllbmRzUmVxdWVzdBIRCgR1dWlkGAEgASgJSACIAQESJAoXaW5jbHVkZV9wcmVzZW5jZV9zdGF0dXMYAiABKAhIAYgBARI7CgpwYWdpbmF0aW9uGAMgASgLMiIuY2hlc3Njb20uYXBpLnYxLlJlcXVlc3RQYWdpbmF0aW9uSAKIAQESQQoFcXVlcnkYBCABKAsyMi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUm9vdFF1ZXJ5QgcKBV91dWlkQhoKGF9pbmNsdWRlX3ByZXNlbmNlX3N0YXR1c0INCgtfcGFnaW5hdGlvbiKRAQoUUXVlcnlGcmllbmRzUmVzcG9uc2USNwoKcGFnaW5hdGlvbhgBIAEoCzIjLmNoZXNzY29tLmFwaS52MS5SZXNwb25zZVBhZ2luYXRpb24SQAoHZnJpZW5kcxgCIAMoCzIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hGcmllbmQi4QIKE0F1dG9jb21wbGV0ZVJlcXVlc3QSDgoGcHJlZml4GAEgASgJEhwKD2luY2x1ZGVfZnJpZW5kcxgCIAEoCEgAiAEBEiAKE2luY2x1ZGVfc3VnZ2VzdGlvbnMYAyABKAhIAYgBARIaCg1mcmllbmRzX2xpbWl0GAQgASgFSAKIAQESHgoRc3VnZ2VzdGlvbnNfbGltaXQYBSABKAVIA4gBARIhChRleGFjdF91c2VybmFtZV9maXJzdBgGIAEoCEgEiAEBEhsKDmJvb3N0X3VzZXJuYW1lGAcgASgISAWIAQFCEgoQX2luY2x1ZGVfZnJpZW5kc0IWChRfaW5jbHVkZV9zdWdnZXN0aW9uc0IQCg5fZnJpZW5kc19saW1pdEIUChJfc3VnZ2VzdGlvbnNfbGltaXRCFwoVX2V4YWN0X3VzZXJuYW1lX2ZpcnN0QhEKD19ib29zdF91c2VybmFtZSKeAQoUQXV0b2NvbXBsZXRlUmVzcG9uc2USQAoHZnJpZW5kcxgBIAMoCzIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hGcmllbmQSRAoLc3VnZ2VzdGlvbnMYAiADKAsyLy5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoRnJpZW5kIsEBChRHZXRCbG9ja2Vyc09mUmVxdWVzdBIMCgR1dWlkGAEgASgJEjsKCnBhZ2luYXRpb24YAiABKAsyIi5jaGVzc2NvbS5hcGkudjEuUmVxdWVzdFBhZ2luYXRpb25IAIgBARJPCgxleHRyYV9maWVsZHMYAyADKA4yOS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUmV0cmlldmFibGVGaWVsZEINCgtfcGFnaW5hdGlvbiKRAQoVR2V0QmxvY2tlcnNPZlJlc3BvbnNlEjcKCnBhZ2luYXRpb24YASABKAsyIy5jaGVzc2NvbS5hcGkudjEuUmVzcG9uc2VQYWdpbmF0aW9uEj8KDWJsb2NrZWRfdXNlcnMYAiADKAsyKC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5CbG9ja2VkVXNlcnMikwIKGEdldFVzZXJzQmxvY2tlZEJ5UmVxdWVzdBIMCgR1dWlkGAEgASgJEjgKD2xhc3RfbG9naW5fZGF0ZRgCIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIAIgBARJPCgxleHRyYV9maWVsZHMYAyADKA4yOS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUmV0cmlldmFibGVGaWVsZBI7CgpwYWdpbmF0aW9uGGMgASgLMiIuY2hlc3Njb20uYXBpLnYxLlJlcXVlc3RQYWdpbmF0aW9uSAGIAQFCEgoQX2xhc3RfbG9naW5fZGF0ZUINCgtfcGFnaW5hdGlvbiKVAQoZR2V0VXNlcnNCbG9ja2VkQnlSZXNwb25zZRI3CgpwYWdpbmF0aW9uGAEgASgLMiMuY2hlc3Njb20uYXBpLnYxLlJlc3BvbnNlUGFnaW5hdGlvbhI/Cg1ibG9ja2VkX3VzZXJzGAIgAygLMiguY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuQmxvY2tlZFVzZXJzIiYKFkdldEZyaWVuZHNDb3VudFJlcXVlc3QSDAoEdXVpZBgBIAEoCSIvChdHZXRGcmllbmRzQ291bnRSZXNwb25zZRIUCgxmcmllbmRfY291bnQYBCABKAUy+wQKFEZyaWVuZHNTZWFyY2hTZXJ2aWNlEnMKDFF1ZXJ5RnJpZW5kcxIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLlF1ZXJ5RnJpZW5kc1JlcXVlc3QaMC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5RdWVyeUZyaWVuZHNSZXNwb25zZSIAEnMKDEF1dG9jb21wbGV0ZRIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkF1dG9jb21wbGV0ZVJlcXVlc3QaMC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5BdXRvY29tcGxldGVSZXNwb25zZSIAEnYKDUdldEJsb2NrZXJzT2YSMC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5HZXRCbG9ja2Vyc09mUmVxdWVzdBoxLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkdldEJsb2NrZXJzT2ZSZXNwb25zZSIAEoIBChFHZXRVc2Vyc0Jsb2NrZWRCeRI0LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkdldFVzZXJzQmxvY2tlZEJ5UmVxdWVzdBo1LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkdldFVzZXJzQmxvY2tlZEJ5UmVzcG9uc2UiABJ8Cg9HZXRGcmllbmRzQ291bnQSMi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5HZXRGcmllbmRzQ291bnRSZXF1ZXN0GjMuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuR2V0RnJpZW5kc0NvdW50UmVzcG9uc2UiAEJ6yrcsdgobL3NlcnZpY2UvZnJpZW5kcy1zZWFyY2gvaWRsElESGnNhbmRib3guY2hlc3MtcGxhdGZvcm0uY29tEhpzdGFnaW5nLmNoZXNzLXBsYXRmb3JtLmNvbRIXcHJvZC5jaGVzcy1wbGF0Zm9ybS5jb20aACICCAFiBnByb3RvMw",[c.file_google_protobuf_timestamp,i.px,a.db,o.KK]),u=(0,r.serviceDesc)(d,0);var h=n(95137),p=n(7815),m=n(97171),f=n(54292);let g=null;function setupLegacyTransport(e){if(null!==g)throw Error("Transport is already set up. It can only be set up once.");g=e}function createLegacyFunc(e){return async(t,n,r,a,o)=>{var i,s,l;if(null===g)throw Error("Transport not provided. Make sure to call `setupLegacyTransport` before invoking service methods.");let c=(0,h.fromJson)(e.input,sanitize(t));try{let t=await g.unary(e,o,void 0,n,c,void 0);return{data:(0,h.toJson)(e.output,t.message,{alwaysEmitImplicit:!0}),headers:t.header,status:200,statusText:"OK"}}catch(e){if(e instanceof p.ConnectError){let t=(0,m.gO)(e,{}),n=(null==(s=null==(i=t.details)?void 0:i[0])?void 0:s.type)==="chesscom.api.v1.TwirpError"?null==(l=t.details[0].debug)?void 0:l.meta:void 0;throw{data:{msg:t.message,code:t.code,meta:n},headers:e.metadata,status:(0,f.r)(e.code),statusText:e.rawMessage}}throw Error(`Unexpected error: ${e}`)}}}function sanitize(e){return JSON.parse(JSON.stringify(e))}let b=createLegacyFunc(l.method.listRecentFriends),_=createLegacyFunc(l.method.listRecentPendingFriends),E=createLegacyFunc(l.method.socialAutocomplete),w=createLegacyFunc(u.method.queryFriends),v=createLegacyFunc(u.method.autocomplete);u.method.getBlockersOf;u.method.getUsersBlockedBy;u.method.getFriendsCount;setupLegacyTransport(n(77853).DEFAULT_TRANSPORT)},71346:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(40519);let a=(0,n(49132).createResource)({name:"coachesService.currentCoach",global:!0,persist:!0,async loader(){let e=await n.e(8706).then(n.bind(n,58706)),{bucketingId:t}=(0,r.x)();return{currentCoach:(await e.default.getCurrentCoach({localeOverride:window.context.i18n.locale,bucketingId:t,withCelebrityCoaches:!0},{headers:t?{"x-chesscom-bucketing-id":t}:void 0})).currentCoach}}})},47426:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(40519);let a=(0,n(49132).createResource)({name:"coachesService.coachesCategory",global:!0,persist:!0,async loader(){let e=await n.e(8706).then(n.bind(n,58706)),{bucketingId:t}=(0,r.x)();return(await e.default.listCoaches({localeOverride:window.context.i18n.locale,withCelebrityCoaches:!0},{headers:t?{"x-chesscom-bucketing-id":t}:void 0})).coachCategories.map(e=>({...e,coaches:e.coaches.map(e=>({...e,name:e.name}))}))}})},1478:function(e,t,n){"use strict";n.d(t,{C:function(){return postErrorToClientMetrics}});var r=n(72505);let a=n.n(r)().create();async function postErrorToClientMetrics(e){if(window.chesscom.features.includes("client_metrics_error_reporting"))return a.post(`${window.chesscom.clientMetricsDomain}/error-reporting/web`,{ip:window.context.ip,user:window.context.user?{countryCode:window.context.user.country.code,id:window.context.user.id,membershipCode:window.context.user.membershipCode,membershipLevel:window.context.user.membershipLevel,timezone:window.context.user.timezone,username:window.context.user.username}:{},userAgent:window.navigator.userAgent,error:e})}},31001:function(e,t,n){"use strict";n.d(t,{z:function(){return postHttpRequestErrorToClientMetrics}});var r=n(1478);let a=[/api\.iterable\.com/];async function postHttpRequestErrorToClientMetrics(e){if(!a.some(t=>t.test(e.requestUrl)))return(0,r.C)({message:e.message,method:e.method,requestHost:e.requestHost??window.location.hostname,requestUrl:e.requestUrl,stack:e.stack,status:e.status,type:"HTTP_REQUEST"})}},59469:function(e,t,n){"use strict";n.d(t,{d:function(){return findByUsername}});var r=n(61242),a=n(88095),o=n(52495),i=n(71319);async function getUserFriends(e){let{user:t,query:n,limit:r,signal:a}=e,{data:s}=await (0,i.s)({itemsPerPage:r,requesterUser:t.id,searchCriteria:{name:n},sorting:[{key:"presenceStatus",order:"desc"}],signal:a});return(s.friends??[]).map((0,o.x)({areFriends:!0}))}let s=25;async function findByUsername(e){let{query:t,onlyFriendsOfMine:n=!1,orderByFriendsFirst:o=!1,signal:i}=e,l=(0,r.H)();if(!l)throw Error("unauthorized");if(!t)return{data:[]};let c=[];if(o){if(t.length>=3){let e=await (0,a.m)({query:t,limit:s,signal:i}),n=e.find(e=>e.userView.username.toLowerCase()===t.toLowerCase()),r=e.filter(e=>e.userView.username.toLowerCase()!==t.toLowerCase());n&&c.push(n);c.push(...r.slice(0,s-c.length))}}else if(n)return{data:await getUserFriends({user:l,query:t,limit:s,signal:i})};return{data:c}}},22414:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});let r=20},52495:function(e,t,n){"use strict";n.d(t,{x:function(){return createFriendsSearchFriendDtoFactory}});function friendsSearchPresenceStatusToNumber(e){return["FRIENDS_SEARCH_PRESENCE_STATUS_UNSPECIFIED","FRIENDS_SEARCH_PRESENCE_STATUS_OFFLINE","FRIENDS_SEARCH_PRESENCE_STATUS_ONLINE","FRIENDS_SEARCH_PRESENCE_STATUS_PLAYING"].indexOf(e)}function userTypeToNumber(e){return["USER_TYPE_UNSPECIFIED","USER_TYPE_USER","USER_TYPE_GUEST","USER_TYPE_COMPUTER"].indexOf(e)??0}function createFriendsSearchFriendDtoFactory(e){let{areFriends:t=!1,eligibleUserUuids:n=[]}=e;return e=>({...e,friendSince:e.friendSince?new Date(e.friendSince).valueOf():void 0,isRequestorFriend:!!(e.isRequestorFriend||t),presence:friendsSearchPresenceStatusToNumber(e.presence),userCanReceiveGifts:n.includes(e.uuid),userView:{...e.userView,chessTitle:e.userView.chessTitle??"",country:e.userView.country??"",createdAt:e.userView.createdAt?new Date(e.userView.createdAt).valueOf():void 0,contentLanguageIncludesEnglish:!!e.userView.contentLanguageIncludesEnglish,firstName:e.userView.firstName??"",flair:e.userView.flair??null,isContentHidden:!!e.userView.isContentHidden,isEnabled:+!!e.userView.isEnabled,isStreamer:!!e.userView.isStreamer,isVerified:!!e.userView.isVerified,lastName:e.userView.lastName??"",timezone:e.userView.timezone??"",type:userTypeToNumber(e.userView.type),updatedAt:e.userView.updatedAt?new Date(e.userView.updatedAt).valueOf():void 0,userId:Number(e.userView.userId),username:e.userView.username},uuid:e.uuid})}},88095:function(e,t,n){"use strict";n.d(t,{m:function(){return getSuggestionsWithExactMatch}});var r=n(52495),a=n(33676);async function getSuggestionsWithExactMatch(e){let{query:t,limit:n,signal:o}=e,{data:{friends:i=[],suggestions:s=[]}}=await (0,a.O)({boostUsername:!0,exactUsernameFirst:!0,friendsLimit:n,includeFriends:!0,prefix:t,suggestionsLimit:n,signal:o});return[...i.map((0,r.x)({areFriends:!0})),...s.map((0,r.x)({areFriends:!1}))]}},71319:function(e,t,n){"use strict";n.d(t,{s:function(){return findUserFriends}});var r=n(67426),a=n(22414);function assembleFriendsSearchQuery(e,t=a.W){let n={statement:{}},r=[];if(e.name){let n=e.name.substring(0,t);n.length>=3&&r.push({fieldValue:{searchableField:"FRIENDS_SEARCH_SEARCHABLE_FIELD_ALL_EXCEPT_EMAIL",fieldValue:n}})}if(e.country){let n=e.country.substring(0,t);n.length>=3&&r.push({fieldValue:{searchableField:"FRIENDS_SEARCH_SEARCHABLE_FIELD_COUNTRY",fieldValue:n}})}return void 0!==e.isOnline&&r.push({isOnline:{isOnline:!0}}),r.forEach((e,t)=>{if(0===t)n.statement=e;else{let t=n.statement,r=n.and;n.and={statement:t,and:r};n.statement={...e}}}),n}var o=n(60381);async function findUserFriends(e){let{includePresenceStatus:t,itemsPerPage:n=20,pageToken:i,requesterUser:s,searchCriteria:l={},sorting:c=[{key:"lastLoginDate",order:"desc"}],signal:d}=e,u=assembleFriendsSearchQuery(l,a.W),h=c.map(resolveOrderBy);return(0,o.t)(()=>(0,r.a2)({uuid:s,includePresenceStatus:t,query:{orderBy:h,query:u},pagination:{pageSize:n,pageToken:i}},void 0,void 0,void 0,d),{attempts:3})}function resolveOrderBy(e){let{key:t,order:n}=e,r={field:"FRIENDS_SEARCH_SEARCHABLE_FIELD_UNSPECIFIED",order:"FRIENDS_SEARCH_ORDER_UNSPECIFIED"};switch(t){case"username":r.field="FRIENDS_SEARCH_SEARCHABLE_FIELD_USERNAME";break;case"createDate":r.field="FRIENDS_SEARCH_SEARCHABLE_FIELD_CREATED_DATE";break;case"presenceStatus":r.field="FRIENDS_SEARCH_SEARCHABLE_FIELD_IS_ONLINE";break;default:r.field="FRIENDS_SEARCH_SEARCHABLE_FIELD_LAST_LOGIN_DATE"}return"asc"===n?r.order="FRIENDS_SEARCH_ORDER_ASC":"desc"===n&&(r.order="FRIENDS_SEARCH_ORDER_DESC"),r}},33676:function(e,t,n){"use strict";n.d(t,{O:function(){return suggestFriends}});var r=n(67426),a=n(22414);async function suggestFriends(e){let{boostUsername:t=!1,exactUsernameFirst:n=!0,friendsLimit:o=5,includeFriends:i=!1,includeSuggestions:s=!0,prefix:l,suggestionsLimit:c=5,signal:d}=e,u=l.substring(0,a.W);return(0,r.jT)({boostUsername:t,exactUsernameFirst:n,friendsLimit:o,includeFriends:i,includeSuggestions:s,prefix:u,suggestionsLimit:c},void 0,void 0,void 0,d)}},35697:function(e,t,n){"use strict";n.d(t,{D:function(){return saveSettings}});var r=n(93930),a=n(4090);async function saveSettings(e){if(!(e=>e&&!Object.keys(e).length)(e))try{await (0,a.m)({method:"post",service:r.YK.Settings,path:"users/me",data:e})}catch{}}},51123:function(e,t,n){"use strict";n.d(t,{E:function(){return removeFromArray}});var r=n(81055);function removeFromArray(e,t){let n=(0,r.Tn)(t)?e.findIndex(t):e.indexOf(t);-1!==n&&e.splice(n,1)}},35896:function(e,t,n){"use strict";let r;n.d(t,{J:function(){return generateUrl}});var a={"bundles/web/images/game-preview-loading.png":"bundles/web/images/game-preview-loading.8677fb94.png","bundles/web/images/image-default.svg":"bundles/web/images/image-default.445cb543.svg","bundles/web/images/noavatar_content.png":"bundles/web/images/noavatar_content.1db825c9.png","bundles/web/images/noavatar_l.gif":"bundles/web/images/noavatar_l.84a92436.gif","bundles/web/images/svg/tic.svg":"bundles/web/images/svg/tic.b039b4f5.svg","bundles/web/images/svg/white-tic.svg":"bundles/web/images/svg/white-tic.18d3027b.svg","bundles/web/images/user-image.svg":"bundles/web/images/user-image.007dad08.svg","bundles/web/images/web/learn-to-play.png":"bundles/web/images/web/learn-to-play.0c67b86d.png","bundles/web/images/web/tablet.jpg":"bundles/web/images/web/tablet.b306eb58.jpg","bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.7c9242cd.png","bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.e5108d71.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.f0a77302.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.3c3eb885.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.c1afe5c5.png","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.29ffee8a.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.0be1a673.png","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.cc061aa2.png","bundles/web/images/webgl_data/2d/arcade/check-lightning.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning.9818146c.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.090095b9.json","bundles/web/images/webgl_data/2d/arcade/check-lightning.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning.f218018f.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.8e89a03e.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.bc7ee14a.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.6af38a2b.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.e89a9a43.png","bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png":"bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.36ca9442.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.d04ec1d5.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.18832d80.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.16dcf372.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.4ca4b640.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.2f52761e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.176b669e.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.e1f5d8cf.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.a668575c.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.8d776f5a.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.7092cc85.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.e4b8d4a8.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.1f5242b2.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.46ff1e1e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.3ee6b29c.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.2106320a.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.d2c18ae4.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.2ffd0edb.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.3407e009.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.7f512106.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.6c02602b.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.52c977e3.png","bundles/web/images/webgl_data/2d/capture-dust.json":"bundles/web/images/webgl_data/2d/capture-dust.221e5b9d.json","bundles/web/images/webgl_data/2d/capture-dust.png":"bundles/web/images/webgl_data/2d/capture-dust.f3616e72.png","bundles/web/images/webgl_data/2d/dust-big.json":"bundles/web/images/webgl_data/2d/dust-big.3978c9b2.json","bundles/web/images/webgl_data/2d/dust-big.png":"bundles/web/images/webgl_data/2d/dust-big.ffc81b67.png","bundles/web/images/webgl_data/2d/dust-regular.json":"bundles/web/images/webgl_data/2d/dust-regular.c277df9e.json","bundles/web/images/webgl_data/2d/dust-regular.png":"bundles/web/images/webgl_data/2d/dust-regular.d14f1094.png","bundles/web/images/webgl_data/2d/dust-small.json":"bundles/web/images/webgl_data/2d/dust-small.e988c379.json","bundles/web/images/webgl_data/2d/dust-small.png":"bundles/web/images/webgl_data/2d/dust-small.88f7d20e.png","bundles/web/images/webgl_data/2d/field-shadow.png":"bundles/web/images/webgl_data/2d/field-shadow.12436cf1.png","bundles/web/images/webgl_data/2d/hand.json":"bundles/web/images/webgl_data/2d/hand.a9ba7da1.json","bundles/web/images/webgl_data/2d/hand.png":"bundles/web/images/webgl_data/2d/hand.f56ab65c.png","bundles/web/images/webgl_data/3d/board/board.json":"bundles/web/images/webgl_data/3d/board/board.f425db44.json","bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit.a40a4bb3.jpg","bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.a3bf6bb5.png","bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.4fa42cab.png","bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bases.79a27acd.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.e3bdbf81.png","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.7f3f4fa7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blue.11b21efb.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.76a72805.png","bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_brown.c93ac4fc.jpg","bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.24d88929.png","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.c76cf59d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.b8a64cec.png","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.071f30bd.png","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.f270813d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.7b7a3981.png","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.4448353a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.3913780e.png","bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dash.91592ef2.jpg","bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.5d17abfd.png","bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_glass.dd597983.jpg","bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.237e1f51.png","bundles/web/images/webgl_data/3d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_green.b245f458.jpg","bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_green_notation.e1239e77.png","bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_grey.e2b96c1c.jpg","bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.14778c8c.png","bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti.1418935c.jpg","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.8a2dbe83.png","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.638d6526.jpg","bundles/web/images/webgl_data/3d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_light.be5733d7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_light_notation.ca37c558.png","bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.eefaa48a.png","bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_lolz.015a977a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.9aa8f92f.png","bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marble.b09462c0.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.d626537b.png","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.9556bc69.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.131bd8fc.png","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.9ae0f295.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.1f01d417.png","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.3c7ff3a7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.36055507.png","bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_metal.12c374ae.jpg","bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.88a17bf8.png","bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_neon.5f0236a0.jpg","bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.7a8b8d59.png","bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_orange.b3c6741b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.50c2f2ba.png","bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper.c308d776.jpg","bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_overlay.38852d01.jpg","bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.6ec789e4.png","bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.3cabbba4.png","bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_pink.d1fb1b2d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.6fd670e8.png","bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_parchment.5ff4ab17.jpg","bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_purple.80a4705d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.f0ff6785.png","bundles/web/images/webgl_data/3d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_red.8e069f1e.jpg","bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_red_notation.74784555.png","bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.1c09ddd0.png","bundles/web/images/webgl_data/3d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/3d/board/textures/board_shadow.e9919a3b.png","bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sky.274da40b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.5b781a27.png","bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sand.b83b5a0e.jpg","bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.c31e84f2.png","bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tan.82741031.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.6fe5a0a0.png","bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_stone.411cdedf.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.9fd35fd1.png","bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tournament.d7746600.jpg","bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_translucent.400f363b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.3ce8dc03.png","bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.cfb242b2.png","bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_walnut.58ccd234.jpg","bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_winboard.b060d48e.jpg","bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.9fe65525.png","bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.1bb169b8.png","bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wood.0df0259b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.7b7a3981.png","bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark.4448353a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.d7654fd8.png","bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight.63227ad0.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.3828ff12.png","bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid.54a8a227.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.be36a764.png","bundles/web/images/webgl_data/3d/marking_arrow_L.json":"bundles/web/images/webgl_data/3d/marking_arrow_L.be09e498.json","bundles/web/images/webgl_data/3d/marking_arrow_straight.json":"bundles/web/images/webgl_data/3d/marking_arrow_straight.a6b956b9.json","bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive.97141fbf.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.7b326cb2.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.465f396a.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.7395ab28.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.fc9672f5.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.e9190478.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.1c85b3f2.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.b9912c7a.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.32238b68.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.a4d6db0c.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.e71bfaa9.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.8793f6ab.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.e6e65399.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.a0a10f07.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.7aca2e88.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.76894e32.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.81709478.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.163c07c7.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.f7e26d93.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.b034e0f3.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.b97290e6.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.dcbe8ca2.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.d2e689b3.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.da573039.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.24e9cbc0.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.59af0793.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.b047e850.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.677392ee.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.7a8a7a16.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.8c735a4d.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.7c7aa93c.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.47bc0cd0.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.2d6201c7.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.c7c69176.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.32aec9b8.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.a0bb951f.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.6f48c570.png","bundles/web/images/webgl_data/README.md":"bundles/web/images/webgl_data/README.ce99e081.md","bundles/web/images/webgl_data/three-d/board/board.glb":"bundles/web/images/webgl_data/three-d/board/board.4d718342.glb","bundles/web/images/webgl_data/three-d/board/board.json":"bundles/web/images/webgl_data/three-d/board/board.f425db44.json","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.90f44ee3.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.3b0e5987.png","bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.583cf009.png","bundles/web/images/webgl_data/three-d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bases.aa2e4c86.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.a16af582.png","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.223497db.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blue.3d8bf522.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.aede7d52.png","bundles/web/images/webgl_data/three-d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_brown.77111896.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.d91c4dfa.png","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.2abf245c.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.c0566f9d.png","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.ab7033dc.png","bundles/web/images/webgl_data/three-d/board/textures/board_checkers.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_checkers.7431dc47.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_checkers_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_checkers_notation.c4051f44.png","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.39c56017.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.29e0c91f.png","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.e34eac17.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.c61d909b.png","bundles/web/images/webgl_data/three-d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dash.0c3e4676.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.1f0ac1c3.png","bundles/web/images/webgl_data/three-d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_glass.ab30ff7c.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.2ad3950b.png","bundles/web/images/webgl_data/three-d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_green.e84cead6.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.47e1aaef.png","bundles/web/images/webgl_data/three-d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_grey.637ff9bf.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.4a29af67.png","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.5082fb97.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.a02159fa.png","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.7e97a7c5.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_light.30b1a562.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.91439e75.png","bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.827bf308.png","bundles/web/images/webgl_data/three-d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz.7916363f.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.44705b60.png","bundles/web/images/webgl_data/three-d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marble.45ef834a.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.c399953b.png","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.21e1edfc.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.a181658b.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.9b30f4d0.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.7b971c8f.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.f291a625.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.350f725a.png","bundles/web/images/webgl_data/three-d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_metal.a60195b2.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.9b0f7f4c.png","bundles/web/images/webgl_data/three-d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_neon.79099362.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.1a91be12.png","bundles/web/images/webgl_data/three-d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_orange.e48910d8.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.dc2fa5a8.png","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.4646c695.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay.b76a5834.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.75b3e753.png","bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.ee873515.png","bundles/web/images/webgl_data/three-d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_pink.765cea32.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.973fb303.png","bundles/web/images/webgl_data/three-d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_purple.600cc1aa.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.507fac47.png","bundles/web/images/webgl_data/three-d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment.590f22f2.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_red.1a8a520d.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.dcb36f85.png","bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.814e444f.png","bundles/web/images/webgl_data/three-d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/three-d/board/textures/board_shadow.735e7124.png","bundles/web/images/webgl_data/three-d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sky.388f5ac1.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.ac5ae5f9.png","bundles/web/images/webgl_data/three-d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sand.e647afaa.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.c31e84f2.png","bundles/web/images/webgl_data/three-d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tan.82741031.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.6fe5a0a0.png","bundles/web/images/webgl_data/three-d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_stone.411cdedf.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.9fd35fd1.png","bundles/web/images/webgl_data/three-d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament.d7746600.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent.400f363b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.3ce8dc03.png","bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.cfb242b2.png","bundles/web/images/webgl_data/three-d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut.58ccd234.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard.b060d48e.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.9fe65525.png","bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.1bb169b8.png","bundles/web/images/webgl_data/three-d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wood.0df0259b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.7b7a3981.png","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.4448353a.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.d7654fd8.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.63227ad0.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.3828ff12.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.54a8a227.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.be36a764.png","bundles/web/images/webgl_data/three-d/marking_arrow_L.json":"bundles/web/images/webgl_data/three-d/marking_arrow_L.be09e498.json","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.97141fbf.jpg","bundles/web/images/webgl_data/three-d/marking_arrow_straight.json":"bundles/web/images/webgl_data/three-d/marking_arrow_straight.a6b956b9.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.daa7525a.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.6306a530.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.0bf5df26.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.7395ab28.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.ba7be557.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.fc9672f5.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.cc479485.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.261592a2.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.b59acd14.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.b9912c7a.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.bf3f69fe.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.32238b68.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.917dc323.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.6a0bd0f7.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.6188702b.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.8793f6ab.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.glb":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.dee6e7fe.glb","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.98a85326.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.021ec599.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.76894e32.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.81034108.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.a3a0c6c9.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.1c661a52.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.a00cb4ee.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.14520376.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.3e0a3920.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.b6b76cab.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.457e2513.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.c316f979.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.f670cc1c.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.a6baa788.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.dd379acf.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.0913fcd8.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.512d416b.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.912daa6a.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.0745ac58.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.187e6d33.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.9720cdd6.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.dc9f25a5.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.b1665db1.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.85654319.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.50084b35.png","bundles/web/images/webgl_data/two-d/arcade/capture-hint-hide.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-hide.cb0a5257.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-out.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-out.aa61e3ed.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-over.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-over.7a59bf2e.svg","bundles/web/images/webgl_data/two-d/arcade/capture-hint-show.svg":"bundles/web/images/webgl_data/two-d/arcade/capture-hint-show.d7ea418e.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-hide.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-hide.cde15d35.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-out.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-out.042ddeda.svg","bundles/web/images/webgl_data/two-d/arcade/king-check.svg":"bundles/web/images/webgl_data/two-d/arcade/king-check.7f0928d1.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-over.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-over.1b1f1248.svg","bundles/web/images/webgl_data/two-d/arcade/move-hint-show.svg":"bundles/web/images/webgl_data/two-d/arcade/move-hint-show.ff97950b.svg","bundles/web/images/webgl_data/two-d/arcade/piece-capture.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-capture.02f0dfd7.svg","bundles/web/images/webgl_data/two-d/arcade/piece-grab.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-grab.1588c507.svg","bundles/web/images/webgl_data/two-d/arcade/piece-release.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-release.06538853.svg","bundles/web/images/webgl_data/two-d/arcade/piece-trail.svg":"bundles/web/images/webgl_data/two-d/arcade/piece-trail.6811d769.svg","bundles/web/images/webgl_data/two-d/arcade/square-fill.svg":"bundles/web/images/webgl_data/two-d/arcade/square-fill.93f6954f.svg","bundles/web/images/webgl_data/two-d/hover-square.png":"bundles/web/images/webgl_data/two-d/hover-square.949e81d1.png","bundles/web/images/webgl_data/two-d/natural/piece-trail-long.png":"bundles/web/images/webgl_data/two-d/natural/piece-trail-long.6ba59bc2.png","bundles/web/images/webgl_data/two-d/natural/piece-trail.png":"bundles/web/images/webgl_data/two-d/natural/piece-trail.bb4aaf99.png"},o=n(55133);r=window.Config&&window.Config["domain.static"]&&!(0,o.J)()?"https":"http";let generateUrl=(e,t=!0,n=r)=>{let i=t?`${n}:${window.Config["domain.static"]}`:"",s=null!=a[e]?a[e]:e;return(0,o.J)()&&s.startsWith("/")&&(s=s.slice(1)),`${i}/${s}`}},39398:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(68924),a=n(7118);class o{static Initializing=Symbol("loader-initializing");static Loading=Symbol("loader-loading");static Error=Symbol("loader-error");static isDataInitializing(e){return e===o.Initializing}static isDataLoading(e){return e===o.Loading}static isDataError(e){return e===o.Error}static isDataReady(e){return!o.isDataInitializing(e)&&!o.isDataLoading(e)&&!o.isDataError(e)}enqueuedPromises;internalData=(0,a.reactive)({state:o.Initializing});constructor(e){this.enqueuedPromises=[new r.p];e&&this.load(e)}async load(e){let t=new r.p;this.enqueuedPromises.push(t);this.internalData.state=o.Loading;try{let n=await e();if((0,a.toRaw)(this.enqueuedPromises.at(-1))!==t)return await this.data;this.dataSync=n;return n}catch(e){this.handleAllPromises(t=>{t?.promise.catch(()=>{});t?.reject?.(e)});this.internalData.state=o.Error;return o.Error}}clear(){this.internalData.state=o.Initializing;this.enqueuedPromises.push(new r.p)}get data(){let e=this.enqueuedPromises.at(-1)?.promise;if(!e&&o.isDataReady(this.dataSync))return this.dataSync;if(!e)throw Error("Constructor failed to create ExternallyResolvablePromise. How did we get here?");return e}get dataSync(){return this.internalData.state}set dataSync(e){this.handleAllPromises(t=>{o.isDataError(e)?t?.reject?.(e):t?.resolve?.(e)});this.internalData.state=e}handleAllPromises(e){for(;this.enqueuedPromises.length>0;)e(this.enqueuedPromises.pop())}}},53880:function(e,t,n){"use strict";n.d(t,{ZE:function(){return r},X5:function(){return getBrowser},ol:function(){return getWindowsVersion},XG:function(){return isAppleMobileOS},Fr:function(){return isMobile},_$:function(){return isOldBrowser}});let isMobile=(e=window.navigator.userAgent)=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),r={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari"},version=(e,t)=>t.appVersion.indexOf(e)>-1,getBrowser=(e=window.navigator.userAgent)=>{let t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(((e=window.navigator.userAgent)=>null!==e.match(/Edg/))(e)){let t=e.indexOf("Edg"),n=4;e.match("Edge/")&&(n=5);let r=t+n;return{name:"Edge",version:parseInt(e.substring(r,e.indexOf(".",r)),10)}}if(/trident/i.test(n[1]))return{name:"IE",version:parseInt((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||"-1",10)};if(n[1]===r.chrome){t=e.match(/\bOPR\/(\d+)/);if(null!=t)return{name:"Opera",version:parseInt(t[1],10)}}return((n=n[2]?[n[1],n[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"])[0]===r.safari&&null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),"MSIE"===n[0])?{name:r.ie,version:parseInt(n[1],10)}:{name:n[0],version:parseInt(n[1],10)}},getWindowsVersion=(e=window.navigator)=>version("NT",e)?version("Windows NT 5.1",e)||version("Windows NT 6.0",e)?6:version("Windows NT 6.1",e)?7:version("Windows NT 6.2",e)||version("Windows NT 6.3",e)?8:10:-1,isOldBrowser=(e=window.navigator.userAgent)=>{let t=getBrowser(e);if(null==t.name||0===t.name.length)return!1;let n=(()=>(()=>window.chesscom.features?.includes("baseline_browser_support"))()?{chrome:132,edge:132,firefox:134,ie:1/0,safari:18}:{chrome:119,edge:119,firefox:128,ie:1/0,safari:17})();return Object.keys(r).some(e=>t.name.toLowerCase()===r[e].toLowerCase()&&t.version<n[e])};function isAppleMobileOS(e=navigator.userAgent){let t=/iP(hone|od|ad)/.test(e),n="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return t||n}},35785:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});function localStorageWorks(){let e="test";try{localStorage.setItem(e,e);localStorage.removeItem(e);return!0}catch(e){return!1}}class r{enabled;constructor(){this.enabled=localStorageWorks()}get(e){return JSON.parse(localStorage.getItem(e))}set(e,t){localStorage.setItem(e,JSON.stringify(t))}}class a{cache;cacheKey;memory;constructor(e,t={}){this.cache=new r;this.cacheKey=e;this.memory=t}get ready(){return!1!==this.cache.enabled}get(e,t=null){return this.memory[e]?this.memory[e]:this.ready?(this.pull(),void 0!==this.memory[e]?this.memory[e]:t):t}pull(){return this.memory=this.cache.get(this.cacheKey)||{},this}push(){return this.cache.set(this.cacheKey,this.memory),this}remove(e){return this.ready?(this.pull(),void 0===this.memory[e])?this:(delete this.memory[e],this.push()):this}set(e,t){return this.ready?(this.pull(),this.memory[e]=t,this.push()):this}}var o=new a("json_settings")},86946:function(e,t,n){"use strict";n.d(t,{Ri:function(){return getCookie},TV:function(){return setCookie},Yj:function(){return deleteCookie}});function setCookie(e,t,n,r){let a="";if(n){let e=new Date;e.setTime(e.getTime()+24*Math.min(365,n)*36e5);let t=e.toUTCString();a=`; expires=${t}`}let o="";r&&(o=`; domain=${r}`);document.cookie=`${e}=${t||""}${a}${o}; path=/; samesite=none; secure`}function deleteCookie(e){setCookie(e,"",-3650)}function getCookie(e){let t={};return document.cookie.split("; ").forEach(e=>{let[n,r]=e.split("=");n&&r&&(t[n]=r)}),t[e]||null}},31286:function(e,t,n){"use strict";n.d(t,{E:function(){return createApp}});var r=n(65862),a=n(11946),o=n(78779),i=n(7118);function createApp(e,t){let n=(0,i.createApp)(e,t);return n.mixin(o.A),(0,r.zt)(n,{features:window.chesscom.features,routes:a.K,trans:a.s}),n}},18062:function(e,t,n){"use strict";n.d(t,{Dj:function(){return setEmbeddedTweetDarkMode},Qo:function(){return setDarkModeCookie},S8:function(){return setDarkMode},bQ:function(){return watchIsDarkMode},jh:function(){return setEditorDarkMode},oL:function(){return getIsDarkMode}});var r=n(24755),a=n(86946);let o="dark-mode";function watchIsDarkMode(e){let t=new MutationObserver(()=>{e(getIsDarkMode())});return t.observe(document.querySelector("html"),{attributes:!0,childList:!1,subtree:!1,attributeFilter:["class"]}),t}let getIsDarkMode=()=>document.querySelector("html")?.classList.contains(o)??!1,setDarkMode=e=>{let t=document.querySelector("html");return e?(t?.setAttribute("data-color-mode","dark"),t?.classList.remove(r.AA.LIGHT_MODE),t?.classList.add(o)):(t?.setAttribute("data-color-mode","light"),t?.classList.add(r.AA.LIGHT_MODE),t?.classList.remove(o))},setDarkModeCookie=e=>e?(0,a.TV)(r.AA.USER_COLOR_SCHEME,o,30):(0,a.TV)(r.AA.USER_COLOR_SCHEME,"",30),setEditorDarkMode=e=>{let t=window.tinymce;t?.editors.forEach(({id:n})=>{let a=t.get(n).getBody().closest("html");if(e){a.classList.add(o);a.classList.remove(r.AA.LIGHT_MODE)}else{a.classList.remove(o);a.classList.add(r.AA.LIGHT_MODE)}})},setEmbeddedTweetDarkMode=e=>{let t=document.querySelectorAll("[data-tweet-id]"),n=e?"theme=light":"theme=dark",a=e?"theme=dark":"theme=light";t.forEach(e=>{let t=e.getAttribute(r.uK.SRC);e.setAttribute(r.uK.SRC,t?t.replace(n,a):"")})}},56166:function(e,t,n){"use strict";n.d(t,{Bx:function(){return s},NH:function(){return o},dF:function(){return i},hD:function(){return a}});var r=n(34619);let a=[(0,r.pw)("Sunday"),(0,r.pw)("Monday"),(0,r.pw)("Tuesday"),(0,r.pw)("Wednesday"),(0,r.pw)("Thursday"),(0,r.pw)("Friday"),(0,r.pw)("Saturday")],o=[(0,r.pw)("Sun"),(0,r.pw)("Mon"),(0,r.pw)("Tue"),(0,r.pw)("Wed"),(0,r.pw)("Thu"),(0,r.pw)("Fri"),(0,r.pw)("Sat")],i=[(0,r.pw)("January"),(0,r.pw)("February"),(0,r.pw)("March"),(0,r.pw)("April"),(0,r.pw)("May"),(0,r.pw)("June"),(0,r.pw)("July"),(0,r.pw)("August"),(0,r.pw)("September"),(0,r.pw)("October"),(0,r.pw)("November"),(0,r.pw)("December")],s=[(0,r.pw)("Jan"),(0,r.pw)("Feb"),(0,r.pw)("Mar"),(0,r.pw)("Apr"),(0,r.pw)("May"),(0,r.pw)("Jun"),(0,r.pw)("Jul"),(0,r.pw)("Aug"),(0,r.pw)("Sep"),(0,r.pw)("Oct"),(0,r.pw)("Nov"),(0,r.pw)("Dec")]},11946:function(e,t,n){"use strict";n.d(t,{K:function(){return o},s:function(){return i}});var r=n(23618),a=n(34619);let o={webAbout:r.A.generate("web_about"),webMembership:e=>r.A.generate("web_membership",e),webMemberTitledPlayers:r.A.generate("web_member_titled_players"),webMemberView:e=>r.A.generate("web_member_view",{username:e})},i={"Avatar of %username%":e=>(0,a.pw)("Avatar of %username%",{"%username%":e}),Avatar:(0,a.pw)("Avatar"),"Back to Top":(0,a.pw)("Back to Top"),Back:(0,a.pw)("Back"),Close:(0,a.pw)("Close"),"Current Page, Page %pageNumber%":e=>(0,a.pw)("Current Page, Page %pageNumber%",{"%pageNumber%":String(e)}),"Diamond Member":(0,a.pw)("Diamond Member"),Diamond:(0,a.pw)("Diamond"),"First Page":(0,a.pw)("First Page"),First:(0,a.pw)("First"),"Gold Member":(0,a.pw)("Gold Member"),Gold:(0,a.pw)("Gold"),Premium:(0,a.pw)("Premium"),"Last Page":(0,a.pw)("Last Page"),Last:(0,a.pw)("Last"),"Loading...":(0,a.pw)("Loading..."),Moderator:(0,a.pw)("Moderator"),"Next Page":(0,a.pw)("Next Page"),"Page %pageNumber%":e=>(0,a.pw)("Page %pageNumber%",{"%pageNumber%":String(e)}),"Platinum Member":(0,a.pw)("Platinum Member"),Platinum:(0,a.pw)("Platinum"),"Previous Page":(0,a.pw)("Previous Page"),"Staff Member":(0,a.pw)("Staff Member"),Top:(0,a.pw)("Top"),"Upgrade to Diamond to use this feature":(0,a.pw)("Upgrade to Diamond to use this feature"),"Upgrade to Gold to use this feature":(0,a.pw)("Upgrade to Gold to use this feature"),"Upgrade to Platinum to use this feature":(0,a.pw)("Upgrade to Platinum to use this feature"),"Upgrade to use this feature":(0,a.pw)("Upgrade to use this feature")}},47333:function(e,t,n){"use strict";n.d(t,{E:function(){return getArrayOfElements}});function getArrayOfElements(e){return[...document.querySelectorAll(e)]}},86632:function(e,t,n){"use strict";n.d(t,{Y:function(){return loadLazyStyle}});function loadLazyStyle(e){let t=document.querySelector(`link[data-href*="/${e}.client"]`);if(t)return t.setAttribute("href",t.getAttribute("data-href")),t.removeAttribute("data-href"),new Promise((e,n)=>{t.onload=()=>e();t.onerror=()=>n()})}},29558:function(e,t,n){"use strict";n.d(t,{E4:function(){return isInExperimentSegment},hi:function(){return getExperimentSegment}});if(window.chesscom?.features?.includes("experiments_session_storage_override")){let e={};Object.keys(window.sessionStorage).filter(e=>e.startsWith("experiment.")).forEach(t=>{let n=t.split("experiment.")[1],r=window.sessionStorage.getItem(t);try{r=JSON.parse(r)}catch(e){r=r||null}finally{e[n]=r}});Object.keys(window.chesscom.experiments).forEach(t=>{if(!e[t]){e[t]=window.chesscom.experiments[t];window.sessionStorage.setItem(`experiment.${t}`,JSON.stringify(window.chesscom.experiments[t]))}});window.chesscom.experiments=e}let isInExperiment=e=>!!window.chesscom.experiments&&!!window.chesscom.experiments[e],isInExperimentSegment=(e,t)=>!!isInExperiment(e)&&window.chesscom.experiments[e]===t,getExperimentSegment=e=>isInExperiment(e)?window.chesscom.experiments[e]:null},68924:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});class r{promise;resolve=null;reject=null;constructor(){this.promise=new Promise((e,t)=>{this.resolve=e;this.reject=t})}}},20063:function(e,t,n){"use strict";n.d(t,{N:function(){return getUserFromContext}});function getUserFromContext(){return window.context?.user}},44096:function(e,t,n){"use strict";n.d(t,{CN:function(){return htmlDecode},Jj:function(){return cleanTinyMCE},Nl:function(){return syncDomAttributesAndText},_N:function(){return htmlEncode},lJ:function(){return xssFilter},s1:function(){return htmlTextContent}});var r=n(99418);let htmlTextContent=e=>(new DOMParser().parseFromString(e,"text/html").body.textContent||"").trim(),cleanTinyMCE=e=>(e=>e.replace(/&nbsp;/g,""))((e=>e.replace(/(<(?!img|\/?iframe)([^>]+)>)/gi,""))(e)).trim(),htmlDecode=e=>new DOMParser().parseFromString(`<!doctype html><body>${e}`,"text/html").body.textContent,htmlEncode=e=>{if(!e)return e;let t=[60,62],n=e.length,r=[];for(;n--;){let a=e[n].charCodeAt();t.indexOf(a)>-1?r[n]=`&#${a};`:r[n]=e[n]}return r.join("")};function xssFilter(e){let handleAfterSanitizeAttributes=e=>{let t=e.getAttribute("rel")??"";if("target"in e&&!["noopener","noreferrer","noopener noreferrer"].includes(t)){e.setAttribute("target","_blank");e.setAttribute("rel","noopener")}};r.A.addHook("afterSanitizeAttributes",handleAfterSanitizeAttributes);let t=r.A.sanitize(e,{USE_PROFILES:{html:!0},ADD_ATTR:["target"]});return r.A.removeHook("afterSanitizeAttributes",handleAfterSanitizeAttributes),t}function syncDomAttributesAndText(e,t){let n=Array.from(e.attributes),r=Array.from(t.attributes);n.forEach(n=>{t.hasAttribute(n.name)||e.removeAttribute(n.name)});r.forEach(t=>{e.getAttribute(t.name)!==t.value&&e.setAttribute(t.name,t.value)});let a=Array.from(e.childNodes),o=Array.from(t.childNodes),i=Math.min(a.length,o.length);for(let e=0;e<i;e++){let t=a[e],n=o[e];t.nodeType===Node.TEXT_NODE&&n.nodeType===Node.TEXT_NODE?t.textContent!==n.textContent&&(t.textContent=n.textContent):t.nodeType===Node.ELEMENT_NODE&&n.nodeType===Node.ELEMENT_NODE&&syncDomAttributesAndText(t,n)}}},51361:function(e,t,n){"use strict";var r=n(72505);t.A=n.n(r)()},23189:function(e,t,n){"use strict";n.d(t,{o:function(){return getDomainFromRoute}});function getDomainFromRoute(e=window.location.href){return new URL(e).hostname.split(".").slice(-2).join(".")}},28165:function(e,t,n){"use strict";n.d(t,{q:function(){return getMessageFromError}});var r=n(64840);n(34619);let getMessageFromError=e=>e.response&&401!==e.response.status?(e.response.data&&e.response.data.message?e.response.data.message:r.sO.badRequest)||e.response.statusText:""},75426:function(e,t,n){"use strict";n.d(t,{H:function(){return handleError}});var r=n(64840),a=n(54606),o=n(28165);function handleError(e){let t=(0,o.q)(e);t&&(0,a.Tj)({type:r.gK.error,message:t})}},61999:function(e,t,n){"use strict";var r=n(51361);(0,n(66371).i)(r.A);t.A=r.A},28226:function(e,t,n){"use strict";n.d(t,{RZ:function(){return isPlatformRequest},tO:function(){return isSpecialRequest}});function isSpecialRequest(e){return isPlatformRequest(e)||isChessbombRequest(e)||isSubdomainRequest(e)||isRpcRequest(e)||isCoursesRequest(e)}function isPlatformRequest(e){return e.startsWith("/service/")||e.includes(".com/service/")}function isChessbombRequest(e){return e.includes("chessbomb.com")||e.includes("chessbomb.gcp-staging")||e.includes(".com/events/v1/api/")}function isSubdomainRequest(e){return/https:\/\/(?!www)([\S]+)chess.com/.test(e)}function isRpcRequest(e){return e.startsWith("/rpc/")||e.includes(".com/rpc/")||e.includes(".net/rpc/")}function isCoursesRequest(e){return!!window.chesscom?.courses?.service?.baseURL&&e.startsWith(window.chesscom.courses.service.baseURL)}},89877:function(e,t,n){"use strict";n.d(t,{A:function(){return oauthUnauthorizedInterceptor}});var r=n(61999),a=n(28226),o=n(92648);async function oauthUnauthorizedInterceptor(e){let t=e.config,n=e.response;if(n?.status!==401||!(0,a.RZ)(t.url))return Promise.reject(e);try{t.data=JSON.parse(t.data)}catch(e){}return t.headers["x-chesscom-retried-request"]?Promise.reject(e):(0,o.M)().then(()=>(t.headers["x-chesscom-retried-request"]="true",(0,r.A)(t))).catch(()=>Promise.reject(e))}},92648:function(e,t,n){"use strict";let r;n.d(t,{M:function(){return refreshOauthToken}});var a=n(61999),o=n(23618);async function refreshOauthToken(){return r||(r=a.A.post(o.A.generate("web_bff_oauth_token")).finally(()=>{r=void 0})),r}},66371:function(e,t,n){"use strict";n.d(t,{i:function(){return registerInterceptors}});var r=n(89877),a=n(1248),o=n(9776),i=n(76385),s=n(71186);function findExistingInterceptor(e,t){if(!t.name)throw Error("interceptor must be a named function");return e.handlers?.find(e=>e.fulfilled?.name===t.name||e.rejected?.name===t.name)}function registerInterceptors(e){a.A.forEach(t=>{findExistingInterceptor(e.interceptors.request,t)||e.interceptors.request.use(t)});findExistingInterceptor(e.interceptors.response,o.A)||e.interceptors.response.use(void 0,o.A);findExistingInterceptor(e.interceptors.response,r.A)||e.interceptors.response.use(void 0,r.A);findExistingInterceptor(e.interceptors.response,s.A)||e.interceptors.response.use(s.A,i.A)}},9776:function(e,t,n){"use strict";n.d(t,{A:function(){return responseCloudflareManagedChallengeInterceptor}});var r=n(51361),a=n(23189),o=n(97174),i=n(86283);let s=[],l=!1;async function responseCloudflareManagedChallengeInterceptor(e){let t=e.response,n=t?.status===403,a=t?.headers?.["cf-mitigated"]==="challenge";if(!n||!a)return Promise.reject(e);let o=new Promise((t,n)=>{s.push([()=>{try{e.config.data=JSON.parse(e.config.data)}catch(e){}(0,r.A)(e.config).then(t)},()=>{n(e)}])});return l||startManagedChallenge(),o}async function startManagedChallenge(){l=!0;let e=0,t=await (0,o.h)({callback:(e,t)=>{t?s.forEach(([e])=>{e()}):redirectToVerificationPage();endManagedChallenge()},"error-callback":()=>{e++;if(e>=3){window.turnstile.remove(t);(0,i.Bq)();s.forEach(([,e])=>{e()});endManagedChallenge()}},action:"xhr-managed-challenge"})}function endManagedChallenge(){l=!1;s=[]}function redirectToVerificationPage(){let e=new URL(window.location.href),t=(0,a.o)(),n=e.pathname,r=new URL(`https://verify.${t}`);r.searchParams.set("redirect","referer");r.searchParams.set("path",n);window.location.assign(r)}},76385:function(e,t,n){"use strict";n.d(t,{A:function(){return responseErrorInterceptor}});var r=n(31001),a=n(51361);function responseErrorInterceptor(e){let t=e.config,n=e.response;if("Cancel"===e.toString())return Promise.reject(e);try{t.data=JSON.parse(t.data)}catch(t){return Promise.reject(e)}if(n?.status===403&&n?.headers["x-chesscom-csrf-token"]&&t&&!t.data.retry){let e=n.headers["x-chesscom-csrf-token"];return t.data._token=e,t.data.retry=!0,window.context.csrf.token=e,(0,a.A)(t)}if(n?.status>=400)try{(0,r.z)({message:e.message,method:e.config.method,requestUrl:e.config.url.replace("https://www.chess.com",""),stack:e.stack,status:e.response.status})}catch(e){}return Promise.reject(e)}},71186:function(e,t,n){"use strict";n.d(t,{A:function(){return responseInterceptor}});var r=n(17431);function responseInterceptor(e){if(e.headers&&e.headers["x-chesscom-request-id-cdn"]){(0,r.Rm)({key:"x-chesscom-request-id-cdn",value:e.headers["x-chesscom-request-id-cdn"]});(0,r.Rm)({key:"x-chesscom-request-id-lb",value:e.headers["x-chesscom-request-id-lb"]})}return e}},57140:function(e,t,n){"use strict";n.d(t,{Yq:function(){return i}});var r=n(24755),a=n(34619);function getLocale(e="",t="-"){return(e||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US")).replace("_",t)}function getTimeAgo(e,t,n,r){return"year"===e?t?r?(0,a.Mq)("{1} 1 yr ago|]1,Inf] %1$s% yrs ago",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 year ago|]1,Inf] %1$s% years ago",n,{"%1$s%":n}):r?(0,a.Mq)("{1} 1 yr|]1,Inf] %1$s% yrs",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 year|]1,Inf] %1$s% years",n,{"%1$s%":n}):"month"===e?t?r?(0,a.Mq)("{1} 1 mo ago|]1,Inf] %1$s% mos ago",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 month ago|]1,Inf] %1$s% months ago",n,{"%1$s%":n}):r?(0,a.Mq)("{1} 1 mo|]1,Inf] %1$s% mos",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 month|]1,Inf] %1$s% months",n,{"%1$s%":n}):"day"===e?t?(0,a.Mq)("{1} 1 day ago|]1,Inf] %1$s% days ago",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 day|]1,Inf] %1$s% days",n,{"%1$s%":n}):"hour"===e?t?r?(0,a.Mq)("{1} 1 hr ago|]1,Inf] %1$s% hrs ago",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 hour ago|]1,Inf] %1$s% hours ago",n,{"%1$s%":n}):r?(0,a.Mq)("{1} 1 hr|]1,Inf] %1$s% hrs",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 hour|]1,Inf] %1$s% hours",n,{"%1$s%":n}):"minute"===e?t?r?(0,a.Mq)("{1} 1 min ago|]1,Inf] %1$s% min ago",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 minute ago|]1,Inf] %1$s% minutes ago",n,{"%1$s%":n}):r?(0,a.Mq)("{1} 1 min|]1,Inf] %1$s% min",n,{"%1$s%":n}):(0,a.Mq)("{1} 1 minute|]1,Inf] %1$s% minutes",n,{"%1$s%":n}):""}let o={year:31536e6,month:(()=>{let e=864e5;switch(new Date().getMonth()){case 3:case 5:case 8:case 10:return 30*e;case 1:return new Date().getFullYear()%4==0?29*e:28*e;default:return 31*e}})(),day:864e5,hour:36e5,minute:6e4},i={mergeOptions:e=>({abbreviateHours:!1,abbreviateMinutes:!0,includeDays:!1,...e}),getUnitsInInt(e,t={}){let n=i.mergeOptions(t),r=86400,a=3600,o=0,s=0,l=e;if(!0===n.includeDays){o=Math.floor(l/r);l-=o*r}return s=Math.floor(l/a),{minutes:Math.floor((l-=s*a)/60),hours:s,days:o}},getDaysHoursMinutesAsString(e,t={}){let n=i.getDaysHoursMinutesAsObject(e,t),{minutes:r,hours:a,days:o}=i.getUnitsInInt(e,t),s=[];return o>0&&s.push(n.days),a>0&&s.push(n.hours),(r>0||0===s.length)&&s.push(n.minutes),s.join(" ")},getDaysHoursMinutesAsObject(e,t={}){let n=i.mergeOptions(t),{minutes:r,hours:o,days:s}=i.getUnitsInInt(e,t),l=(0,a.Mq)("{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",s,{"%1$s%":s}),c=(0,a.Mq)("{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",Math.floor(o),{"%1$s%":o}),d=(0,a.Mq)("{0} 0 min|{1} 1 min|]1,Inf] %1$s% min",r,{"%1$s%":r});return n.abbreviateHours&&(c=(0,a.Mq)("{0} 0 hrs|{1} 1 hr|]1,Inf] %1$s% hrs",Math.floor(o),{"%1$s%":o})),n.abbreviateMinutes||(d=(0,a.Mq)("{1} 1 minute|]1,Inf] %1$s% minutes",r,{"%1$s%":r})),{days:l,hours:c,minutes:d}},long:(e=new Date,t={})=>{let n=e instanceof Date?e:new Date(e);return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric",...t}).format(n)},full:(e=new Date,t={})=>{let n=e instanceof Date?e:new Date(e);if(t.roundSeconds){n.setSeconds(60*(n.getSeconds()>30));delete t.roundSeconds}return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short",...t}).format(n)},numeric:(e=new Date,t={})=>{let n=e instanceof Date?e:new Date(e);if(window.Intl){let e=getLocale();return new Intl.DateTimeFormat(e,Object.assign({day:"2-digit",month:"2-digit",year:"numeric"},t)).format(n)}let r=`0${n.getMonth()+1}`.slice(-2),a=`0${n.getDate()}`.slice(-2);return`${r}/${a}/${n.getFullYear()}`},relative:(e,t=!0,n=!0,r=!1,i=Date.now(),s=!1)=>{let l,c,d=(e instanceof Date?e:new Date(e)).getTime(),u=r?d-i:i-d;if(Math.abs(u)>o.month&&t)return new Intl.DateTimeFormat(getLocale(),{year:"numeric",month:"short",day:"numeric"}).format(d);if(u>=o.year){c="year";l=Math.abs(Math.floor(u/o.year))}else if(u>=o.month){c="month";l=Math.abs(Math.floor(u/o.month))}else if(u>=o.day){c="day";l=Math.abs(Math.floor(u/o.day))}else if(u>=o.hour){c="hour";l=Math.abs(Math.floor(u/o.hour))}else{if(!(u>=o.minute))return r?(0,a.pw)("Right now"):(0,a.pw)("Just now");c="minute";l=Math.abs(Math.floor(u/o.minute))}return getTimeAgo(c,Math.abs(u)===u&&n,l,s)},customNumericDate:(e=new Date,t="/",n="m/d/y")=>{let r=e instanceof Date?e:new Date(e),a={d:`0${r.getDate()}`.slice(-2),m:`0${r.getMonth()+1}`.slice(-2),y:`${r.getFullYear()}`};return["m","d","y"].every(e=>n.split("/").includes(e))?n.split("/").reduce((e,t)=>(e.push(a[t]),e),[]).join(t):`${a.m}${t}${a.d}${t}${a.y}`},userDate:(e,t=!1)=>{let n=new Date(new Date(window.context.user?new Date(1e3*e).toLocaleString("en-US",{timeZone:window.context.user.timezone}):new Date(1e3*e)).setMilliseconds(0)),a=r.P9.daysOfWeek[n.getDay()],o=n.getDate(),i=t?r.P9.monthsAbbreviated[n.getMonth()]:r.P9.months[n.getMonth()],s=n.getFullYear(),l=n.toLocaleTimeString(getLocale()),c=l.split(" ").length>1?l.split(" ")[1]:"",d=l.split(" ")[0].split(":");d.pop();let u=d.join(":");return t?`${i} ${o}, ${s}. ${u} ${c}`:`${a}, ${i} ${o}, ${u}${c}`}}},57998:function(e,t,n){"use strict";n.d(t,{h:function(){return pixelDensity},z:function(){return retinaImageSrcset}});let pixelDensity=(e,t)=>{if(!e)return;let n="@2x";return/\.svg$/.test(e)?e:([1.5,3,4].indexOf(t)>-1&&(n=`@${t}x`),e.replace(/(\.\w+)$/,e=>n+e))},retinaImageSrcset=e=>{if(!e)return;let t=e.substring(e.lastIndexOf("/")+1),n=e.replace(t,"");return`${e}, ${n}${pixelDensity(t)} 2x`}},99110:function(e,t,n){"use strict";var r=n(23618);t.A=()=>-1!==window.location.href.indexOf(r.A.generate("web_2fa_login"))},55133:function(e,t,n){"use strict";n.d(t,{J:function(){return isCI}});function isCI(){return!!(window.Cypress||window.Config?.cypress||window.location.host.includes("localhost:"))}},59920:function(e,t,n){"use strict";n.d(t,{F:function(){return isJson}});let isJson=e=>{if("string"!=typeof e)return!1;try{JSON.parse(e);return!0}catch{return!1}}},82683:function(e,t,n){"use strict";n.d(t,{Y:function(){return isPlayPage}});function isPlayPage(){return!!window.Config?.isPlay}},17431:function(e,t,n){"use strict";n.d(t,{Rm:function(){return log}});var r=n(36724),a=n(59112);let log=({key:e,value:t})=>{(()=>{(0,a.k)({key:"logData",value:{}})})();window.chesscom.logData[e]=t;(0,r.X)({[e]:t})}},54034:function(e,t,n){"use strict";n.d(t,{Z:function(){return getTypedKeys}});function getTypedKeys(e){return Object.keys(e)}},60381:function(e,t,n){"use strict";n.d(t,{t:function(){return retryAsync}});var r=n(81055),a=n(77781);async function retryAsync(e,t){let n,o=t.attempts,i=null;for(;o>0;){o--;try{n=await e();i=null;o=0}catch(n){i=n;let e=t.attempts-o;t.captureError&&t.captureError(i,e);o>0&&((0,r.Et)(t.delay)&&t.delay>0?await (0,a.u)(t.delay):(0,r.Tn)(t.delay)&&await (0,a.u)(t.delay(e)))}}if(i)throw i;return n}},15529:function(e,t,n){"use strict";n.d(t,{D:function(){return copyRoute}});var r=n(53233),a=n(81055);function copyRoute(e){let t=(0,r.R)();if(t.routes_[e])return;try{Object.assign(t.context_,{base_url:"",prefix:"",host:"www.chess.com",port:"",scheme:"https",locale:""})}catch(e){}Object.isFrozen(t.routes_)&&(t.routes_=Object.assign({},t.routes_));let n=".chess-dev.com",o=window.location.host.replace(/^[^.]+/,""),i=!window.Config?.cypress&&o;i&&t.context_.host.includes(n)&&(t.context_.host=t.context_.host.replace(n,o));if(window.chesscom?.routes?.[e]){let r=window.chesscom.routes[e];if(i){r.defaults?.host?.includes(n)&&(r.defaults.host=r.defaults.host.replace(n,o));r.hosttokens?.forEach(e=>{e.forEach((t,r)=>{(0,a.Kg)(t)&&t.includes(n)&&(e[r]=t.replace(n,o))})})}t.routes_[e]=r}}},53233:function(e,t,n){"use strict";n.d(t,{R:function(){return getRouting}});var r=n(37634),a=n.n(r);function getRouting(){return a()}},23618:function(e,t,n){"use strict";var r=n(23189),a=n(55133),o=n(15529),i=n(53233),s=n(48858);class l{generate(e,t,n){let l=t||{};"string"==typeof l.username&&(l.username=l.username.toLowerCase());(0,o.D)(e);try{let t=(0,i.R)().generate(e,l,n);if(t.startsWith("http"))try{let e=new URL(t),n=window.location;if(e.origin===n.origin)return t;if("localhost"===n.hostname)t=t.replace(e.origin,n.origin);else{let e=(0,r.o)(),n=(0,r.o)(t);t=t.replace(n,e)}}catch(r){let t=Error(`Failed replacing hostname in route '${e}'.`);(0,s.C)(t,{routeName:e,routeParams:l,absoluteUrl:n})}return t}catch(n){let t=Error(`Couldn't find missing route '${e}'.`);window.Jest||console.error(t);(0,a.J)()||(0,s.C)(t,{missing_route:e});return"/"}}i18nable(e){return`i18n_${e}`in window.chesscom.routes}i18n(e,t,n){let r=e,a=t||{};if(window.context?.route?.startsWith("i18n")&&this.i18nable(e)){a._locale=window.context.locale.slice(0,2);r=`i18n_${e}`}let o=this.generate(r,a,n);return n?o:o.replace(/^.*\/\/[^/]+/,"")}}t.A=new l},48858:function(e,t,n){"use strict";n.d(t,{C:function(){return captureException}});var r=n(95085),a=n(21347),o=n(70502);async function captureException(e,t){if(!await (0,o.T)())return;await (0,r.z)();let n=await (0,a.Q)(),i=e instanceof Error?e:Error(e);t?n.withScope(e=>{Object.keys(t).forEach(n=>e.setExtra(n,t[n]));n.captureException(i)}):n.captureException(i)}},95085:function(e,t,n){"use strict";n.d(t,{z:function(){return enableSentry}});var r=n(21347),a=n(70502);async function enableSentry(e=0){if(!await (0,a.T)())return;window.chesscom.sudoEnableSentry=!0;let t=await (0,r.Q)();for(;window.chesscom.queuedSentryReports?.length;)t.captureException(window.chesscom.queuedSentryReports.shift());if(e>0){let t=Date.now()+24*e*36e5;window.localStorage.setItem("enableSentryUntil",t.toString())}}},21347:function(e,t,n){"use strict";n.d(t,{Q:function(){return getSentryBrowser}});async function getSentryBrowser(){return n.e(8440).then(n.bind(n,38440))}},70502:function(e,t,n){"use strict";n.d(t,{T:function(){return isSentryAvailable}});var r=n(21347);async function isSentryAvailable(){try{return!!(await (0,r.Q)()).getCurrentHub().getClient()}catch(e){return!1}}},36724:function(e,t,n){"use strict";n.d(t,{X:function(){return setSentryContext}});var r=n(21347),a=n(70502);async function setSentryContext(e){await (0,a.T)()&&(await (0,r.Q)()).configureScope(t=>{Object.keys(e).forEach(n=>{t.setExtra(n,e[n])})})}},18817:function(e,t,n){"use strict";n.d(t,{N:function(){return getTimeControlLabel}});var r=n(34619);function getTimeControlLabel(e,t=!1){let{baseTime:n,timeIncrement:a,timeType:o}=e;if("none"===o)return"--";if("daily"===o)return(0,r.Mq)("{1} 1 day|]1,Inf] %1$s% days",n,{"%1$s%":n}).trim();if(a&&n<60)return`${(0,r.Mq)("{1} 1 sec|]1,Inf] %1$s% sec",Number(n.toFixed(0)),{"%1$s%":n.toFixed(0)}).trim()} ${t?"+":"|"} ${String(a)}`;let i=n%60;return a&&n?i>0?`${Math.floor(n/60)}:${String(i).padStart(2,"0")} ${t?"+":"|"} ${String(a)}`:`${(n/60).toFixed(0)} ${t?"+":"|"} ${String(a)}`:n<60?(0,r.Mq)("{1} 1 sec|]1,Inf] %1$s% sec",Number(n.toFixed(0)),{"%1$s%":n.toFixed(0)}).trim():i>0?`${Math.floor(n/60)}:${String(i).padStart(2,"0")}`:(0,r.Mq)("{1} 1 min|]1,Inf] %1$s% min",Number((n/60).toFixed(0)),{"%1$s%":(n/60).toFixed(0)}).trim()}},78779:function(e,t,n){"use strict";var r=n(34619);t.A={methods:{$unsafeTrans:r.dn,$trans:r.pw,$transChoice:r.Mq}}},34619:function(e,t,n){"use strict";n.d(t,{Mq:function(){return transChoice},X6:function(){return getCountries},dn:function(){return unsafeTrans},pw:function(){return trans}});var r=n(98583),a=n.n(r),o=n(44096);let i=window.context?.i18n?.locale==="fr_FR";a().placeHolderPrefix="";a().placeHolderSuffix="";let escapeRegExp=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),sanitizeAndEscapeParameters=e=>{let t={};return null!=e&&Object.keys(e).forEach(n=>{let r=escapeRegExp(n);null!=r&&r.length>0&&(t[r]=(0,o.lJ)(e[n]))}),t},getTranslatedPhrase=(e,t="messages",n)=>window.chesscom_translations&&window.chesscom_translations[t]&&window.chesscom_translations[t][e]?window.chesscom_translations[t][e]:window.chesscom_live_translations&&window.chesscom_live_translations[t]&&window.chesscom_live_translations[t][e]?window.chesscom_live_translations[t][e]:"live"===t&&window.i18n_phrases&&window.i18n_phrases[e]?window.i18n_phrases:"countries"===t&&window.Country&&window.Country[e]?window.Country:n?void 0:"javascript"!==t?getTranslatedPhrase(e,"javascript"):e,trans=(e,t,n)=>a().trans(getTranslatedPhrase(e,n),sanitizeAndEscapeParameters(t),n),unsafeTrans=(e,t,n)=>a().trans(getTranslatedPhrase(e,n),(e=>{let t={};return null!=e&&Object.keys(e).forEach(n=>{let r=escapeRegExp(n);null!=r&&r.length>0&&(t[r]=e[n])}),t})(t),n),transChoice=(e,t,n,r)=>{if(void 0===t)return"";let o=getTranslatedPhrase(e,r),s=sanitizeAndEscapeParameters(n);return i?frenchTransChoice(o,t,s,r):a().transChoice(o,t,s)};function frenchTransChoice(e,t,n,r){let[o,i,s]=e.split("|").map(e=>e.trim());return 0===t||1===t?a().trans(o,n,r):t%1e6==0?a().trans(i,n,r):a().trans(s,n,r)}let getCountries=()=>window.chesscom_translations&&window.chesscom_translations.countries?window.chesscom_translations.countries:window.chesscom_live_translations&&window.chesscom_live_translations.countries?window.chesscom_live_translations.countries:window.Country?window.Country:void 0},97174:function(e,t,n){"use strict";n.d(t,{h:function(){return turnstileRender}});var r=n(78630),a=n(79016),o=n(86283);async function turnstileRender(e,t){await window.turnstileReady;t||(0,o.sQ)();let n=(0,a.l)(e,!t);return window.turnstile.render(t??`#${r.i}`,n)?n.cData:void 0}},78630:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});let r="turnstile_widget"},79016:function(e,t,n){"use strict";n.d(t,{l:function(){return createTurnstileRenderOptions}});var r=n(37901),a=n.n(r),o=n(86283);function createTurnstileRenderOptions(e,t){return e.cData??=a()(),{sitekey:window.Config["turnstile.sitekey"],appearance:"interaction-only",...e,callback:callbackProxy(e,t),"before-interactive-callback":()=>beforeInteractiveCallbackProxy(e,t),"error-callback":errorCallbackProxy(e)}}function callbackProxy(e,t){return(n,r)=>{window.turnstileLogger?.recordSuccess(e.cData,e.action);t&&(0,o.Bq)();e.callback(n,r)}}function errorCallbackProxy(e){return t=>{window.turnstileLogger?.recordError(e.cData,e.action,t);e["error-callback"]?.(t)}}function beforeInteractiveCallbackProxy(e,t){window.turnstileLogger?.beforeInteractiveCallback(e.cData);t&&(0,o.eC)();e["before-interactive-callback"]?.()}},86283:function(e,t,n){"use strict";let r;n.d(t,{Bq:function(){return unmountTurnstileDialog},eC:function(){return showTurnstileDialog},sQ:function(){return mountTurnstileDialog}});var a=n(34619),o=n(78630);function mountTurnstileDialog(){if(r)return;let e=(0,a.pw)("Check the box to proceed.");(r=document.createElement("dialog")).className="turnstile-modal";r.innerHTML=`
      <p>${e}</p>
      <div id="${o.i}"></div>
  `;document.body.appendChild(r)}function showTurnstileDialog(){r?.showModal()}function unmountTurnstileDialog(){if(r){r.close();document.body.removeChild(r);r=void 0}}},81055:function(e,t,n){"use strict";n.d(t,{Et:function(){return isNumber},Gv:function(){return isObject},Kg:function(){return isString},Lm:function(){return isBoolean},Tn:function(){return isFunction},cy:function(){return isArray}});function isObject(e){return null!==e&&"object"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e&&!isNaN(e)}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}},77781:function(e,t,n){"use strict";n.d(t,{u:function(){return wait}});let wait=(e=0)=>new Promise(t=>{setTimeout(t,e)})},92408:function(e,t,n){"use strict";n.d(t,{y:function(){return waitForAnimationFrame}});n(12698);async function waitForAnimationFrame(){return new Promise(e=>{window.requestAnimationFrame(e)})}},8619:function(e,t,n){"use strict";n.d(t,{u:function(){return postMessage}});function postMessage(e){window.postMessage?.(e,window.location.origin)}},59112:function(e,t,n){"use strict";n.d(t,{k:function(){return register}});let register=({key:e,value:t})=>{window.chesscom||(window.chesscom={});window.chesscom[e]||(window.chesscom[e]=t)}},64840:function(e,t,n){"use strict";n.d(t,{DY:function(){return i},gK:function(){return s},sO:function(){return o},w_:function(){return a}});var r=n(34619);let a=7e3,o={badRequest:(0,r.pw)("Oops. Looks like there was an error. Sorry! Please refresh.")};(0,r.pw)("Avatar uploaded"),(0,r.pw)("Thank you for your comment."),(0,r.pw)("Comment deleted."),(0,r.pw)("You cannot send an empty comment"),(0,r.pw)("Comment updated."),(0,r.pw)("Comment link is copied to clipboard"),(0,r.pw)("Copied to clipboard"),(0,r.pw)("All forum topics have been marked as read"),(0,r.pw)("Feature Set! It might take a minute or two to appear."),(0,r.pw)("Please select the players for whom to send the invitation"),(0,r.pw)("Your invitations were sent successfully"),(0,r.pw)("PGN copied to buffer");let i={ALERT_FLASH_CONTAINER:"widget-alert-flash",DISMISSING:"alert-banner-dismissing"},s={error:"error",info:"info",success:"success"};s.error,o.badRequest},50336:function(e,t,n){"use strict";n.d(t,{Hw:function(){return dismissAlert},ZP:function(){return createAlertElement}});var r=n(72005),a=n(86632),o=n(34619),i=n(64840);function dismissAlert(e){let t=document.getElementById(`alert-${e}`);t&&hideAlertElement(t)}function dismissAllButLast(e=2){let t=getContainer();Array.from(t?.querySelectorAll(`.alerts-alert:not(:nth-last-child(-n + ${e}))`)??[]).forEach(hideAlertElement)}function clearAlerts(){let e=getContainer();e&&(e.innerHTML="")}function createAlertElement(e){dismissAllButLast(0);(0,a.Y)("alerts");let t=r.e3?"icon-font-chess-new-onboarding-designs":"",n=document.createElement("div");n.classList.add("alerts-alert");n.classList.add("alerts-enter");n.classList.add(`alerts-${e.type}`);n.setAttribute("id",`alert-${e.id}`);let s=document.createElement("span");s.classList.add("alerts-message");r.e3&&s.classList.add("alerts-message-anchor-new-onboarding-designs");s.innerHTML=e.message;let l=document.createElement("button");l.classList.add("alerts-close");l.setAttribute("type","button");l.setAttribute("aria-label",(0,o.pw)("Close"));l.innerHTML=`<span class="icon-font-chess x ${t}"></span>`;n.appendChild(s);n.appendChild(l);getContainer()?.appendChild(n);l.addEventListener("click",onClickClose);e.type===i.gK.success&&setTimeout(hideAlertElement,i.w_,n)}function getContainer(){return document.getElementById(i.DY.ALERT_FLASH_CONTAINER)}function hideAlertElement(e){e.classList.add("alerts-leave");setTimeout(removeAlertElement,200,e)}function removeAlertElement(e){try{getContainer()?.removeChild(e)}catch(e){clearAlerts()}}function onClickClose(e){let t=e.target?.closest?.(".alerts-alert");t&&hideAlertElement(t)}},54606:function(e,t,n){"use strict";n.d(t,{Hw:function(){return a.Hw},Qg:function(){return showError},Te:function(){return showSuccess},Tj:function(){return createAlert}});var r=n(64840),a=n(50336),o=n(37901),i=n.n(o);function createAlert({message:e,type:t,id:n}){(0,a.ZP)({id:n??i()(),type:t,message:e})}function showSuccess(e){createAlert({type:r.gK.success,message:e})}function showError(e=r.sO.badRequest){window.chesscom?.isSpider||createAlert({type:r.gK.error,message:e})}},24755:function(e,t,n){"use strict";n.d(t,{uK:function(){return l},AA:function(){return s},DY:function(){return u},JZ:function(){return h},P9:function(){return d}});let r={BOARD_POPOVER:"v-board-popover",CONFIRM_POPOVER:"v-confirm-popover",TOOLTIP:"v-tooltip",USER_POPOVER:"v-user-popover"};var a=n(56166),o=n(23618),i=n(34619);let s={BLOG:"blog",CSRF_TOKEN:window.context?.csrf?.token,DARK_MODE:"dark-mode",DEFAULT_LOCALE:"en_US",LESSONS:"lessons",NEWS:"news",VIDEO:"video",GRID_VIEW:"grid",LIGHT_MODE:"light-mode",LIST_VIEW:"list",LOCALE:window.context?.locale?.replace("_","-")??"en-US",LOGGED_IN:window.context&&window.context.user,PUZZLES_COUNT:500,TIME:{hour:36e5},USERNAME:window.context&&window.context.user?window.context.user.username:null,USER_COLOR_SCHEME:"COLOR_SCHEME"},l={ARIA_CONTROLS:"aria-controls",ARIA_LABEL:"aria-label",ARIA_SELECTED:"aria-selected",AVATAR:"data-avatar",ALIGN_DROPDOWN:"data-align-dropdown",BORDER_TOP:"data-border-top",BORDER_TOP_WIDE:"data-border-top-wide",BUTTON_TEXT:"data-button-text",CATEGORIES:"data-categories",CONTROL_LABEL_TEXT:"data-control-label-text",CUSTOM_BTN_CLASS:"data-custom-btn-class",CUSTOM_COLLAPSE_CLASS:"data-custom-collapse-class",DARK_MODE:"data-dark-mode",HIDDEN:"hidden",ICON_BUTTON:"data-icon-button",LOCATION:"data-location",OPTIONS:"data-options",SHOW_ICON:"data-show-icon",SELECTED_LANGUAGES:"data-selected-languages",SELECTED_PAGE:"data-selected-page",SELECTED_VALUE:"data-selected-value",SLOTS:"data-stats-slots",SRC:"src",STATS:"data-stats",SURVEY_DATA:"data-survey",SURVEY_VOTED:"data-voted-survey",TAB_URL_PARAM:"data-tab-url-param",TYPE:"data-type",USERNAME:"data-username",USER_LANGUAGE:"data-user-language",VALUE:"data-value",VS_STATS:"data-vs-stats"},c={getArticleAuthors:"web_article_callback_list_authors",lockUnlockComments:{article:"web_article_callback_lock_coments",blog:"web_blog_callback_lock_coments",news:"web_news_callback_lock_coments",video:"web_video_callback_lock_coments"},setArticleFeature:"web_content_callback_feature_article",setBlogFeature:"web_content_callback_feature_blog",setLessonsFeature:"web_content_callback_feature_lesson_course",setNewsFeature:"web_content_callback_feature_news",setVideoFeature:"web_content_callback_feature_chess_video"},d={category:e=>(0,i.pw)(e,{},"dynamic"),commentsSynced:(0,i.pw)("Comment count will be recalculated in few moments"),daysOfWeek:a.hD,loading:(0,i.pw)("Loading..."),months:a.dF,monthsAbbreviated:a.Bx,noResult:(0,i.pw)("No results found."),pleaseEnter:e=>(0,i.pw)("Please enter %number% or more characters",{"%number%":e}),showMore:(0,i.pw)("More"),showLess:(0,i.pw)("Less")},u={BOARD_POPOVER:r.BOARD_POPOVER,CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",CONFIRM_POPOVER_INLINE:"confirm-popover-inline",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",DELETE_CONTENT:"post-category-link-delete",DELETE_SPAM_CONTENT:"post-category-link-delete-spam",DONATE_MODAL:"donate-modal",EXPLORER_CHECKBOX:"modify-explorer-name",EXPLORER_CONTAINER:"overwrite-explorer-name-container",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FOLLOW_UNFOLLOW_AUTHOR:"follow-unfollow-author",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_BUTTON:"give-gift-membership",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",LANGUAGE_DROPDOWN:"post-view-languages",LOCK_UNLOCK_CONTENT:"lock-unlock-content",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_BUTTON:"cc-pagination-button",PAGINATION_SCROLL_TOP:".pagination-scroll-to-top",PAGINATION_TOP:"pagination-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",PUBLISH_CONTENT:"post-category-link-publish",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"toggle-content-button-text",SIDEBAR_TOGGLE_ICON:"toggle-content-icon",SIDEBAR_USERS_TOGGLE_BUTTON:"toggle-content-button",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",STAT_CHART:"stat-chart",TABS_BUTTON:"cc-tabs-button",TABS_PANEL:"cc-tabs-panel",TABS_WRAPPER:"cc-tabs-wrapper",TIMEZONES:"page-timezones",TOOLTIP:r.TOOLTIP,TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",UPGRADE_ACCORDION:"upgrade-accordion",USER_ACTIVITY_TRACKER:"user-activity-tracker",USER_ACTIVITY_TRACK_HOME_ACTION:"[data-track-home-action-to-user-activity]",USER_ACTIVITY_TRACK_NEW_HOME_ACTION:"[data-track-new-home-action-to-user-activity]",USER_ACTIVITY_TRACK_SELECTION:"[data-track-selection-to-user-activity]",USER_LEAGUE:"user-league",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"},h={changeContentLanguage:()=>o.A.generate("web_user_callback_set_content_language"),enPassant:()=>o.A.generate("web_article_view",{url:"how-to-capture-en-passant"}),inviteLink:(e,t,n)=>o.A.generate(e,{url:t,secret:n}),lockUnlockComments:(e,t)=>o.A.generate(c.lockUnlockComments[e],{id:t}),loginPage:o.A.generate("web_security_login_and_go"),redirectToLoginPage:e=>o.A.generate("web_security_login_and_go",{redirectUrl:e}),surveyVote:(e,t)=>o.A.generate("web_survey_callback_vote",{id:e,optionId:t}),teamMatch:e=>o.A.generate("web_team_match_view",{match:e}),tournament:e=>o.A.generate("web_tournament_view",{url:e}),userProfile:e=>o.A.generate("web_member_view",{username:e})}},92315:function(e,t){"use strict";t.A={BOTTOM_LINK_MOUSE_ENTER:"BOTTOM_LINK_MOUSE_ENTER",EXPAND_COLLAPSE_CHANGE:"EXPAND_COLLAPSE_CHANGE",DECREMENT_NOTIFICATION_COUNT:"decrement-notification-count",FEATURE_LINK_INIT:"FEATURE_LINK_INIT",FETCH_NOTIFICATIONS:"FETCH_NOTIFICATIONS",FETCH_NOTIFICATION_COUNT:"FETCH_NOTIFICATION_COUNT",HIDE_TIME_CONTROLS:"HIDE_TIME_CONTROLS",LINK_SECONDARY_HIDE:"LINK_SECONDARY_HIDE",LINK_SECONDARY_MOUNTS:"LINK_SECONDARY_MOUNTS",NAV_TOGGLED:"NAV_TOGGLED",NOTIFICATIONS_FETCHED:"NOTIFICATIONS_FETCHED",NOTIFICATIONS_PANEL_INIT:"NOTIFICATIONS_PANEL_INIT",OPEN_LANGUAGE_PICKER:"OPEN_LANGUAGE_PICKER",SECONDARY_CHANGE:"SECONDARY_CHANGE",SHOW_VIDEO_MODAL:"SHOW_VIDEO_MODAL",TOGGLE_DAILY_CONTROLS:"TOGGLE_DAILY_CONTROLS",TOGGLE_LIVE_CONTROLS:"TOGGLE_LIVE_CONTROLS",VIEW_MOUNTED:"VIEW_MOUNTED"}},36761:function(e,t,n){"use strict";n.d(t,{P:function(){return isRtl}});let isRtl=()=>"rtl"===document.documentElement.getAttribute("dir")},48746:function(e,t,n){"use strict";n.d(t,{PQ:function(){return c},lZ:function(){return s},AZ:function(){return h},zC:function(){return u},xU:function(){return r.x},qs:function(){return p},JZ:function(){return d}});var r=n(64939),a=n(34619);let o={category:"membership_icons",code:"nothing",description:(0,a.pw)("Nothing"),id:206,imageCode:"nothing",membershipLevelCode:"staff",name:(0,a.pw)("Nothing"),status:""};var i=n(23618);let s={REPORT_USER:"web_user_callback_report_user",REPORT_USER_CONTENT:"web_user_callback_report_content",REPORT_TV_USER:"web_tv_callback_report",USER_POPUP:"web_user_callback_popup"},l=[{key:"membership_icons",title:(0,a.pw)("Membership Icons")},{key:"emoji",title:(0,a.pw)("Emoji")},{key:"chess",title:(0,a.pw)("Chess")},{key:"holiday",title:(0,a.pw)("Holiday")},{key:"hosts",title:(0,a.pw)("Hosts")},{key:"computer_chess",title:(0,a.pw)("Computer Chess")},{key:"pro_chess_league",title:(0,a.pw)("PRO Chess League")}];l.push({key:"duolingo",title:(0,a.pw)("Duolingo")});l.push({key:"discord",title:(0,a.pw)("Discord")});let c=o,d={about:()=>i.A.generate("web_about"),fetchLifetimeScore:(e,t)=>i.A.generate("web_user_callback_lifetime_score",{user:e,opponent:t}),fetchUserPopoverData:e=>i.A.generate("web_user_callback_popup",{username:e}),membership:(e="icon")=>i.A.generate("web_membership",{c:e}),usernameSearch:e=>i.A.generate("web_user_callback_username_search",{activeDays:4e3,...e}),userDivision:({league:e,division:t})=>i.A.generate("web_league_division",{league:e,division:t}),userProfile:e=>i.A.generate("web_member_view",{username:e})};r.x.diamond,r.x.abuser,r.x.cheater,r.x.voluntarilyClosed,r.x.unspecifiedClosed,r.x.gold,r.x.moderator,r.x.platinum,r.x.staff;r.x.basic,(0,a.pw)("Basic Membership"),r.x.diamond,(0,a.pw)("Diamond Membership"),r.x.cheater,(0,a.pw)("Closed: Fair Play"),r.x.abuser,(0,a.pw)("Closed: Abuse"),r.x.voluntarilyClosed,(0,a.pw)("Closed: Inactive"),r.x.unspecifiedClosed,(0,a.pw)("Account Closed"),r.x.gold,(0,a.pw)("Gold Membership"),r.x.moderator,(0,a.pw)("Moderator Account"),r.x.platinum,(0,a.pw)("Platinum Membership"),r.x.silver,(0,a.pw)("Silver Membership"),r.x.staff,(0,a.pw)("Staff Account");let u={GM:(0,a.pw)("Grandmaster"),WGM:(0,a.pw)("Woman Grandmaster"),IM:(0,a.pw)("International Master"),WIM:(0,a.pw)("Woman International Master"),FM:(0,a.pw)("FIDE Master"),WFM:(0,a.pw)("Woman FIDE Master"),NM:(0,a.pw)("National Master"),CM:(0,a.pw)("FIDE Candidate Master"),WCM:(0,a.pw)("FIDE Woman Candidate Master"),WNM:(0,a.pw)("Woman National Master"),M:(0,a.pw)("Master")},h={AUTOCOMPLETE_CLEAR_SELECTED:"form-autocomplete-clear-selected",FILL_AUTOCOMPLETE:"form-autocomplete-fill-selected"},p={FETCH_ROLES:"fetchRoles"}},64939:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});let r={guest:0,cheater:5,abuser:6,voluntarilyClosed:7,unspecifiedClosed:8,basic:10,silver:20,gold:30,platinum:40,diamond:50,moderator:80,staff:90}},46666:function(e,t,n){"use strict";n.d(t,{B8:function(){return getAdditionalUserInfo},M3:function(){return r.M},P:function(){return o.P}});var r=n(31075),a=n(18062);n(23618);n(48746);var o=n(34625);let i=window.context,getAdditionalUserInfo=e=>{let t=!1;if(!(0,r.M)()){switch(e){case"diagramSettings":t={};break;case"isDarkMode":t=(0,a.oL)();break;default:t=null}return t}switch(e){case"cohort":t=i.user?.cohort;break;case"country":t=i.user?.country;break;case"flairCode":t=i.user?.flairCode;break;case"flair":t=i.user?.flair;break;case"getUserId":t=i.user?.id;break;case"getUsername":t=i.user?.username;break;case"getAvatarUrl":t=i.user?.avatarUrl;break;case"getAvatarLargeUrl":t=i.user?.avatarLargeUrl;break;case"getSettingsAvatarUrl":t=i.user?.settingsAvatarUrl;break;case"getLastLoginDate":t=i.user?.lastLoginDate;break;case"registerDate":t=i.user?.registerDate;break;case"getBrowserTimezone":t=window.jstz.determine().name();break;case"getTimezone":t=i.user?.timezone;break;case"getDiagramSettings":t=i.diagramSettings;break;case"language":t=i.i18n.locale;break;case"contentLanguage":t=i.i18n.contentLanguage;break;case"speaksEnglish":t="en_US"===i.i18n.locale;break;case"eligibleFirstTrial":t=i.user?.eligibleFirstTrial;break;case"fairPlayAgree":t=i.user?.fairPlayAgree;break;case"getArchiveView":t=i.user?.archiveView?i.user.archiveView:"grid";break;case"homeContentType":t="following";break;case"getMembershipLevel":t=i.user?.membershipLevel;break;case"isContentHidden":t=i.user?.isContentHidden;break;case"isDarkMode":t=(0,a.oL)();break;case"rating":t=i.user?.rating;break;case"safeMode":t=i.user?.safeMode;break;case"uuid":t=i.user?.uuid;break;default:t=!1}return t}},34625:function(e,t,n){"use strict";n.d(t,{P:function(){return isGuest}});function isGuest(){return!!window.context?.user?.isGuest}},31075:function(e,t,n){"use strict";n.d(t,{M:function(){return isLoggedIn}});var r=n(99110);function isLoggedIn(){return!!(window.context?.user&&!(0,r.A)())}},39518:function(e,t,n){"use strict";n.d(t,{p:function(){return clearFriendsSearch}});var r=n(92408),a=n(30421);async function clearFriendsSearch(){await (0,r.y)();a.h.searchQuery="";a.h.searchResults.clear();a.h.searchSuggestions.clear()}},40168:function(e,t,n){"use strict";n.d(t,{N:function(){return s},V:function(){return unsafeLoadLegacyRecentPendingFriends}});var r=n(95101),a=n(67426),o=n(61286),i=n(30421);async function fetchRecentPendingFriends(){let{data:{pendingFriends:e}}=await (0,a.Qs)({});return e}async function unsafeLoadLegacyRecentPendingFriends(){let e=fetchRecentPendingFriends();i.h.incomingRequestsLegacy.load(async()=>(await e)?.filter(e=>e.isIncomingRequest)?.map(e=>e.friend)??[]);i.h.outgoingRequestsLegacy.load(async()=>(await e)?.filter(e=>!e.isIncomingRequest)?.map(e=>e.friend)??[])}let s=(0,r.s)(unsafeLoadLegacyRecentPendingFriends,o.w.pendingRequests,{edges:["leading"]})},36548:function(e,t,n){"use strict";n.d(t,{$:function(){return resetRecentFriendRequestsPagination}});var r=n(30421);async function resetRecentFriendRequestsPagination(){return r.h.incomingRequests.clear(),r.h.outgoingRequests.clear(),Promise.all([r.h.incomingRequests.loadNextPage(),r.h.outgoingRequests.loadNextPage()])}},61286:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});let r={friends:5e3,pendingRequests:1e3}},21578:function(e,t,n){"use strict";n.d(t,{I:function(){return getContactMatches}});var r=n(18404),a=n(29565);function getContactMatches(){return(0,r.w)([a.f.MATCHED_CONTACTS])||[]}},28427:function(e,t,n){"use strict";n.d(t,{M:function(){return getFriends}});var r=n(30421);function getFriends(){return r.h.friends.dataSync}},84612:function(e,t,n){"use strict";n.d(t,{f:function(){return getIncomingFriendRequests}});var r=n(30421);function getIncomingFriendRequests(){return window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?r.h.incomingRequests.dataSync:r.h.incomingRequestsLegacy.dataSync}},7286:function(e,t,n){"use strict";n.d(t,{B:function(){return getOutgoingFriendRequests}});var r=n(30421);function getOutgoingFriendRequests(){return window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?r.h.outgoingRequests.dataSync:r.h.outgoingRequestsLegacy.dataSync}},30421:function(e,t,n){"use strict";n.d(t,{h:function(){return l}});var r=n(67426),a=n(39398),o=n(68924);let i={Initializing:"initializing",NoMoreData:"no-more-data"};class s extends a.a{totalItems=new a.a;nextPageToken=i.Initializing;loadPage;loadNextPagePromise;options;pastPageTokens=new Set;constructor(e,t,n,r={}){super();let loadPage=async()=>{let r=this.nextPageToken===i.Initializing||this.nextPageToken===i.NoMoreData?void 0:this.nextPageToken,{data:a}=await e({pagination:{pageToken:r,pageSize:this.options.pageSize},...t});return n(this.stripPagination(a))};this.options=r;this.loadPage=loadPage;this.options.preventInitializationCall||this.load(loadPage)}async loadNextPage(){if(this.loadNextPagePromise)return this.loadNextPagePromise.promise;this.loadNextPagePromise=new o.p;if(this.options.preventInitializationCall&&this.nextPageToken===i.Initializing){await this.load(this.loadPage);this.loadNextPagePromise.resolve?.();this.loadNextPagePromise=void 0;return}await this.data;if(this.nextPageToken===i.NoMoreData||0===this.totalItems.dataSync&&!this.options.sendRequestsWithZeroTotalSize){this.loadNextPagePromise.resolve?.();this.loadNextPagePromise=void 0;return}try{let e=await this.loadPage();await this.data;a.a.isDataReady(this.dataSync)&&this.dataSync.push(...e)}catch(e){this.options.preventRequestsAfterError&&(this.nextPageToken=i.NoMoreData);throw e}finally{this.loadNextPagePromise.resolve?.();this.loadNextPagePromise=void 0}}clear(){this.nextPageToken=i.Initializing;this.loadNextPagePromise?.resolve?.();this.loadNextPagePromise=void 0;this.totalItems.clear();this.pastPageTokens.clear();super.clear()}get hasMoreData(){return this.nextPageToken!==i.NoMoreData}stripPagination(e){let{pagination:t,...n}=e,r=t.nextPageToken??i.NoMoreData;if(this.pastPageTokens.has(r)&&!this.options.sendRequestsWithDuplicatePageToken)this.nextPageToken=i.NoMoreData;else{this.nextPageToken=r;this.pastPageTokens.add(r)}return a.a.isDataReady(this.totalItems.dataSync)||(this.totalItems.dataSync=t.totalSize??a.a.Error),n}}let l=(0,n(7118).reactive)({searchQuery:"",friends:new a.a,searchResults:new a.a,searchSuggestions:new a.a,incomingRequests:new s(r.Qs,{direction:"FRIEND_REQUEST_DIRECTION_INCOMING"},e=>e.pendingFriends.map(e=>e.friend),{pageSize:15,preventInitializationCall:!0}),outgoingRequests:new s(r.Qs,{direction:"FRIEND_REQUEST_DIRECTION_OUTGOING"},e=>e.pendingFriends.map(e=>e.friend),{pageSize:10,preventInitializationCall:!0}),incomingRequestsLegacy:new a.a,outgoingRequestsLegacy:new a.a})},51894:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},65606:function(e){var t,n,r,a=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var o=[],i=!1,s=-1;function cleanUpNextTick(){if(i&&r){i=!1;r.length?o=r.concat(o):s=-1;o.length&&drainQueue()}}function drainQueue(){if(!i){var e=runTimeout(cleanUpNextTick);i=!0;for(var t=o.length;t;){r=o;o=[];for(;++s<t;)r&&r[s].run();s=-1;t=o.length}r=null;i=!1;runClearTimeout(e)}}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new Item(e,t));1!==o.length||i||runTimeout(drainQueue)};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};function noop(){}a.on=noop;a.addListener=noop;a.once=noop;a.off=noop;a.removeListener=noop;a.removeAllListeners=noop;a.emit=noop;a.prependListener=noop;a.prependOnceListener=noop;a.listeners=function(e){return[]};a.binding=function(e){throw Error("process.binding is not supported")};a.cwd=function(){return"/"};a.chdir=function(e){throw Error("process.chdir is not supported")};a.umask=function(){return 0}},37901:function(e){e.exports=uid;function uid(e){return e=e||7,Math.random().toString(35).substr(2,e)}},42302:function(e,t,n){"use strict";let r;n.d(t,{A:function(){return esm_browser_v4}});var a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16);function rng(){if(!r){r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto);if(!r)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}return r(o)}let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}var esm_browser_v4=function(e,t,n){if(a.randomUUID&&!t&&!e)return a.randomUUID();let r=(e=e||{}).random||(e.rng||rng)();r[6]=15&r[6]|64;r[8]=63&r[8]|128;if(t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return unsafeStringify(r)}},66262:function(e,t){"use strict";t.A=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n}},6897:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(7118),a=n(29905),o=n(23618),i=n(34619),s=(0,r.defineComponent)({__name:"country-flag",props:{code:{},isClickable:{type:[Boolean,null],default:!0},name:{},size:{},tooltipPosition:{default:"top"}},setup(e){let t=e,n=(0,r.computed)(()=>s.value||d.value?"sanctioned":t.code),s=(0,r.computed)(()=>t.code&&["fd",431].includes(t.code)),l=(0,r.computed)(()=>t.code&&["ru","RU","116"].includes(t.code.toString())),c=(0,r.computed)(()=>t.code&&["by","BY","22"].includes(t.code.toString())),d=(0,r.computed)(()=>!!(window.chesscom?.features?.includes("sanction_russia_flag")&&l.value)||!!(window.chesscom?.features?.includes("sanction_belarus_flag")&&c.value)),u=(0,r.computed)(()=>s.value?(0,i.pw)("Due to the ongoing war and resulting international sanctions, Russian and Belarusian flags will not be shown for players in Verified events."):t.name),h=(0,r.computed)(()=>o.A.generate("web_blog_view",{url:"CHESScom/on-the-invasion-of-ukraine"}));return(t,o)=>d.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.isClickable?"a":"div"),{key:0,href:e.isClickable?h.value:null,target:e.isClickable?"_blank":null,class:(0,r.normalizeClass)(["country-flags-component",`country-${n.value}`,{[`country-flags-${e.size}`]:e.size}])},{default:(0,r.withCtx)(()=>[e.isClickable?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:0,position:e.tooltipPosition,text:t.$trans("Click here to see our stance on the war in Ukraine")},null,8,["position","text"])):(0,r.createCommentVNode)("",!0)]),_:1},8,["href","target","class"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:(0,r.normalizeClass)(["country-flags-component",`country-${n.value}`.toLowerCase(),{[`country-flags-${e.size}`]:e.size}])},[u.value?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:0,"close-on-click":"",position:e.tooltipPosition,text:u.value},null,8,["position","text"])):(0,r.createCommentVNode)("",!0)],2))}})},95706:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(7118),a=n(44096);let o=["innerHTML"];var i=(0,r.defineComponent)({__name:"unsafe-html-renderer",props:{html:{}},setup(e){let t=(0,r.computed)(()=>(0,a.lJ)(e.html));return(e,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{innerHTML:t.value,class:(0,r.normalizeClass)(e.contentStyle.tiptap)},null,10,o))}}),s=n(66262);let l={};l.contentStyle={max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.999em",max700:"43.749em",max768:"47.999em",max960:"59.999em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em",tiptap:"unsafe-html-renderer-tiptap",tableWrapper:"unsafe-html-renderer-tableWrapper"};var c=(0,s.A)(i,[["__cssModules",l]])},26222:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(7118),a=n(21752);let o=["textContent"];var i=(0,r.defineComponent)({__name:"cc-aside-item",props:{chevron:{},customClasses:{},isDanger:{type:Boolean},iconSize:{default:24},icon:{},isDisabled:{type:Boolean},isOneLineText:{type:Boolean},href:{},isClickable:{type:Boolean,default:!0},label:{},selected:{type:Boolean},selectedIcon:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){let n={up:"arrow-chevron-top",right:"arrow-chevron-right",down:"arrow-chevron-bottom"};function onClick(n){if(e.isDisabled)return void n.preventDefault();t("click",n)}return(t,i)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.isClickable?e.href?"a":"button":"div"),{class:(0,r.normalizeClass)(["cc-aside-item-component",{"cc-aside-item-selected":e.selected,"cc-aside-item-danger":e.isDanger,"cc-transition-bg-hover":e.isClickable}]),disabled:e.isClickable&&e.isDisabled||null,href:e.isClickable&&e.href||null,type:e.isClickable&&!e.href?"button":null,onClick},{default:(0,r.withCtx)(()=>[e.icon?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:0,class:(0,r.normalizeClass)(["cc-aside-item-icon",e.customClasses?.icon]),name:e.icon.name,size:e.iconSize,variant:e.icon.variant},null,8,["class","name","size","variant"])):(0,r.createCommentVNode)("",!0),i[0]||(i[0]=(0,r.createTextVNode)()),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["cc-aside-item-label","cc-text-medium-bold",e.customClasses?.label,{"cc-aside-item-one-line":e.isOneLineText}]),textContent:(0,r.toDisplayString)(e.label)},null,10,o),i[1]||(i[1]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default"),i[2]||(i[2]=(0,r.createTextVNode)()),e.selected&&e.selectedIcon?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:1,class:"cc-aside-item-selectedIcon",name:"circle-fill-check",variant:"glyph",size:16})):(0,r.createCommentVNode)("",!0),i[3]||(i[3]=(0,r.createTextVNode)()),e.chevron?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:2,class:"cc-aside-item-chevron",variant:"glyph",name:n[e.chevron],size:16},null,8,["name"])):(0,r.createCommentVNode)("",!0)]),_:3},8,["class","disabled","href","type"]))}})},50880:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(7118),a=n(65862),o=n(83868);let i={min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.938em",max700:"43.749em",max768:"47.999em",max960:"59.999em",max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em"};function useBreakpointValue(e,t){let n=t?Object.entries(t).map(([e,t])=>{let n=e.startsWith("min")?"min-width":"max-width",r=`(${n}: ${i[e]})`;return{check:(0,o.Ubj)(r),value:t}}):[];return(0,r.computed)(()=>{let t=(0,r.toValue)(e);for(let{check:e,value:r}of n)e.value&&(t=r);return t})}var s=n(57998);let l=["loading","src","srcset","alt","height","width"];var c=(0,r.defineComponent)({__name:"cc-avatar-pure",props:{src:{},clickBehavior:{default:"none"},isLazyLoading:{type:Boolean},retinaSupport:{type:Boolean,default:!0},responsiveSize:{},size:{default:40},status:{default:()=>({isOnline:!1,isPlaying:!1,isStreaming:!1})},username:{},userProfileUrl:{default:""}},setup(e){let{trans:t}=(0,a.NB)(),n=e,o=["openProfile","openProfileInNewTab"],i=(0,r.ref)(!1),c=(0,r.ref)(!1),d=(0,r.computed)(()=>n.status?.isStreaming?"streaming":n.status?.isPlaying?"playing":n.status?.isOnline?"online":""),u=useBreakpointValue(()=>n.size,n.responsiveSize),h=(0,r.computed)(()=>n.username?t["Avatar of %username%"](n.username):t.Avatar),p=(0,r.computed)(()=>o.includes(n.clickBehavior)?"a":"div"),m=(0,r.computed)(()=>o.includes(n.clickBehavior)?n.userProfileUrl:null),f=(0,r.computed)(()=>"openProfileInNewTab"===n.clickBehavior?"_blank":null),g=(0,r.computed)(()=>o.includes(n.clickBehavior)?n.username:null),b=(0,r.computed)(()=>n.src&&n.retinaSupport&&!c.value?`${n.src} 1x, ${(0,s.h)(n.src)} 2x`:""),_=(0,r.computed)(()=>i.value||!n.src?"/bundles/web/images/user-image.svg":n.src);(0,r.watch)(()=>n.src,()=>{i.value=!1;c.value=!1});function onImageError(e){e.target.srcset?c.value=!0:i.value=!0}return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(p.value),{class:(0,r.normalizeClass)(["cc-avatar-component",`cc-avatar-size-${(0,r.unref)(u)}`,d.value?`cc-avatar-${d.value}`:""]),href:m.value,title:g.value,target:f.value},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("img",{class:"cc-avatar-img",loading:e.isLazyLoading?"lazy":void 0,src:_.value,srcset:b.value,alt:h.value,height:(0,r.unref)(u),width:(0,r.unref)(u),onError:onImageError},null,40,l),n[0]||(n[0]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default")]),_:3},8,["class","href","title","target"]))}}),d=(0,r.defineComponent)({__name:"cc-avatar",props:{src:{},clickBehavior:{default:"none"},isLazyLoading:{type:Boolean,default:!0},retinaSupport:{type:Boolean,default:!0},responsiveSize:{},size:{default:40},status:{default:()=>({isOnline:!1,isPlaying:!1,isStreaming:!1})},url:{},username:{}},setup(e){let t=e,{routes:n}=(0,a.NB)(),o=(0,r.computed)(()=>t.url||n.webMemberView(t.username));return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(c,(0,r.mergeProps)(t.$attrs,{src:e.src,"click-behavior":e.clickBehavior,"retina-support":e.retinaSupport,"responsive-size":e.responsiveSize,size:e.size,status:e.status,"is-lazy-loading":e.isLazyLoading,username:e.username,"user-profile-url":o.value}),{default:(0,r.withCtx)(()=>[(0,r.renderSlot)(t.$slots,"default")]),_:3},16,["src","click-behavior","retina-support","responsive-size","size","status","is-lazy-loading","username","user-profile-url"]))}})},68496:function(e,t,n){"use strict";t.A=n(7235).A},83611:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(7118),a=n(21752),o=n(65862);let i=["aria-label"];var s=(0,r.defineComponent)({__name:"cc-close-button",props:{size:{default:"large"},variant:{default:"subtle"}},emits:["click","contextmenu","touchend","touchstart"],setup(e){let{trans:t}=(0,o.NB)(),n=(0,r.computed)(()=>"small"===e.size?12:16);return(o,s)=>((0,r.openBlock)(),(0,r.createElementBlock)("button",{"aria-label":(0,r.unref)(t).Close,class:(0,r.normalizeClass)(["cc-close-button-component",`cc-close-button-${e.size}`,`cc-close-button-${e.variant}`,"cc-transition-color-hover"]),onClick:s[0]||(s[0]=e=>o.$emit("click",e)),onContextmenu:s[1]||(s[1]=e=>o.$emit("contextmenu",e)),onTouchend:s[2]||(s[2]=e=>o.$emit("touchend",e)),onTouchstart:s[3]||(s[3]=e=>o.$emit("touchstart",e))},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(o.$style.bg)},null,2),s[4]||(s[4]=(0,r.createTextVNode)()),(0,r.createVNode)(a.A,{class:"cc-close-button-icon",name:"mark-cross",variant:"glyph",size:n.value},null,8,["size"])],42,i))}}),l=n(66262);let c={};c.$style={component:"cc-close-button-component",bg:"cc-close-button-bg",icon:"cc-close-button-icon",opaque:"cc-close-button-opaque",default:"cc-close-button-default",subtle:"cc-close-button-subtle",white:"cc-close-button-white",small:"cc-close-button-small",medium:"cc-close-button-medium",large:"cc-close-button-large"};var d=(0,l.A)(s,[["__cssModules",c]])},82786:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(7118),a=(0,r.defineComponent)({__name:"cc-container",props:{display:{},direction:{},padding:{},gap:{},align:{},justify:{},wrap:{}},setup:e=>(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)([t.$style.component,e.display?t.$style[e.display]:"",e.direction?t.$style[`direction-${e.direction}`]:"",e.padding?t.$style[`padding-${e.padding}`]:"",e.gap?t.$style[`gap-${e.gap}`]:"",e.align?t.$style[`align-${e.align}`]:"",e.justify?t.$style[`justify-${e.justify}`]:"",e.wrap?t.$style[`wrap-${e.wrap}`]:""])},[(0,r.renderSlot)(t.$slots,"default")],2))}),o=n(66262);let i={};i.$style={component:"cc-container-component","inline-flex":"cc-container-inline-flex","direction-row":"cc-container-direction-row","direction-column":"cc-container-direction-column","padding-0":"cc-container-padding-0","padding-8":"cc-container-padding-8","padding-12":"cc-container-padding-12","padding-16":"cc-container-padding-16","padding-24":"cc-container-padding-24","padding-40":"cc-container-padding-40","gap-0":"cc-container-gap-0","gap-2":"cc-container-gap-2","gap-4":"cc-container-gap-4","gap-8":"cc-container-gap-8","gap-12":"cc-container-gap-12","gap-16":"cc-container-gap-16","gap-24":"cc-container-gap-24","align-start":"cc-container-align-start","align-center":"cc-container-align-center","align-end":"cc-container-align-end","justify-start":"cc-container-justify-start","justify-center":"cc-container-justify-center","justify-end":"cc-container-justify-end","wrap-nowrap":"cc-container-wrap-nowrap","wrap-wrap":"cc-container-wrap-wrap"};var s=(0,o.A)(a,[["__cssModules",i]]),l=n(21752);let c=["textContent"],d=["textContent"];var u=(0,r.defineComponent)({__name:"cc-empty-state",props:{icon:{},iconSize:{},header:{},subheader:{},padding:{default:"24"}},setup:e=>(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(s,{direction:"column",padding:e.padding,gap:"12"},{default:(0,r.withCtx)(()=>[e.icon?((0,r.openBlock)(),(0,r.createBlock)(l.A,{key:0,class:(0,r.normalizeClass)({[t.$style.glyph]:"glyph"===e.icon.variant}),name:e.icon.name,size:e.iconSize,variant:e.icon.variant},null,8,["class","name","size","variant"])):(0,r.createCommentVNode)("",!0),n[1]||(n[1]=(0,r.createTextVNode)()),e.header||e.subheader?((0,r.openBlock)(),(0,r.createBlock)(s,{key:1,direction:"column",gap:"4",class:(0,r.normalizeClass)(t.$style.content)},{default:(0,r.withCtx)(()=>[e.header?((0,r.openBlock)(),(0,r.createElementBlock)("h1",{key:0,class:(0,r.normalizeClass)([t.$style.header,"cc-text-large-bold","cc-color-text-bolder"]),textContent:(0,r.toDisplayString)(e.header)},null,10,c)):(0,r.createCommentVNode)("",!0),n[0]||(n[0]=(0,r.createTextVNode)()),e.subheader?((0,r.openBlock)(),(0,r.createElementBlock)("p",{key:1,class:(0,r.normalizeClass)([t.$style.subheader,"cc-paragraph-medium","cc-color-text-subtle"]),textContent:(0,r.toDisplayString)(e.subheader)},null,10,d)):(0,r.createCommentVNode)("",!0)]),_:1},8,["class"])):(0,r.createCommentVNode)("",!0),n[2]||(n[2]=(0,r.createTextVNode)()),t.$slots.default?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:(0,r.normalizeClass)(t.$style.slot)},[(0,r.renderSlot)(t.$slots,"default")],2)):(0,r.createCommentVNode)("",!0)]),_:3},8,["padding"]))});let h={};h.$style={slot:"cc-empty-state-slot",glyph:"cc-empty-state-glyph",content:"cc-empty-state-content"};var p=(0,o.A)(u,[["__cssModules",h]])},18560:function(e,t,n){"use strict";t.A=n(65003).A},21752:function(e,t,n){"use strict";t.A=n(80403).A},28806:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var r=n(7118),a=n(21752),o=n(91180),i=n(22404),s=n(29905);let l={small:{iconSize:20,loaderSize:"medium"},medium:{iconSize:20,loaderSize:"medium"},large:{iconSize:24,loaderSize:"medium"},"x-large":{iconSize:32,loaderSize:"large"}},c={class:"cc-input-group-component"},d={key:0,class:"cc-input-group-pre"},u={key:1,class:"cc-input-group-post"},h=["aria-label"];var p=(0,r.defineComponent)({__name:"cc-input-group",props:{id:{},append:{},ariaLabel:{},autocapitalize:{},autocomplete:{},autocorrect:{},autofocus:{type:Boolean},disabled:{type:Boolean},hasError:{type:Boolean},hasWarning:{type:Boolean},maxlength:{},modelValue:{default:""},name:{},placeholder:{},prepend:{},readonly:{type:Boolean},required:{type:Boolean},size:{default:"medium"},spellcheck:{type:[Boolean,String]},type:{default:"text"},inputProps:{}},emits:["blur","change","button-action","focus","keydown","keyup","enter","paste","update:modelValue"],setup(e){let t=e,n=(0,r.computed)(()=>l[t.size]?.iconSize),p=(0,r.computed)(()=>l[t.size]?.loaderSize);return(t,l)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.createVNode)(o.A,(0,r.mergeProps)(e.inputProps,{id:e.id,"aria-label":e.ariaLabel,autocapitalize:e.autocapitalize,autocomplete:e.autocomplete,autocorrect:e.autocorrect,autofocus:e.autofocus,class:[{"cc-input-group-space-prepend":e.prepend,"cc-input-group-space-append":e.append},e.inputProps?.class],disabled:e.disabled,"has-error":e.hasError,"has-warning":e.hasWarning,maxlength:e.maxlength,"model-value":e.modelValue,name:e.name,placeholder:e.placeholder,readonly:e.readonly,required:e.required,size:e.size,spellcheck:e.spellcheck,type:e.type,onBlur:l[0]||(l[0]=e=>t.$emit("blur",e)),onChange:l[1]||(l[1]=e=>t.$emit("change",e)),onEnter:l[2]||(l[2]=e=>t.$emit("enter",e)),onFocus:l[3]||(l[3]=e=>t.$emit("focus",e)),onKeydown:l[4]||(l[4]=e=>t.$emit("keydown",e)),onKeyup:[l[5]||(l[5]=e=>t.$emit("keyup",e)),l[6]||(l[6]=(0,r.withKeys)(e=>t.$emit("enter",e),["enter"]))],onPaste:l[7]||(l[7]=e=>t.$emit("paste",e)),"onUpdate:modelValue":l[8]||(l[8]=e=>t.$emit("update:modelValue",e))}),null,16,["id","aria-label","autocapitalize","autocomplete","autocorrect","autofocus","class","disabled","has-error","has-warning","maxlength","model-value","name","placeholder","readonly","required","size","spellcheck","type"]),l[13]||(l[13]=(0,r.createTextVNode)()),e.prepend?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.createVNode)(a.A,{variant:"glyph",class:(0,r.normalizeClass)(["cc-input-group-glyph",{[`cc-input-group-${e.prepend.status}`]:e.prepend.status}]),name:e.prepend.iconGlyph||"",size:e.prepend.iconSize||n.value},null,8,["class","name","size"])])):(0,r.createCommentVNode)("",!0),l[14]||(l[14]=(0,r.createTextVNode)()),e.append&&"button"!==e.append.state?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[e.append.tooltip?((0,r.openBlock)(),(0,r.createBlock)(s.A,{key:0,text:e.append.tooltip},null,8,["text"])):(0,r.createCommentVNode)("",!0),l[10]||(l[10]=(0,r.createTextVNode)()),"loading"!==e.append.state?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:1,variant:"glyph",class:(0,r.normalizeClass)(["cc-input-group-glyph",{[`cc-input-group-${e.append.status}`]:e.append.status}]),name:e.append.iconGlyph||"",size:n.value},null,8,["class","name","size"])):(0,r.createCommentVNode)("",!0),l[11]||(l[11]=(0,r.createTextVNode)()),"loading"===e.append.state?((0,r.openBlock)(),(0,r.createBlock)(i.A,{key:2,variant:"spinner-gray",size:p.value},null,8,["size"])):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),l[15]||(l[15]=(0,r.createTextVNode)()),e.append&&"button"===e.append.state?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,type:"button",class:"cc-input-group-post","aria-label":e.append.ariaLabel,onClick:l[9]||(l[9]=e=>t.$emit("button-action",e))},[e.append.tooltip?((0,r.openBlock)(),(0,r.createBlock)(s.A,{key:0,text:e.append.tooltip},null,8,["text"])):(0,r.createCommentVNode)("",!0),l[12]||(l[12]=(0,r.createTextVNode)()),(0,r.createVNode)(a.A,{class:"cc-input-group-glyph",variant:"glyph",name:e.append.iconGlyph||"",size:e.append.iconSize||n.value},null,8,["name","size"])],8,h)):(0,r.createCommentVNode)("",!0)]))}})},91180:function(e,t,n){"use strict";t.A=n(40047).A},22404:function(e,t,n){"use strict";t.A=n(94127).A},24747:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(7118),a=n(83868),o=n(65862),i=(0,r.defineComponent)({__name:"cc-modal",props:{dismissable:{type:Boolean,default:!0},modalWidth:{},isTransparent:{type:Boolean,default:!1},isV2:{type:Boolean,default:!1},backdropStyles:{},bodyStyles:{},customClasses:{default:()=>({})}},emits:["hide"],setup(e,{emit:t}){let n=e,i=t,s=(0,r.useTemplateRef)("dialogRef"),{features:l}=(0,o.NB)(),c=(0,r.computed)(()=>n.isV2||l.includes("promote_cc_modal_to_v2"));(0,r.onMounted)(()=>{c.value&&s.value&&s.value?.showModal();(0,a.MLh)(window,"keydown",e=>{"Escape"===e.key&&n.dismissable&&i("hide")})});function onBackgroundClick(){n.dismissable&&i("hide")}function onKey(e){if("Escape"===e.key){e.preventDefault();n.dismissable&&i("hide")}e.stopPropagation()}return(t,n)=>c.value?((0,r.openBlock)(),(0,r.createElementBlock)("dialog",{key:0,ref_key:"dialogRef",ref:s,class:(0,r.normalizeClass)([t.$style["component-v2"],!c.value&&t.$style[e.modalWidth??""],c.value?t.$style["position-next"]:t.$style["position-legacy"],{[t.$style["bg-transparent"]]:e.isTransparent}]),onClick:onBackgroundClick,onKeydown:onKey,onKeyup:onKey,onKeypress:onKey},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([t.$style.dialog,e.customClasses?.dialog,c.value&&t.$style[e.modalWidth??""]]),onClick:n[0]||(n[0]=(0,r.withModifiers)(()=>{},["stop"]))},[(0,r.renderSlot)(t.$slots,"default")],2)],34)):((0,r.openBlock)(),(0,r.createBlock)(r.Transition,{key:1,appear:"","enter-active-class":t.$style.enter,"enter-from-class":t.$style["enter-from"],"leave-active-class":t.$style.leave,"leave-to-class":t.$style["leave-to"]},{default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(t.$style.component),onKeydown:onKey,onKeyup:onKey,onKeypress:onKey},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([t.$style.backdrop,e.customClasses?.backdrop,{[t.$style["bg-transparent"]]:e.isTransparent}]),style:(0,r.normalizeStyle)(e.backdropStyles??{}),onClick:onBackgroundClick},null,6),n[1]||(n[1]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{ref:"body",role:"dialog",class:(0,r.normalizeClass)([t.$style.body,t.$style[e.modalWidth??""],e.customClasses?.dialog]),style:(0,r.normalizeStyle)(e.bodyStyles??{})},[(0,r.renderSlot)(t.$slots,"default")],6)],34)]),_:3},8,["enter-active-class","enter-from-class","leave-active-class","leave-to-class"]))}}),s=n(66262);let l={};l.$style={component:"cc-modal-component",body:"cc-modal-body",backdrop:"cc-modal-backdrop","bg-transparent":"cc-modal-bg-transparent","enter-from":"cc-modal-enter-from","leave-to":"cc-modal-leave-to",enter:"cc-modal-enter",leave:"cc-modal-leave",xxxs:"cc-modal-xxxs",xxs:"cc-modal-xxs",xs:"cc-modal-xs",sm:"cc-modal-sm",md:"cc-modal-md",lg:"cc-modal-lg",xl:"cc-modal-xl","component-v2":"cc-modal-component-v2","fade-out":"cc-modal-fade-out","position-next":"cc-modal-position-next","position-legacy":"cc-modal-position-legacy","fade-in":"cc-modal-fade-in",dialog:"cc-modal-dialog"};var c=(0,s.A)(i,[["__cssModules",l]])},43146:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(7118),a=n(83611),o=(0,r.defineComponent)({__name:"cc-modal-header",emits:["close"],setup:e=>(e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("header",{class:(0,r.normalizeClass)(e.$style.component)},[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)([e.$style.title,"cc-text-large-bold"])},[(0,r.renderSlot)(e.$slots,"default")],2),t[1]||(t[1]=(0,r.createTextVNode)()),(0,r.createVNode)(a.A,{variant:"default",class:(0,r.normalizeClass)(e.$style.close),onClick:t[0]||(t[0]=t=>e.$emit("close"))},null,8,["class"])],2))}),i=n(66262);let s={};s.$style={component:"cc-modal-header-component",title:"cc-modal-header-title",close:"cc-modal-header-close"};var l=(0,i.A)(o,[["__cssModules",s]])},69890:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(7118);function getSelectedRawValue(e){let{select:t,options:n,valueKey:r,placeholderText:a,emptyOption:o,multiple:i=!1}=e;if(!t)return i?[]:"";let s=0;a&&(s+=1);o&&(s+=1);let getValueByIndex=(e,t)=>{let a=n[e];return a?a[r]:t};return i?Array.from(t.selectedOptions).map(e=>getValueByIndex(Array.from(t.options).indexOf(e)-s,e.value)):getValueByIndex(t.selectedIndex-s,t.value||"")}var a=n(65862);function isEqual(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))||!!(e&&t&&"object"==typeof e&&"object"==typeof t&&Object.keys(e).length===Object.keys(t).length&&Object.entries(e).every(([e,n])=>isEqual(n,t[e])))}let o=["multiple","disabled"],i=["selected","textContent"],s=["selected","textContent"],l=["disabled","hidden","selected","value"];var c=(0,r.defineComponent)({__name:"cc-select",props:{emptyOption:{default:""},hasError:{type:Boolean,default:!1},labelKey:{default:"label"},options:{},placeholderText:{default:""},size:{default:"medium"},modelValue:{default:""},valueKey:{default:"value"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){let n=e,c=(0,r.useTemplateRef)("select-element"),{features:d}=(0,a.NB)(),u=d.includes("cc_select_preserve_types");function setSelectedOption(){t("update:modelValue",getSelectedValue())}function getValue(e){return e[n.valueKey]}function isSelected(e){return n.multiple?Object.values(n.modelValue).includes(getValue(e)):isEqual(getValue(e),n.modelValue)}function getSelectedValue(){return u?getSelectedRawValue({select:c.value,options:n.options,valueKey:n.valueKey,placeholderText:n.placeholderText,emptyOption:n.emptyOption,multiple:n.multiple}):n.multiple?Array.from(c.value?.selectedOptions??[]).map(e=>e.value):c.value?.value||""}return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("select",{ref:"select-element",class:(0,r.normalizeClass)(["cc-select-component",{[`cc-select-${e.size}`]:e.size,"cc-select-error":e.hasError}]),multiple:e.multiple,disabled:e.disabled,onChange:n[0]||(n[0]=e=>setSelectedOption())},[e.placeholderText?((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:0,disabled:"",hidden:"",value:"",selected:null===e.modelValue||""===e.modelValue,textContent:(0,r.toDisplayString)(e.placeholderText)},null,8,i)):(0,r.createCommentVNode)("",!0),n[1]||(n[1]=(0,r.createTextVNode)()),e.emptyOption?((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:1,value:"",selected:null===e.modelValue||""===e.modelValue,textContent:(0,r.toDisplayString)(e.emptyOption)},null,8,s)):(0,r.createCommentVNode)("",!0),n[2]||(n[2]=(0,r.createTextVNode)()),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.options,(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("option",{key:n,disabled:t.disabled,hidden:t.hidden,selected:isSelected(t),value:getValue(t)??""},(0,r.toDisplayString)(t[e.labelKey]),9,l))),128))],42,o))}})},47097:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(7118);function render(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(e.$style.skeleton)},null,2)}var a=n(66262);let o={};o.$style={skeleton:"cc-skeleton-skeleton",shimmer:"cc-skeleton-shimmer"};var i=(0,a.A)({},[["render",render],["__cssModules",o]]),s=(0,r.defineComponent)({__name:"cc-skeleton-grid",props:{rows:{default:1},columns:{default:1},items:{},rowHeight:{default:"1.4rem"},rowGap:{default:"0"},columnWidth:{default:"1fr"},columnGap:{default:"0"}},setup(e){(0,r.useCssVars)(e=>({v31b6a1e0:e.rowGap,v819d42a8:e.columnGap,v270e035a:(0,r.unref)(n),v04f68114:(0,r.unref)(a)}));let t=e,n=Array(t.columns).fill(t.columnWidth).join(" "),a=Array(t.rows).fill(t.rowHeight).join(" ");return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(t.$style.wrapper)},[e.items&&e.items.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(e.items,(e,n)=>((0,r.openBlock)(),(0,r.createBlock)(i,{key:n,style:(0,r.normalizeStyle)(`grid-area: ${e}`),class:(0,r.normalizeClass)(t.$style.item)},null,8,["style","class"]))),128)):((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:1},(0,r.renderList)(e.rows*e.columns,e=>((0,r.openBlock)(),(0,r.createBlock)(i,{key:e,class:(0,r.normalizeClass)(t.$style.item)},null,8,["class"]))),128))],2))}});let l={};l.$style={wrapper:"cc-skeleton-grid-wrapper",item:"cc-skeleton-grid-item",shimmer:"cc-skeleton-grid-shimmer"};var c=(0,a.A)(s,[["__cssModules",l]])},2211:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(7118),a=(0,r.defineComponent)({__name:"cc-tab-group",props:{variant:{default:"main"},isScrollable:{type:Boolean}},setup(e){let t=e;(0,r.provide)("tabsVariant",t.variant);let n=(0,r.useTemplateRef)("scrollableContainer"),a=(0,r.ref)(!1);if(t.isScrollable){let handleScroll=()=>{let e=n.value;if(e){if(e.scrollWidth<=e.clientWidth){a.value=!1;return}a.value=Math.abs(e.scrollWidth-e.clientWidth-e.scrollLeft)>1}};(0,r.onMounted)(()=>{let e=n.value;if(e){e.addEventListener("scroll",handleScroll,{passive:!0});window.addEventListener("resize",handleScroll,{passive:!0});handleScroll()}});(0,r.onUnmounted)(()=>{let e=n.value;if(e){e.removeEventListener("scroll",handleScroll);window.removeEventListener("resize",handleScroll)}})}return(t,o)=>e.isScrollable&&"inline"===e.variant?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,ref_key:"scrollableContainer",ref:n,class:(0,r.normalizeClass)([t.$style.scrollable,a.value&&t.$style.fadeEnd])},[(0,r.createElementVNode)("div",{role:"tablist",class:(0,r.normalizeClass)([t.$style.component,t.$style[e.variant]])},[(0,r.renderSlot)(t.$slots,"default"),o[0]||(o[0]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(t.$style.space)},null,2)],2)],2)):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,role:"tablist",class:(0,r.normalizeClass)([t.$style.component,t.$style[e.variant]])},[(0,r.renderSlot)(t.$slots,"default")],2))}}),o=n(66262);let i={};i.$style={component:"cc-tab-group-component",main:"cc-tab-group-main",aside:"cc-tab-group-aside",secondary:"cc-tab-group-secondary",inline:"cc-tab-group-inline",scrollable:"cc-tab-group-scrollable",space:"cc-tab-group-space",fadeEnd:"cc-tab-group-fadeEnd"};var s=(0,o.A)(a,[["__cssModules",i]])},64749:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(7118),a=n(21752),o=n(29905);let i=["textContent"],s=["textContent"];var l=(0,r.defineComponent)({__name:"cc-tab-item",props:{isActive:{type:Boolean,default:!1},isDisabled:{type:Boolean},badge:{},hasDotNotification:{type:Boolean,default:!1},id:{},label:{},href:{},routerLink:{},icon:{},tooltip:{}},emits:["click"],setup(e){let t=e,n=(0,r.inject)("tabsVariant","default"),l=(0,r.computed)(()=>t.routerLink?"router-link":t.href?"a":"button"),c=(0,r.computed)(()=>"main"===n?"cc-text-x-large-bold":"aside"===n?"cc-text-small":"cc-text-medium-bold");return(t,d)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(l.value),{"aria-controls":`tabpanel-${e.id}`,"aria-selected":e.isActive,class:(0,r.normalizeClass)([t.$style.component,{[t.$style.disabled]:e.isDisabled},{[t.$style.active]:e.isActive}]),disabled:!e.href&&e.isDisabled,id:`tab-${e.id}`,href:e.href||e.routerLink||null,to:e.routerLink,onClick:d[0]||(d[0]=n=>t.$emit("click",e.id))},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o.A,{text:e.tooltip},null,8,["text"]),d[1]||(d[1]=(0,r.createTextVNode)()),"aside"===(0,r.unref)(n)&&e.icon?((0,r.openBlock)(),(0,r.createBlock)(a.A,{key:0,variant:"glyph",class:(0,r.normalizeClass)(t.$style.icon),name:e.icon,size:24},null,8,["class","name"])):(0,r.createCommentVNode)("",!0),d[2]||(d[2]=(0,r.createTextVNode)()),(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)([t.$style.label,c.value]),textContent:(0,r.toDisplayString)(e.label)},null,10,i),d[3]||(d[3]=(0,r.createTextVNode)()),e.badge?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:(0,r.normalizeClass)([t.$style.badge,"cc-text-x-small-bold"]),textContent:(0,r.toDisplayString)(e.badge)},null,10,s)):(0,r.createCommentVNode)("",!0),d[4]||(d[4]=(0,r.createTextVNode)()),e.hasDotNotification?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:(0,r.normalizeClass)([t.$style.notification,"cc-dot-notification-8"])},null,2)):(0,r.createCommentVNode)("",!0),d[5]||(d[5]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default")]),_:3},8,["aria-controls","aria-selected","class","disabled","id","href","to"]))}}),c=n(66262);let d={};d.$style={component:"cc-tab-item-component",active:"cc-tab-item-active",disabled:"cc-tab-item-disabled",icon:"cc-tab-item-icon",label:"cc-tab-item-label",badge:"cc-tab-item-badge",notification:"cc-tab-item-notification"};var u=(0,c.A)(l,[["__cssModules",d]])},81650:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(7118);let a=["aria-labelledby","id"];var o=(0,r.defineComponent)({__name:"cc-tab-panel",props:{id:{},isActive:{type:Boolean}},setup:e=>(t,n)=>(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",{role:"tabpanel","aria-labelledby":`tab-${e.id}`,id:`tabpanel-${e.id}`},[(0,r.renderSlot)(t.$slots,"default")],8,a)),[[r.vShow,e.isActive]])})},29905:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(7118),a=n(83868),o=(0,r.defineComponent)({__name:"cc-tooltip",props:{anchor:{default:"center"},closeOnClick:{type:Boolean},delay:{default:200},forElement:{},forPreviousElement:{type:Boolean},position:{default:"top"},text:{},stickyVisible:{type:Boolean},triggerElement:{default:null}},setup(e){let t,n,o,i=e,s=(0,a.hR7)(),l=Math.max(10,i.delay),c=(0,r.shallowRef)(),d=(0,r.shallowRef)(!1),u=(0,r.shallowRef)(!1),h=(0,r.useTemplateRef)("popoverEl");function listen(){unlisten();t=i.forElement??(i.forPreviousElement?s.value?.previousElementSibling:s.value?.parentElement);n=i.triggerElement??t;if(i.stickyVisible)return void showTooltip();i.closeOnClick&&n?.addEventListener("click",close);n?.addEventListener("mouseenter",onMouseenter)}function unlisten(){clearTimeout(o);n?.removeEventListener("click",close);n?.removeEventListener("mouseleave",close);n?.removeEventListener("mouseenter",onMouseenter)}(0,r.onMounted)(()=>{(0,r.nextTick)(listen)});(0,r.onUnmounted)(unlisten);function close(){u.value=!1;clearTimeout(o);o=setTimeout(()=>{d.value=!1},l)}function onMouseenter(){showTooltip();n?.addEventListener("mouseleave",close,{once:!0})}async function showTooltip(){d.value=!0;c.value=t?.getBoundingClientRect();u.value=!1;clearTimeout(o);matchMedia("(prefers-reduced-motion: reduce)").matches?u.value=!0:o=setTimeout(()=>{u.value=!0},l);await (0,r.nextTick)();h.value?.showPopover?.()}return(t,n)=>(t.$slots.default||e.text)&&d.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,popover:"manual",ref_key:"popoverEl",ref:h,class:(0,r.normalizeClass)([t.$style.component,"dark-mode"]),style:(0,r.normalizeStyle)({"--target-width":`${c.value?.width}px`,height:`${c.value?.height}px`,left:`${c.value?.left}px`,top:`${c.value?.top}px`,width:`${c.value?.width}px`})},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([t.$style.content,t.$style[e.position],"cc-text-medium-bold",{[t.$style["anchor-center"]]:"center"===e.anchor,[t.$style["anchor-left"]]:"left"===e.anchor,[t.$style["anchor-right"]]:"right"===e.anchor,[t.$style.visible]:u.value}]),style:(0,r.normalizeStyle)({transitionDuration:"200ms"})},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(t.$style.inner)},[(0,r.renderSlot)(t.$slots,"default",{},()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.text),1)])],2)],6)],6)):(0,r.createCommentVNode)("",!0)}}),i=n(66262);let s={};s.$style={component:"cc-tooltip-component",content:"cc-tooltip-content",visible:"cc-tooltip-visible",inner:"cc-tooltip-inner",left:"cc-tooltip-left",right:"cc-tooltip-right",top:"cc-tooltip-top",bottom:"cc-tooltip-bottom","anchor-left":"cc-tooltip-anchor-left","anchor-center":"cc-tooltip-anchor-center","anchor-right":"cc-tooltip-anchor-right"};var l=(0,i.A)(o,[["__cssModules",s]])},11305:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(7118),a=n(64939),o=n(87507),i=n(6897),s=n(65862),l=n(43455),c=n(70770),d=n(56685),u=n(91140),h=(0,r.defineComponent)({__name:"cc-user-block",props:{country:{},currentRoute:{},customUrl:{},flair:{},membership:{default:a.x.basic},rating:{},clickBehavior:{default:"openProfile"},showPremiumBadge:{type:Boolean,default:!0},size:{default:"small"},title:{},tooltipPosition:{},username:{default:""},variant:{default:"default"}},emits:["log-action"],setup(e){let t=e,{features:n}=(0,s.NB)(),h=(0,r.computed)(()=>t.membership??a.x.basic),p=(0,r.ref)(!1);(0,r.onMounted)(()=>{p.value=!n.includes("web_hide_user_block_badges")||window.chesscom?.settings?.["gameplay.show_membership_badges"]});let m=(0,r.computed)(()=>!t.title&&t.showPremiumBadge&&h.value&&p.value);return(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["cc-user-block-component",`cc-user-block-${e.variant}`,`cc-user-block-${e.size}`])},[e.title?((0,r.openBlock)(),(0,r.createBlock)(d.A,{key:0,"is-clickable":"none"!==e.clickBehavior&&"badgeAsLink"!==e.clickBehavior,size:e.size,title:e.title,"tooltip-position":e.tooltipPosition},null,8,["is-clickable","size","title","tooltip-position"])):(0,r.createCommentVNode)("",!0),n[2]||(n[2]=(0,r.createTextVNode)()),m.value?((0,r.openBlock)(),(0,r.createBlock)(l.A,{key:1,"current-route":e.currentRoute,"is-clickable":"none"!==e.clickBehavior,membership:h.value,size:e.size,"tooltip-position":e.tooltipPosition},null,8,["current-route","is-clickable","membership","size","tooltip-position"])):(0,r.createCommentVNode)("",!0),n[3]||(n[3]=(0,r.createTextVNode)()),(0,r.createVNode)(u.A,{"data-test-element":"user-tagline-username","click-behavior":e.clickBehavior,"custom-url":e.customUrl,username:e.username,variant:e.variant,size:e.size,onLogAction:n[0]||(n[0]=e=>t.$emit("log-action",e))},null,8,["click-behavior","custom-url","username","variant","size"]),n[4]||(n[4]=(0,r.createTextVNode)()),e.rating?((0,r.openBlock)(),(0,r.createBlock)(c.A,{key:2,rating:e.rating,size:e.size,variant:e.variant},null,8,["rating","size","variant"])):(0,r.createCommentVNode)("",!0),n[5]||(n[5]=(0,r.createTextVNode)()),e.country?((0,r.openBlock)(),(0,r.createBlock)(i.A,{key:3,code:e.country.code,"is-clickable":"none"!==e.clickBehavior,name:e.country.name,size:e.size,"tooltip-position":e.tooltipPosition},null,8,["code","is-clickable","name","size","tooltip-position"])):(0,r.createCommentVNode)("",!0),n[6]||(n[6]=(0,r.createTextVNode)()),e.flair?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:4,flair:e.flair,"membership-level":h.value,size:e.size,"tooltip-position":e.tooltipPosition,onLogAction:n[1]||(n[1]=e=>t.$emit("log-action",e))},null,8,["flair","membership-level","size","tooltip-position"])):(0,r.createCommentVNode)("",!0),n[7]||(n[7]=(0,r.createTextVNode)()),(0,r.renderSlot)(t.$slots,"default")],2))}})},43455:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(7118),a=n(64939),o=n(21752),i=n(29905),s=n(65862),l=(0,r.defineComponent)({__name:"cc-user-badge-pure",props:{badgeUrl:{},isClickable:{type:Boolean},membership:{},size:{},tooltipPosition:{}},setup(e){let{trans:t}=(0,s.NB)(),n=e,l=(0,r.computed)(()=>{switch(n.size){case"medium":return 16;case"large":return 20;default:return 12}}),c=(0,r.computed)(()=>{switch(n.membership){case a.x.staff:return{type:"staff",icon:"piece-pawn-brand-3",tooltip:t["Staff Member"],redirectTo:"about"};case a.x.moderator:return{type:"moderator",icon:"utility-shield-blank",tooltip:t.Moderator,redirectTo:"about"};case a.x.gold:return{type:"gold",icon:"membership-tier-gold",tooltip:t["Gold Member"],redirectTo:"membership"};case a.x.platinum:return{type:"platinum",icon:"membership-tier-platinum",tooltip:t["Platinum Member"],redirectTo:"membership"};case a.x.diamond:return{type:"diamond",icon:"membership-tier-diamond",tooltip:t["Diamond Member"],redirectTo:"membership"};default:return null}});return(t,n)=>c.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.isClickable?"a":"div"),{key:0,class:(0,r.normalizeClass)([t.$style.component,t.$style[c.value.type],t.$style[e.size]]),href:e.isClickable?e.badgeUrl:null,target:e.isClickable?"_blank":null},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(i.A,{"close-on-click":"",text:c.value.tooltip,position:e.tooltipPosition},null,8,["text","position"]),n[0]||(n[0]=(0,r.createTextVNode)()),(0,r.createVNode)(o.A,{variant:"glyph",name:c.value.icon,size:l.value},null,8,["name","size"])]),_:1},8,["class","href","target"])):(0,r.createCommentVNode)("",!0)}}),c=n(66262);let d={};d.$style={component:"cc-user-badge-component",medium:"cc-user-badge-medium",large:"cc-user-badge-large",staff:"cc-user-badge-staff",moderator:"cc-user-badge-moderator",gold:"cc-user-badge-gold",platinum:"cc-user-badge-platinum",diamond:"cc-user-badge-diamond"};let u=(0,c.A)(l,[["__cssModules",d]]);var h=(0,r.defineComponent)({__name:"cc-user-badge",props:{currentRoute:{},isClickable:{type:Boolean},membership:{},size:{},tooltipPosition:{}},setup(e){let t=e,{routes:n}=(0,s.NB)(),o=(0,r.computed)(()=>{switch(t.membership){case a.x.staff:return{type:"staff",redirectTo:"about"};case a.x.moderator:return{type:"moderator",redirectTo:"about"};case a.x.gold:return{type:"gold",redirectTo:"membership"};case a.x.platinum:return{type:"platinum",redirectTo:"membership"};case a.x.diamond:return{type:"diamond",redirectTo:"membership"};default:return null}}),i=(0,r.computed)(()=>o.value?.redirectTo==="membership"?n.webMembership({b:`badge-${o.value?.type}`,c:t.currentRoute}):o.value?.redirectTo==="about"?n.webAbout:null);return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(u,(0,r.mergeProps)(t.$attrs,{"is-clickable":e.isClickable,membership:e.membership,size:e.size,"tooltip-position":e.tooltipPosition,"badge-url":i.value}),null,16,["is-clickable","membership","size","tooltip-position","badge-url"]))}})},70770:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(7118),a=(0,r.defineComponent)({__name:"cc-user-rating",props:{rating:{},variant:{default:"default"},size:{default:""}},setup:e=>(t,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["large"===e.size?"cc-text-x-large":"cc-text-medium",t.$style[e.variant]])},"\n    ("+(0,r.toDisplayString)(e.rating)+")\n  ",3))}),o=n(66262);let i={};i.$style={default:"cc-user-rating-default",boldest:"cc-user-rating-boldest",link:"cc-user-rating-link",white:"cc-user-rating-white"};var s=(0,o.A)(a,[["__cssModules",i]])},56685:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(7118),a=n(48746),o=n(29905),i=(0,r.defineComponent)({__name:"cc-user-title-pure",props:{isClickable:{type:Boolean},title:{},size:{default:""},tooltipPosition:{},titleUrl:{default:""}},setup(e){let t=e,n=(0,r.computed)(()=>a.zC[t.title]),i=(0,r.computed)(()=>"large"===t.size?"cc-text-x-large-bold":"medium"===t.size?"cc-text-small-bold":"cc-text-x-small-bold");return(t,a)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(e.isClickable?"a":"div"),{class:(0,r.normalizeClass)([t.$style.component,i.value]),href:e.isClickable?e.titleUrl:null,target:e.isClickable?"_blank":null},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o.A,{"close-on-click":"",text:n.value,position:e.tooltipPosition},null,8,["text","position"]),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.title),1)]),_:1},8,["class","href","target"]))}}),s=n(66262);let l={};l.$style={component:"cc-user-title-component"};let c=(0,s.A)(i,[["__cssModules",l]]);var d=n(65862),u=(0,r.defineComponent)({__name:"cc-user-title",props:{isClickable:{type:Boolean},title:{},size:{default:""},tooltipPosition:{}},setup(e){let{routes:t}=(0,d.NB)(),n=t.webMemberTitledPlayers;return(t,a)=>((0,r.openBlock)(),(0,r.createBlock)(c,{"is-clickable":e.isClickable,title:e.title,size:e.size,"tooltip-position":e.tooltipPosition,"title-url":(0,r.unref)(n)},null,8,["is-clickable","title","size","tooltip-position","title-url"]))}})},91140:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r=n(7118),a=(0,r.defineComponent)({__name:"cc-user-username-pure",props:{clickBehavior:{},customUrl:{},username:{},variant:{default:"default"},size:{default:""},userProfileUrl:{default:""}},emits:["log-action"],setup(e){let t=["openProfile","openProfileInNewTab"],n=e,a=(0,r.computed)(()=>t.includes(n.clickBehavior)?"a":"div"),o=(0,r.computed)(()=>t.includes(n.clickBehavior)?n.userProfileUrl:null),i=(0,r.computed)(()=>"openProfileInNewTab"===n.clickBehavior?"_blank":null),s=(0,r.computed)(()=>{let e={};if("badgeAsLink"===n.clickBehavior){e.role="button";e.tabindex=0}return e});return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(a.value),(0,r.mergeProps)(s.value,{class:["cc-text-medium-bold",[t.$style.component,t.$style[e.variant],t.$style[e.size]]],href:o.value,target:i.value,onClick:n[0]||(n[0]=e=>t.$emit("log-action",{button:"nameClick"}))}),{default:(0,r.withCtx)(()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.username),1)]),_:1},16,["class","href","target"]))}}),o=n(66262);let i={};i.$style={component:"cc-user-username-component",medium:"cc-user-username-medium",large:"cc-user-username-large",default:"cc-user-username-default",boldest:"cc-user-username-boldest",link:"cc-user-username-link",white:"cc-user-username-white"};let s=(0,o.A)(a,[["__cssModules",i]]);var l=n(65862),c=(0,r.defineComponent)({__name:"cc-user-username",props:{clickBehavior:{},customUrl:{},username:{},variant:{default:"default"},size:{default:""}},emits:["log-action"],setup(e){let t=e,{routes:n}=(0,l.NB)(),a=(0,r.computed)(()=>t.customUrl||n.webMemberView(t.username));return(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(s,(0,r.mergeProps)(t.$attrs,{"click-behavior":e.clickBehavior,"custom-url":e.customUrl,username:e.username,variant:e.variant,size:e.size,"user-profile-url":a.value,onLogAction:n[0]||(n[0]=e=>t.$emit("log-action",e))}),null,16,["click-behavior","custom-url","username","variant","size","user-profile-url"]))}})},87507:function(e,t,n){"use strict";n.d(t,{A:function(){return h}});var r=n(7118),a=n(46666),o=n(29905);let i=["href","aria-label"],s=["alt","width","height","src"],l=["alt","width","height","src"];var c=(0,r.defineComponent)({__name:"flair",props:{alt:{},href:{},size:{default:"small"},src:{},tooltipPosition:{}},emits:["click"],setup(e){let t={small:"16",medium:"24",large:"32"}[e.size];return(n,a)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[e.href?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,href:e.href,"aria-label":e.alt,onClick:a[0]||(a[0]=e=>n.$emit("click",e))},[(0,r.createElementVNode)("img",{alt:e.alt,class:(0,r.normalizeClass)(["flair-rpc-component",`flair-rpc-${e.size}`]),width:(0,r.unref)(t),height:(0,r.unref)(t),src:e.src},null,10,s),a[2]||(a[2]=(0,r.createTextVNode)()),e.alt?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:0,"for-previous-element":"",position:e.tooltipPosition,text:e.alt},null,8,["position","text"])):(0,r.createCommentVNode)("",!0)],8,i)):((0,r.openBlock)(),(0,r.createElementBlock)("img",{key:1,alt:e.alt,class:(0,r.normalizeClass)(["flair-rpc-component",`flair-rpc-${e.size}`]),width:(0,r.unref)(t),height:(0,r.unref)(t),src:e.src,onClick:a[1]||(a[1]=e=>n.$emit("click",e))},null,10,l)),a[3]||(a[3]=(0,r.createTextVNode)()),e.alt?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:2,"close-on-click":"","for-previous-element":"",position:e.tooltipPosition,text:e.alt},null,8,["position","text"])):(0,r.createCommentVNode)("",!0)],64))}}),d=n(96782),u=n(34619),h=(0,r.defineComponent)({__name:"flair",props:{disableHref:{type:Boolean,default:!1},flair:{},membershipLevel:{default:(0,a.B8)("getMembershipLevel")},size:{default:"small"},tooltipPosition:{},type:{default:"svg"}},emits:["log-action"],setup(e){let t=e,n=(0,r.computed)(()=>t.flair?.images&&t.flair.images[t.type]?t.flair?.images[t.type]:null),a={[d.D.cheater]:(0,u.pw)("Closed: Fair Play"),[d.D.abuser]:(0,u.pw)("Closed: Abuse"),[d.D.voluntarilyClosed]:(0,u.pw)("Closed: Inactive")},o=(0,r.computed)(()=>t.membershipLevel in a?a[t.membershipLevel]:n.value?.toLowerCase().includes("pawniversary")?(0,u.pw)("Happy Pawniversary!"):(0,u.pw)("Show your flair!"));return(t,a)=>n.value?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,alt:o.value,size:e.size,src:n.value,"tooltip-position":e.tooltipPosition,onClick:a[0]||(a[0]=e=>t.$emit("log-action",{button:"flair"}))},null,8,["alt","size","src","tooltip-position"])):(0,r.createCommentVNode)("",!0)}})},66952:function(e,t,n){"use strict";n.d(t,{A:function(){return E}});var r=n(7118),a=n(50190),o=n(23618);let i=window.context&&window.context.locale?window.context.locale:"en_US";o.A.generate("web_user_home"),o.A.generate("web_live"),o.A.generate("web_security_logout"),o.A.generate("web_membership",{c:"navbar"}),o.A.generate("web_message_index"),o.A.generate("web_stats"),o.A.generate("web_user_settings_board"),o.A.generate("web_user_settings_edit"),["en_US","en"].includes(i)?o.A.generate("web_tv"):o.A.generate("i18n_web_tv",{_locale:i.substr(0,2)});"ontouchstart"in window||window.navigator.maxTouchPoints>0||/firefox/i.test(window.navigator.userAgent)&&window;n(53880);n(92408);document.querySelector(a.Tp.MAIN_NAV);let commentIcon=e=>{if(e)return({article:"document-blank",blog:"document-blog",chess_video:"media-control-play",chess_term:"message-bubble-fill-pair",club:"game-banner-club",forum_topic:"message-bubble-fill-pair",game:"hand-pawn",lesson_course:"message-bubble-fill-pair",master_player:"message-bubble-fill-pair",news:"document-news-fill",opening:"document-book-stack",survey:"mark-question-outline",tactics:"game-type-puzzle",tournament:"trophy-medal-2",team_match:"game-type-teammatch",votechess:"square-open-checked"})[e]};var s=n(29565);let l=[s.f.GROUP_REQUEST];function isActionable(e){return l.includes(e.alertType)}var c=n(50880),d=n(18560),u=n(21752),h=n(97880);let p=["innerHTML"],m=["alt"],f=["alt","src","srcset"];var g=(0,r.defineComponent)({__name:"notification-alert-item",props:{alert:{},hoverActions:{type:Boolean,default:!0},dataCy:{}},emits:["accept","clear"],setup(e,{emit:t}){let n=e,a=t,o=(0,r.computed)(()=>n.alert.category.icon.replace("icon-",""));return(0,r.computed)(()=>n.dataCy||`notification-item-${n.alert.alertId}`),(t,n)=>((0,r.openBlock)(),(0,r.createBlock)(h.A,{key:e.alert.alertId,href:e.alert.route,title:e.alert.title,"hover-actions":e.hoverActions},{avatar:(0,r.withCtx)(()=>[e.alert.alertType===(0,r.unref)(s.f).COMMENT?((0,r.openBlock)(),(0,r.createBlock)(u.A,{key:0,variant:"glyph",name:(0,r.unref)(commentIcon)(e.alert.contentType),size:32},null,8,["name"])):e.alert.image?e.alert.username?((0,r.openBlock)(),(0,r.createBlock)(c.A,{key:2,username:e.alert.username,size:32,src:e.alert.image},null,8,["username","src"])):e.alert.image?((0,r.openBlock)(),(0,r.createElementBlock)("img",{key:3,class:(0,r.normalizeClass)(t.$style.icon),alt:e.alert.alertType,src:e.alert.image,srcset:e.alert.srcset},null,10,f)):(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:1,class:(0,r.normalizeClass)(["icon-font-chess",[t.$style.icon,o.value]]),alt:e.alert.category.title},null,10,m))]),actions:(0,r.withCtx)(()=>[(0,r.renderSlot)(t.$slots,"actions",{},()=>[(0,r.createVNode)(d.A,{size:"small",variant:"ghost",icon:{name:"mark-cross",variant:"glyph"},"icon-size":16,onClick:n[0]||(n[0]=(0,r.withModifiers)(()=>a("clear",e.alert),["stop","prevent"]))}),n[2]||(n[2]=(0,r.createTextVNode)()),(0,r.unref)(isActionable)(e.alert)?((0,r.openBlock)(),(0,r.createBlock)(d.A,{key:0,size:"small",variant:"primary",icon:{name:"mark-check",variant:"glyph"},"icon-size":16,onClick:n[1]||(n[1]=(0,r.withModifiers)(()=>a("accept",e.alert),["stop","prevent"]))})):(0,r.createCommentVNode)("",!0)])]),default:(0,r.withCtx)(()=>[(0,r.createElementVNode)("span",{innerHTML:e.alert.content},null,8,p),n[3]||(n[3]=(0,r.createTextVNode)()),n[4]||(n[4]=(0,r.createTextVNode)())]),_:3},8,["href","title","hover-actions"]))}}),b=n(66262);let _={};_.$style={icon:"notification-alert-item-icon"};var E=(0,b.A)(g,[["__cssModules",_]])},97880:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(7118),a=n(16991),o=n(50880),i=n(18560);let s=["id"],l={class:"cc-text-medium-bold"},c=["id"],d=["aria-labelledby","aria-describedby","href"];var u=(0,r.defineComponent)({__name:"notification-item",props:{href:{},title:{},status:{},user:{},hoverActions:{type:Boolean}},emits:["navigate"],setup(e){let t=(0,a.N)();return(n,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(n.$style.container)},[(0,r.renderSlot)(n.$slots,"avatar",{},()=>[e.user?((0,r.openBlock)(),(0,r.createBlock)(o.A,{key:0,username:e.user.username,size:32,src:e.user.image??null,status:e.status},null,8,["username","src","status"])):(0,r.createCommentVNode)("",!0)]),a[2]||(a[2]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(n.$style.title),id:`${(0,r.unref)(t)}-title`},[(0,r.createElementVNode)("h3",l,(0,r.toDisplayString)(e.title||e.user?.username),1),a[1]||(a[1]=(0,r.createTextVNode)()),(0,r.createElementVNode)("h4",{class:"cc-text-small",id:`${(0,r.unref)(t)}-description`},[(0,r.renderSlot)(n.$slots,"default")],8,c)],10,s),a[3]||(a[3]=(0,r.createTextVNode)()),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([n.$style.actions,{[n.$style["hover-only"]]:e.hoverActions}])},[(0,r.renderSlot)(n.$slots,"actions",{},()=>[(0,r.createVNode)(i.A,{size:"small",class:(0,r.normalizeClass)(n.$style["default-action"]),icon:{name:"arrow-chevron-right",variant:"glyph"},"icon-size":16},null,8,["class"])])],2),a[4]||(a[4]=(0,r.createTextVNode)()),e.href?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,class:(0,r.normalizeClass)(n.$style["background-link"]),"aria-labelledby":`${(0,r.unref)(t)}-title`,"aria-describedby":`${(0,r.unref)(t)}-description`,href:e.href,onClick:a[0]||(a[0]=e=>n.$emit("navigate"))},null,10,d)):(0,r.createCommentVNode)("",!0)],2))}}),h=n(66262);let p={};p.$style={container:"notification-item-container",actions:"notification-item-actions","default-action":"notification-item-default-action",title:"notification-item-title","hover-only":"notification-item-hover-only","background-link":"notification-item-background-link"};var m=(0,h.A)(u,[["__cssModules",p]])},7235:function(e,t,n){"use strict";n.d(t,{A:function(){return r.A}});var r=n(72438)},65003:function(e,t,n){"use strict";n.d(t,{A:function(){return r.A}});var r=n(39378)},80403:function(e,t,n){"use strict";n.d(t,{A:function(){return r.A}});var r=n(15598)},40047:function(e,t,n){"use strict";n.d(t,{A:function(){return r.A}});var r=n(14650)},94127:function(e,t,n){"use strict";n.d(t,{A:function(){return r.A}});var r=n(40034)},30327:function(e,t,n){e.exports=n(62803)(1613)},95137:function(e,t,n){e.exports=n(62803)(1673)},63656:function(e,t,n){e.exports=n(62803)(2318)},7118:function(e,t,n){e.exports=n(62803)(3751)},49132:function(e,t,n){e.exports=n(62803)(5791)},47958:function(e,t,n){e.exports=n(62803)(6257)},98148:function(e,t,n){e.exports=n(62803)(6938)},98583:function(e,t,n){e.exports=n(62803)(7660)},40422:function(e,t,n){e.exports=n(62803)(9627)},7815:function(e,t,n){e.exports=n(62803)(9994)},62803:function(e){"use strict";e.exports=vueDLL},17615:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=(0,n(63656).fileDesc)("Ch1jaGVzc2NvbS9hcGkvdjEvY291bnRyeS5wcm90bxIPY2hlc3Njb20uYXBpLnYxIkkKB0NvdW50cnkSCgoCaWQYASABKAUSDAoEbmFtZRgCIAEoCRIWCg5uYW1lX2xvY2FsaXplZBgDIAEoCRIMCgRjb2RlGAQgASgJYgZwcm90bzM")},5847:function(e,t,n){"use strict";n.d(t,{db:function(){return r}});let r=(0,n(63656).fileDesc)("CiBjaGVzc2NvbS9hcGkvdjEvcGFnaW5hdGlvbi5wcm90bxIPY2hlc3Njb20uYXBpLnYxImEKEVJlcXVlc3RQYWdpbmF0aW9uEhYKCXBhZ2Vfc2l6ZRgBIAEoBUgAiAEBEhcKCnBhZ2VfdG9rZW4YAiABKAlIAYgBAUIMCgpfcGFnZV9zaXplQg0KC19wYWdlX3Rva2VuIm4KElJlc3BvbnNlUGFnaW5hdGlvbhIcCg9uZXh0X3BhZ2VfdG9rZW4YASABKAlIAIgBARIXCgp0b3RhbF9zaXplGAIgASgFSAGIAQFCEgoQX25leHRfcGFnZV90b2tlbkINCgtfdG90YWxfc2l6ZWIGcHJvdG8z")},70554:function(e,t,n){"use strict";n.d(t,{Gu:function(){return r}});let r=(0,n(63656).fileDesc)("Ch5jaGVzc2NvbS9hcGkvdjEvcGxhdGZvcm0ucHJvdG8SD2NoZXNzY29tLmFwaS52MSpeCghQbGF0Zm9ybRIYChRQTEFURk9STV9VTlNQRUNJRklFRBAAEhAKDFBMQVRGT1JNX0lPUxABEhQKEFBMQVRGT1JNX0FORFJPSUQQAhIQCgxQTEFURk9STV9XRUIQA2IGcHJvdG8z");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.IOS=1]="IOS",e[e.ANDROID=2]="ANDROID",e[e.WEB=3]="WEB",e))(a||{})},74736:function(e,t,n){"use strict";n.d(t,{OT:function(){return r}});let r=(0,n(63656).fileDesc)("Ch1jaGVzc2NvbS9jaGVzcy92MS9jb2xvci5wcm90bxIRY2hlc3Njb20uY2hlc3MudjEqQAoFQ29sb3ISFQoRQ09MT1JfVU5TUEVDSUZJRUQQABIPCgtDT0xPUl9XSElURRABEg8KC0NPTE9SX0JMQUNLEAJiBnByb3RvMw");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WHITE=1]="WHITE",e[e.BLACK=2]="BLACK",e))(a||{})},39012:function(e,t,n){"use strict";n.d(t,{W9:function(){return r}});let r=(0,n(63656).fileDesc)("ChxjaGVzc2NvbS9jaGVzcy92MS90aW1lLnByb3RvEhFjaGVzc2NvbS5jaGVzcy52MSKDAgoLVGltZUNvbnRyb2wSMgoEYmFzZRgBIAEoCzIiLmNoZXNzY29tLmNoZXNzLnYxLkJhc2VUaW1lQ29udHJvbEgAEjQKBWRhaWx5GAIgASgLMiMuY2hlc3Njb20uY2hlc3MudjEuRGFpbHlUaW1lQ29udHJvbEgAEj8KC211bHRpX3N0YWdlGAMgASgLMiguY2hlc3Njb20uY2hlc3MudjEuTXVsdGlTdGFnZVRpbWVDb250cm9sSAASPgoKYXJtYWdlZGRvbhgEIAEoCzIoLmNoZXNzY29tLmNoZXNzLnYxLkFybWFnZWRkb25UaW1lQ29udHJvbEgAQgkKB2NvbnRyb2wiOAoPQmFzZVRpbWVDb250cm9sEg8KB2Jhc2VfbXMYASABKAMSFAoMaW5jcmVtZW50X21zGAIgASgDIikKEERhaWx5VGltZUNvbnRyb2wSFQoNZGF5c19wZXJfdHVybhgBIAEoBSJMChVNdWx0aVN0YWdlVGltZUNvbnRyb2wSMwoGc3RhZ2VzGAEgAygLMiMuY2hlc3Njb20uY2hlc3MudjEuVGltZUNvbnRyb2xTdGFnZSJ0ChBUaW1lQ29udHJvbFN0YWdlEjgKDHRpbWVfY29udHJvbBgBIAEoCzIiLmNoZXNzY29tLmNoZXNzLnYxLkJhc2VUaW1lQ29udHJvbBIXCgptb3ZlX2xpbWl0GAIgASgFSACIAQFCDQoLX21vdmVfbGltaXQieQoVQXJtYWdlZGRvblRpbWVDb250cm9sEhUKDXdoaXRlX2Jhc2VfbXMYASABKAUSFQoNYmxhY2tfYmFzZV9tcxgCIAEoBRIUCgxpbmNyZW1lbnRfbXMYAyABKAUSHAoUaW5jcmVtZW50X2FmdGVyX21vdmUYBCABKAUqtgEKCVRpbWVDbGFzcxIaChZUSU1FX0NMQVNTX1VOU1BFQ0lGSUVEEAASGgoWVElNRV9DTEFTU19IWVBFUkJVTExFVBABEhUKEVRJTUVfQ0xBU1NfQlVMTEVUEAISFAoQVElNRV9DTEFTU19CTElUWhADEhQKEFRJTUVfQ0xBU1NfUkFQSUQQBBIYChRUSU1FX0NMQVNTX0NMQVNTSUNBTBAFEhQKEFRJTUVfQ0xBU1NfREFJTFkQBmIGcHJvdG8z");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.HYPERBULLET=1]="HYPERBULLET",e[e.BULLET=2]="BULLET",e[e.BLITZ=3]="BLITZ",e[e.RAPID=4]="RAPID",e[e.CLASSICAL=5]="CLASSICAL",e[e.DAILY=6]="DAILY",e))(a||{})},28062:function(e,t,n){"use strict";n.d(t,{Q7:function(){return r}});let r=(0,n(63656).fileDesc)("Ch9jaGVzc2NvbS9jaGVzcy92MS92YXJpYW50LnByb3RvEhFjaGVzc2NvbS5jaGVzcy52MSrhAQoHVmFyaWFudBIXChNWQVJJQU5UX1VOU1BFQ0lGSUVEEAASEQoNVkFSSUFOVF9DSEVTUxABEhUKEVZBUklBTlRfQ0hFU1NfOTYwEAISFAoQVkFSSUFOVF9CVUdIT1VTRRAEEhcKE1ZBUklBTlRfVEhSRUVfQ0hFQ0sQBRIWChJWQVJJQU5UX0NSQVpZSE9VU0UQBhIcChhWQVJJQU5UX0tJTkdfT0ZfVEhFX0hJTEwQBxIWChJWQVJJQU5UX09ERFNfQ0hFU1MQCBIWChJWQVJJQU5UX0hFTFBfQ0hFU1MQCWIGcHJvdG8z");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS=1]="CHESS",e[e.CHESS_960=2]="CHESS_960",e[e.BUGHOUSE=4]="BUGHOUSE",e[e.THREE_CHECK=5]="THREE_CHECK",e[e.CRAZYHOUSE=6]="CRAZYHOUSE",e[e.KING_OF_THE_HILL=7]="KING_OF_THE_HILL",e[e.ODDS_CHESS=8]="ODDS_CHESS",e[e.HELP_CHESS=9]="HELP_CHESS",e))(a||{})},76483:function(e,t,n){"use strict";n.d(t,{JD:function(){return d},M$:function(){return c},i9:function(){return s},j3:function(){return l}});var r=n(63656),a=n(4753),o=n(92733);let i=(0,r.fileDesc)("CidjaGVzc2NvbS9jb2FjaGVzL3YyL3VzZXJfYWN0aXZpdHkucHJvdG8SE2NoZXNzY29tLmNvYWNoZXMudjIihAEKDUNvYWNoU3dpdGNoZWQSIQoMbmV3X2NvYWNoX2lkGAEgASgJQgvS8xgHY29hY2hJZBI2CgZzb3VyY2UYAiABKA4yJi5jaGVzc2NvbS5jb2FjaGVzLnYyLkNvYWNoU3dpdGNoU291cmNlOhjC8xgUCg5Td2l0Y2hlZCBDb2FjaBACIAwihgEKGkNob29zZVlvdXJDb2FjaE1vZGFsT3BlbmVkEjYKBnNvdXJjZRgBIAEoDjImLmNoZXNzY29tLmNvYWNoZXMudjIuQ29hY2hTd2l0Y2hTb3VyY2U6MMLzGCwKJkNvYWNoIC0gT3BlbmVkIENob29zZSBZb3VyIENvYWNoIE1vZGFsEAIYASKCAQoRQ29hY2hUYWdsaW5lU2hvd24SEAoIY29hY2hfaWQYASABKAkSPQoQY29hY2hfdGFnbGluZV91aRgCIAEoDjIjLmNoZXNzY29tLmNvYWNoZXMudjIuQ29hY2hUYWdsaW5lVWk6HMLzGBgKFENvYWNoIC0gU2FpZCBUYWdsaW5lEAIiQAoWQ29hY2hXZWxjb21lTW9kYWxTaG93bjomGAHC8xggChxDb2FjaCAtIFNob3dlZCBXZWxjb21lIE1vZGFsEAIiagoPUGxheUNvYWNoT3BlbmVkEjoKBnNvdXJjZRgBIAEoDjIqLmNoZXNzY29tLmNvYWNoZXMudjIuUGxheUNvYWNoT3BlbmVkU291cmNlOhvC8xgXChFWcyBDb2FjaCAtIE9wZW5lZBACIAwidwoUUGxheUNvYWNoR2FtZVN0YXJ0ZWQSHQoKY29hY2hfbmFtZRgBIAEoCUIJ0vMYBUNvYWNoEiQKC2NvYWNoX2xldmVsGAIgASgFQg/S8xgLQ29hY2ggTGV2ZWw6GsLzGBYKEFZzIENvYWNoIC0gU3RhcnQQAiAMItEBChZQbGF5Q29hY2hHYW1lQ29tcGxldGVkEh0KCmNvYWNoX25hbWUYASABKAlCCdLzGAVDb2FjaBIkCgtjb2FjaF9sZXZlbBgCIAEoBUIP0vMYC0NvYWNoIExldmVsEkIKBnJlc3VsdBgDIAEoDjImLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52Mi5QbGF5ZXJSZXN1bHRCCtLzGAZSZXN1bHQ6LsLzGCoKD0dhbWUgLSBDb21wbGV0ZRACIAxCEwoIZ2FtZVR5cGUSBxoFY29hY2gisQEKFlBsYXlDb2FjaEhpbnRSZXF1ZXN0ZWQSEgoKY29hY2hfbmFtZRgBIAEoCRITCgtjb2FjaF9sZXZlbBgCIAEoBRIRCgVzdGFnZRgDIAEoBUICGAESNAoEdHlwZRgEIAEoDjIiLmNoZXNzY29tLmNvYWNoZXMudjIuUGxheUNvYWNoSGludEICGAE6JRgBwvMYHwoZVnMgQ29hY2ggLSBIaW50IFJlcXVlc3RlZBACIAwisgEKFVBsYXlDb2FjaEhpbnRSZWNlaXZlZBISCgpjb2FjaF9uYW1lGAEgASgJEhMKC2NvYWNoX2xldmVsGAIgASgFEg0KBXN0YWdlGAMgASgFEjAKBHR5cGUYBCABKA4yIi5jaGVzc2NvbS5jb2FjaGVzLnYyLlBsYXlDb2FjaEhpbnQSCwoDZmVuGAUgASgJOiLC8xgeChhWcyBDb2FjaCAtIEhpbnQgUmVjZWl2ZWQQAiAMIl8KIFBsYXlDb2FjaE1vbmV0aXphdGlvbk1vZGFsU2hvd2VkOjvC8xg3CjFWcyBDb2FjaCAtIFNob3dlZCBNb25ldGl6YXRpb24gTW9kYWwgLSBHYW1lIExpbWl0EAIgDCJHChpQbGF5Q29hY2hTaWduVXBNb2RhbFNob3dlZDopwvMYJQofVnMgQ29hY2ggLSBTaG93ZWQgU2lnbiBVcCBNb2RhbBACIAwiTgodUGxheUNvYWNoU2lnblVwTW9kYWxDVEFUYXBwZWQ6LcLzGCkKI1ZzIENvYWNoIC0gVGFwcGVkIFNpZ24gVXAgTW9kYWwgQ1RBEAIgDCIfChNDb2FjaFNldHRpbmdzT3BlbmVkOgjC8xgEEAIgDCJqChdDb2FjaENvdWxkV2Fybk9mTWlzdGFrZRISCgpib2FyZGV2ZW50GAEgASgJEhgKEGNvb2xkb3duX2NvdW50ZXIYAiABKAU6IcLzGB0KF0NvYWNoQ291bGRXYXJuT2ZNaXN0YWtlEAIgDCJKChRDb2FjaFdhcm5lZE9mTWlzdGFrZRISCgpib2FyZGV2ZW50GAEgASgJOh7C8xgaChRDb2FjaFdhcm5lZE9mTWlzdGFrZRACIAwimAEKG0NvYWNoTWlzdGFrZVdhcm5pbmdBbnN3ZXJlZBISCgpib2FyZGV2ZW50GAEgASgJEj4KBmNob2ljZRgCIAEoDjIuLmNoZXNzY29tLmNvYWNoZXMudjIuQ29hY2hNaXN0YWtlV2FybmluZ0Nob2ljZTolwvMYIQobQ29hY2hNaXN0YWtlV2FybmluZ0Fuc3dlcmVkEAIgDCquBAoRQ29hY2hTd2l0Y2hTb3VyY2USIwofQ09BQ0hfU1dJVENIX1NPVVJDRV9VTlNQRUNJRklFRBAAEiAKHENPQUNIX1NXSVRDSF9TT1VSQ0VfU0VUVElOR1MQARIjCh9DT0FDSF9TV0lUQ0hfU09VUkNFX0dBTUVfUkVWSUVXEAISIgoeQ09BQ0hfU1dJVENIX1NPVVJDRV9QTEFZX0NPQUNIEAMSJAogQ09BQ0hfU1dJVENIX1NPVVJDRV9EQUlMWV9QVVpaTEUQBBIkCiBDT0FDSF9TV0lUQ0hfU09VUkNFX1BVWlpMRVNfUk9PVBAFEh4KGkNPQUNIX1NXSVRDSF9TT1VSQ0VfUFVaWkxFEAYSJAogQ09BQ0hfU1dJVENIX1NPVVJDRV9MRVNTT05TX1JPT1QQBxIeChpDT0FDSF9TV0lUQ0hfU09VUkNFX0xFU1NPThAIEigKJENPQUNIX1NXSVRDSF9TT1VSQ0VfQ09BQ0hfR0FNRV9TRVRVUBAJEiIKHkNPQUNIX1NXSVRDSF9TT1VSQ0VfTEVBUk5fUk9PVBAKEiAKHENPQUNIX1NXSVRDSF9TT1VSQ0VfREVFUExJTksQCxIlCiFDT0FDSF9TV0lUQ0hfU09VUkNFX1dFTENPTUVfTU9EQUwQDBIiCh5DT0FDSF9TV0lUQ0hfU09VUkNFX09OQk9BUkRJTkcQDRIcChhDT0FDSF9TV0lUQ0hfU09VUkNFX0hPTUUQDiqKAQoOQ29hY2hUYWdsaW5lVWkSIAocQ09BQ0hfVEFHTElORV9VSV9VTlNQRUNJRklFRBAAEicKI0NPQUNIX1RBR0xJTkVfVUlfQ0hPT1NFX0NPQUNIX01PREFMEAESLQopQ09BQ0hfVEFHTElORV9VSV9TSUdOVVBfQ0hPT1NFX0NPQUNIX1NURVAQAiqEAgoVUGxheUNvYWNoT3BlbmVkU291cmNlEigKJFBMQVlfQ09BQ0hfT1BFTkVEX1NPVVJDRV9VTlNQRUNJRklFRBAAEiYKIlBMQVlfQ09BQ0hfT1BFTkVEX1NPVVJDRV9QTEFZX1JPT1QQARIhCh1QTEFZX0NPQUNIX09QRU5FRF9TT1VSQ0VfSE9NRRACEicKI1BMQVlfQ09BQ0hfT1BFTkVEX1NPVVJDRV9MRUFSTl9ST09UEAMSJgoiUExBWV9DT0FDSF9PUEVORURfU09VUkNFX0xFQVJOX05BVhAEEiUKIVBMQVlfQ09BQ0hfT1BFTkVEX1NPVVJDRV9QTEFZX05BVhAFKpMBCg1QbGF5Q29hY2hIaW50Eh8KG1BMQVlfQ09BQ0hfSElOVF9VTlNQRUNJRklFRBAAEhoKFlBMQVlfQ09BQ0hfSElOVF9TUEVFQ0gQARImCiJQTEFZX0NPQUNIX0hJTlRfSElHSExJR0hURURfU1FVQVJFEAISHQoZUExBWV9DT0FDSF9ISU5UX0JFU1RfTU9WRRADKpwBChlDb2FjaE1pc3Rha2VXYXJuaW5nQ2hvaWNlEiwKKENPQUNIX01JU1RBS0VfV0FSTklOR19DSE9JQ0VfVU5TUEVDSUZJRUQQABImCiJDT0FDSF9NSVNUQUtFX1dBUk5JTkdfQ0hPSUNFX1JFVFJZEAESKQolQ09BQ0hfTUlTVEFLRV9XQVJOSU5HX0NIT0lDRV9DT05USU5VRRACYgZwcm90bzM",[a.HS,o.lt]),s=(0,r.messageDesc)(i,1),l=(0,r.messageDesc)(i,2);var c=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SETTINGS=1]="SETTINGS",e[e.GAME_REVIEW=2]="GAME_REVIEW",e[e.PLAY_COACH=3]="PLAY_COACH",e[e.DAILY_PUZZLE=4]="DAILY_PUZZLE",e[e.PUZZLES_ROOT=5]="PUZZLES_ROOT",e[e.PUZZLE=6]="PUZZLE",e[e.LESSONS_ROOT=7]="LESSONS_ROOT",e[e.LESSON=8]="LESSON",e[e.COACH_GAME_SETUP=9]="COACH_GAME_SETUP",e[e.LEARN_ROOT=10]="LEARN_ROOT",e[e.DEEPLINK=11]="DEEPLINK",e[e.WELCOME_MODAL=12]="WELCOME_MODAL",e[e.ONBOARDING=13]="ONBOARDING",e[e.HOME=14]="HOME",e))(c||{}),d=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHOOSE_COACH_MODAL=1]="CHOOSE_COACH_MODAL",e[e.SIGNUP_CHOOSE_COACH_STEP=2]="SIGNUP_CHOOSE_COACH_STEP",e))(d||{}),u=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PLAY_ROOT=1]="PLAY_ROOT",e[e.HOME=2]="HOME",e[e.LEARN_ROOT=3]="LEARN_ROOT",e[e.LEARN_NAV=4]="LEARN_NAV",e[e.PLAY_NAV=5]="PLAY_NAV",e))(u||{}),h=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SPEECH=1]="SPEECH",e[e.HIGHLIGHTED_SQUARE=2]="HIGHLIGHTED_SQUARE",e[e.BEST_MOVE=3]="BEST_MOVE",e))(h||{}),p=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.RETRY=1]="RETRY",e[e.CONTINUE=2]="CONTINUE",e))(p||{})},72365:function(e,t,n){"use strict";n.d(t,{$b:function(){return r},rV:function(){return a}});let r=(0,n(63656).fileDesc)("Ci9jaGVzc2NvbS9jb250YWN0cy92MS9jb250YWN0X3JlbGF0aW9uc2hpcC5wcm90bxIUY2hlc3Njb20uY29udGFjdHMudjEq4wEKF0NvbnRhY3RSZWxhdGlvbnNoaXBUeXBlEikKJUNPTlRBQ1RfUkVMQVRJT05TSElQX1RZUEVfVU5TUEVDSUZJRUQQABIiCh5DT05UQUNUX1JFTEFUSU9OU0hJUF9UWVBFX05PTkUQARIoCiRDT05UQUNUX1JFTEFUSU9OU0hJUF9UWVBFX0lTX0NPTlRBQ1QQAhIpCiVDT05UQUNUX1JFTEFUSU9OU0hJUF9UWVBFX0hBU19DT05UQUNUEAMSJAogQ09OVEFDVF9SRUxBVElPTlNISVBfVFlQRV9NVVRVQUwQBGIGcHJvdG8z");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.IS_CONTACT=2]="IS_CONTACT",e[e.HAS_CONTACT=3]="HAS_CONTACT",e[e.MUTUAL=4]="MUTUAL",e))(a||{})},54477:function(e,t,n){"use strict";n.d(t,{px:function(){return c}});var r=n(63656),a=n(40422),o=n(99450),i=n(77342),s=n(52680),l=n(17615);let c=(0,r.fileDesc)("Ci9jaGVzc2NvbS9mcmllbmRzX3NlYXJjaC92MS9mcmllbmRzX3NlYXJjaC5wcm90bxIaY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEimwEKFkZyaWVuZHNTZWFyY2hSb290UXVlcnkSQgoIb3JkZXJfYnkYASADKAsyMC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoT3JkZXJCeRI9CgVxdWVyeRgCIAEoCzIuLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hRdWVyeSLkAQoSRnJpZW5kc1NlYXJjaFF1ZXJ5EkUKCXN0YXRlbWVudBgBIAEoCzIyLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hTdGF0ZW1lbnQSPAoCb3IYAiABKAsyLi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUXVlcnlIABI9CgNhbmQYAyABKAsyLi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUXVlcnlIAEIKCghvcGVyYXRvciKqBAoWRnJpZW5kc1NlYXJjaFN0YXRlbWVudBJSCgtmaWVsZF92YWx1ZRgBIAEoCzI7LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hGaWVsZFZhbHVlQ3JpdGVyaWFIABJUCgxyYXRpbmdfcmFuZ2UYAiABKAsyPC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUmF0aW5nUmFuZ2VDcml0ZXJpYUgAElAKD2FsbF9maWVsZHNfdGV4dBgDIAEoCzI1LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hUZXh0Q3JpdGVyaWFIABJZCg9sYXN0X2xvZ2luX2RhdGUYBCABKAsyPi5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoTGFzdExvZ2luRGF0ZUNyaXRlcmlhSAASTgoJaXNfb25saW5lGAUgASgLMjkuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaElzT25saW5lQ3JpdGVyaWFIABJdChxhbGxfZmllbGRzX3RleHRfZXhjZXB0X2VtYWlsGAYgASgLMjUuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaFRleHRDcml0ZXJpYUgAQgoKCGNyaXRlcmlhIooBCh9GcmllbmRzU2VhcmNoRmllbGRWYWx1ZUNyaXRlcmlhElIKEHNlYXJjaGFibGVfZmllbGQYASABKA4yOC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoU2VhcmNoYWJsZUZpZWxkEhMKC2ZpZWxkX3ZhbHVlGAIgASgJIp8BChlGcmllbmRzU2VhcmNoVGV4dENyaXRlcmlhEhYKDnRleHRfdG9fc2VhcmNoGAEgASgJEiEKFGV4YWN0X3VzZXJuYW1lX2ZpcnN0GAIgASgISACIAQESGwoOYm9vc3RfdXNlcm5hbWUYAyABKAhIAYgBAUIXChVfZXhhY3RfdXNlcm5hbWVfZmlyc3RCEQoPX2Jvb3N0X3VzZXJuYW1lIrwBCiBGcmllbmRzU2VhcmNoUmF0aW5nUmFuZ2VDcml0ZXJpYRIyCgd2YXJpYW50GAEgASgOMiEuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlZhcmlhbnQSNgoJdGltZWNsYXNzGAIgASgOMiMuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlRpbWVDbGFzcxIVCg1taW5faW5jbHVzaXZlGAMgASgFEhUKDW1heF9pbmNsdXNpdmUYBCABKAUiWQoiRnJpZW5kc1NlYXJjaExhc3RMb2dpbkRhdGVDcml0ZXJpYRIzCg9sYXN0X2xvZ2luX2RhdGUYASABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIjIKHUZyaWVuZHNTZWFyY2hJc09ubGluZUNyaXRlcmlhEhEKCWlzX29ubGluZRgBIAEoCCLoAwoTRnJpZW5kc1NlYXJjaEZyaWVuZBIMCgR1dWlkGAEgASgJEi0KCXVzZXJfdmlldxgCIAEoCzIaLmNoZXNzY29tLnVzZXIudjEuVXNlclZpZXcSNQoMZnJpZW5kX3NpbmNlGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcEgAiAEBEjgKD2xhc3RfbG9naW5fZGF0ZRgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIAYgBARIQCghpc19zdGFmZhgFIAEoCBJJCghwcmVzZW5jZRgGIAEoDjI3LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hQcmVzZW5jZVN0YXR1cxITCgtiZXN0X3JhdGluZxgHIAEoBRIbChNpc19yZXF1ZXN0b3JfZnJpZW5kGAggASgIEikKB2NvdW50cnkYCSABKAsyGC5jaGVzc2NvbS5hcGkudjEuQ291bnRyeRJECgdyYXRpbmdzGFogAygLMjMuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaFJhdGluZ0l0ZW1CDwoNX2ZyaWVuZF9zaW5jZUISChBfbGFzdF9sb2dpbl9kYXRlIssBChlTb2NpYWxGcmllbmRzU2VhcmNoRnJpZW5kEj8KBmZyaWVuZBgBIAEoCzIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hGcmllbmQSGQoRYWxsb3dzX2NoYWxsZW5nZXMYAiABKAgSFwoPYWxsb3dzX21lc3NhZ2VzGAMgASgIEjkKDWZ1bGxfcHJlc2VuY2UYBCABKAsyIi5jaGVzc2NvbS5wcmVzZW5jZS52MS5Vc2VyUHJlc2VuY2UigAEKGlBlbmRpbmdGcmllbmRzU2VhcmNoRnJpZW5kEkUKBmZyaWVuZBgBIAEoCzI1LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLlNvY2lhbEZyaWVuZHNTZWFyY2hGcmllbmQSGwoTaXNfaW5jb21pbmdfcmVxdWVzdBgCIAEoCCJeChdGcmllbmRzU2VhcmNoRnJpZW5kc2hpcBIuCgpjcmVhdGVkX2F0GAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBITCgtmcmllbmRfdXVpZBgCIAEoCSJ/ChdGcmllbmRzU2VhcmNoUmF0aW5nSXRlbRJUChF2YXJpYW50X3RpbWVjbGFzcxgBIAEoDjI5LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hWYXJpYW50VGltZWNsYXNzEg4KBnJhdGluZxgCIAEoBSKtAQoURnJpZW5kc1NlYXJjaE9yZGVyQnkSRwoFZmllbGQYASABKA4yOC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoU2VhcmNoYWJsZUZpZWxkEkIKBW9yZGVyGAIgASgOMi4uY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaE9yZGVySACIAQFCCAoGX29yZGVyIqIBChhGcmllbmRzU2VhcmNoQ3Vyc29yVG9rZW4SEwoLcGFnZV9udW1iZXIYASABKAUSEQoJcGFnZV9zaXplGAIgASgFEhsKDmhvd19tYW55X3BhZ2VzGAMgASgFSACIAQESGwoOdG90YWxfZWxlbWVudHMYBCABKANIAYgBAUIRCg9faG93X21hbnlfcGFnZXNCEQoPX3RvdGFsX2VsZW1lbnRzIpQBCgxCbG9ja2VkVXNlcnMSDAoEdXVpZBgBIAEoCRIRCglsZWdhY3lfaWQYAiABKAMSEAoIdXNlcm5hbWUYAyABKAkSUQoMZXh0cmFfZmllbGRzGAQgAygLMjsuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaEV4dHJhRmllbGRSZXNwb25zZSKAAgofRnJpZW5kc1NlYXJjaEV4dHJhRmllbGRSZXNwb25zZRJICgVmaWVsZBgBIAEoDjI5LmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hSZXRyaWV2YWJsZUZpZWxkEhYKDHN0cmluZ192YWx1ZRgCIAEoCUgAEhQKCmxvbmdfdmFsdWUYAyABKANIABIXCg1pbnRlZ2VyX3ZhbHVlGAQgASgFSAASFQoLZmxvYXRfdmFsdWUYBSABKAJIABIWCgxkb3VibGVfdmFsdWUYBiABKAFIABIUCgpib29sX3ZhbHVlGAcgASgISABCBwoFdmFsdWUq0AEKG0ZyaWVuZHNTZWFyY2hQcmVzZW5jZVN0YXR1cxIuCipGUklFTkRTX1NFQVJDSF9QUkVTRU5DRV9TVEFUVVNfVU5TUEVDSUZJRUQQABIqCiZGUklFTkRTX1NFQVJDSF9QUkVTRU5DRV9TVEFUVVNfT0ZGTElORRABEikKJUZSSUVORFNfU0VBUkNIX1BSRVNFTkNFX1NUQVRVU19PTkxJTkUQAhIqCiZGUklFTkRTX1NFQVJDSF9QUkVTRU5DRV9TVEFUVVNfUExBWUlORxADKpABChZGcmllbmRSZXF1ZXN0RGlyZWN0aW9uEigKJEZSSUVORF9SRVFVRVNUX0RJUkVDVElPTl9VTlNQRUNJRklFRBAAEiUKIUZSSUVORF9SRVFVRVNUX0RJUkVDVElPTl9PVVRHT0lORxABEiUKIUZSSUVORF9SRVFVRVNUX0RJUkVDVElPTl9JTkNPTUlORxACKncKEkZyaWVuZHNTZWFyY2hPcmRlchIkCiBGUklFTkRTX1NFQVJDSF9PUkRFUl9VTlNQRUNJRklFRBAAEhwKGEZSSUVORFNfU0VBUkNIX09SREVSX0FTQxABEh0KGUZSSUVORFNfU0VBUkNIX09SREVSX0RFU0MQAiqXBQocRnJpZW5kc1NlYXJjaFNlYXJjaGFibGVGaWVsZBIvCitGUklFTkRTX1NFQVJDSF9TRUFSQ0hBQkxFX0ZJRUxEX1VOU1BFQ0lGSUVEEAASLgoqRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9GSVJTVF9OQU1FEAESLQopRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9MQVNUX05BTUUQAhIpCiVGUklFTkRTX1NFQVJDSF9TRUFSQ0hBQkxFX0ZJRUxEX0VNQUlMEAMSKwonRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9DT1VOVFJZEAQSMAooRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9VU0VSTkFNRRAFGgIIARIzCi9GUklFTkRTX1NFQVJDSF9TRUFSQ0hBQkxFX0ZJRUxEX0xBU1RfTE9HSU5fREFURRAGEi0KKUZSSUVORFNfU0VBUkNIX1NFQVJDSEFCTEVfRklFTERfSVNfT05MSU5FEAcSJwojRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9BTEwQCBI0CjBGUklFTkRTX1NFQVJDSF9TRUFSQ0hBQkxFX0ZJRUxEX0FMTF9FWENFUFRfRU1BSUwQCRIwCixGUklFTkRTX1NFQVJDSF9TRUFSQ0hBQkxFX0ZJRUxEX0NSRUFURURfREFURRAKEjMKL0ZSSUVORFNfU0VBUkNIX1NFQVJDSEFCTEVfRklFTERfVVNFUk5BTUVfUFJFRklYEAsSMwovRlJJRU5EU19TRUFSQ0hfU0VBUkNIQUJMRV9GSUVMRF9VU0VSTkFNRV9VTklRVUUQDCqSDwodRnJpZW5kc1NlYXJjaFZhcmlhbnRUaW1lY2xhc3MSMAosRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfVU5TUEVDSUZJRUQQABIwCixGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19DSEVTU19CTElUWhABEjEKLUZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NIRVNTX0JVTExFVBACEjAKLEZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NIRVNTX0RBSUxZEAMSMAosRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQ0hFU1NfUkFQSUQQBBIzCi9GUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19DSEVTUzk2MF9CTElUWhAFEjQKMEZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NIRVNTOTYwX0JVTExFVBAGEjMKL0ZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NIRVNTOTYwX0RBSUxZEAcSMwovRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQ0hFU1M5NjBfUkFQSUQQCBI1CjFGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19DUkFaWUhPVVNFX0JMSVRaEAkSMwovRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQlVHSE9VU0VfQkxJVFoQChI4CjRGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19LSU5HT0ZUSEVISUxMX0JMSVRaEAsSNAowRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfT0REU0NIRVNTX0JMSVRaEAwSNQoxRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfVEhSRUVDSEVDS19CTElUWhANEjYKMkZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NSQVpZSE9VU0VfQlVMTEVUEA4SNAowRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQlVHSE9VU0VfQlVMTEVUEA8SOQo1RlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfS0lOR09GVEhFSElMTF9CVUxMRVQQEBI1CjFGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19PRERTQ0hFU1NfQlVMTEVUEBESNgoyRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfVEhSRUVDSEVDS19CVUxMRVQQEhI1CjFGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19DUkFaWUhPVVNFX0RBSUxZEBMSMwovRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQlVHSE9VU0VfREFJTFkQFBI4CjRGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19LSU5HT0ZUSEVISUxMX0RBSUxZEBUSNAowRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfT0REU0NIRVNTX0RBSUxZEBYSNQoxRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfVEhSRUVDSEVDS19EQUlMWRAXEjUKMUZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0NSQVpZSE9VU0VfUkFQSUQQGBIzCi9GUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19CVUdIT1VTRV9SQVBJRBAZEjgKNEZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0tJTkdPRlRIRUhJTExfUkFQSUQQGhI0CjBGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19PRERTQ0hFU1NfUkFQSUQQGxI1CjFGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19USFJFRUNIRUNLX1JBUElEEBwSLQopRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQ0hFU1M5NjAQHRIuCipGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19PRERTQ0hFU1MQHhIvCitGUklFTkRTX1NFQVJDSF9WQVJJQU5UX1RJTUVDTEFTU19USFJFRUNIRUNLEB8SLworRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfQ1JBWllIT1VTRRAgEi0KKUZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX0JVR0hPVVNFECESMgouRlJJRU5EU19TRUFSQ0hfVkFSSUFOVF9USU1FQ0xBU1NfS0lOR09GVEhFSElMTBAiEiwKKEZSSUVORFNfU0VBUkNIX1ZBUklBTlRfVElNRUNMQVNTX1VOUkFURUQQIyqxAQodRnJpZW5kc1NlYXJjaFJldHJpZXZhYmxlRmllbGQSMAosRlJJRU5EU19TRUFSQ0hfUkVUUklFVkFCTEVfRklFTERfVU5TUEVDSUZJRUQQABIrCidGUklFTkRTX1NFQVJDSF9SRVRSSUVWQUJMRV9GSUVMRF9BVkFUQVIQARIxCi1GUklFTkRTX1NFQVJDSF9SRVRSSUVWQUJMRV9GSUVMRF9DT1VOVFJZX0NPREUQAmIGcHJvdG8z",[a.file_google_protobuf_timestamp,o.BK,i.ff,s.pD,l.X]);var d=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.OFFLINE=1]="OFFLINE",e[e.ONLINE=2]="ONLINE",e[e.PLAYING=3]="PLAYING",e))(d||{}),u=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.OUTGOING=1]="OUTGOING",e[e.INCOMING=2]="INCOMING",e))(u||{}),h=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e))(h||{}),p=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.FIRST_NAME=1]="FIRST_NAME",e[e.LAST_NAME=2]="LAST_NAME",e[e.EMAIL=3]="EMAIL",e[e.COUNTRY=4]="COUNTRY",e[e.USERNAME=5]="USERNAME",e[e.LAST_LOGIN_DATE=6]="LAST_LOGIN_DATE",e[e.IS_ONLINE=7]="IS_ONLINE",e[e.ALL=8]="ALL",e[e.ALL_EXCEPT_EMAIL=9]="ALL_EXCEPT_EMAIL",e[e.CREATED_DATE=10]="CREATED_DATE",e[e.USERNAME_PREFIX=11]="USERNAME_PREFIX",e[e.USERNAME_UNIQUE=12]="USERNAME_UNIQUE",e))(p||{}),m=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS_BLITZ=1]="CHESS_BLITZ",e[e.CHESS_BULLET=2]="CHESS_BULLET",e[e.CHESS_DAILY=3]="CHESS_DAILY",e[e.CHESS_RAPID=4]="CHESS_RAPID",e[e.CHESS960_BLITZ=5]="CHESS960_BLITZ",e[e.CHESS960_BULLET=6]="CHESS960_BULLET",e[e.CHESS960_DAILY=7]="CHESS960_DAILY",e[e.CHESS960_RAPID=8]="CHESS960_RAPID",e[e.CRAZYHOUSE_BLITZ=9]="CRAZYHOUSE_BLITZ",e[e.BUGHOUSE_BLITZ=10]="BUGHOUSE_BLITZ",e[e.KINGOFTHEHILL_BLITZ=11]="KINGOFTHEHILL_BLITZ",e[e.ODDSCHESS_BLITZ=12]="ODDSCHESS_BLITZ",e[e.THREECHECK_BLITZ=13]="THREECHECK_BLITZ",e[e.CRAZYHOUSE_BULLET=14]="CRAZYHOUSE_BULLET",e[e.BUGHOUSE_BULLET=15]="BUGHOUSE_BULLET",e[e.KINGOFTHEHILL_BULLET=16]="KINGOFTHEHILL_BULLET",e[e.ODDSCHESS_BULLET=17]="ODDSCHESS_BULLET",e[e.THREECHECK_BULLET=18]="THREECHECK_BULLET",e[e.CRAZYHOUSE_DAILY=19]="CRAZYHOUSE_DAILY",e[e.BUGHOUSE_DAILY=20]="BUGHOUSE_DAILY",e[e.KINGOFTHEHILL_DAILY=21]="KINGOFTHEHILL_DAILY",e[e.ODDSCHESS_DAILY=22]="ODDSCHESS_DAILY",e[e.THREECHECK_DAILY=23]="THREECHECK_DAILY",e[e.CRAZYHOUSE_RAPID=24]="CRAZYHOUSE_RAPID",e[e.BUGHOUSE_RAPID=25]="BUGHOUSE_RAPID",e[e.KINGOFTHEHILL_RAPID=26]="KINGOFTHEHILL_RAPID",e[e.ODDSCHESS_RAPID=27]="ODDSCHESS_RAPID",e[e.THREECHECK_RAPID=28]="THREECHECK_RAPID",e[e.CHESS960=29]="CHESS960",e[e.ODDSCHESS=30]="ODDSCHESS",e[e.THREECHECK=31]="THREECHECK",e[e.CRAZYHOUSE=32]="CRAZYHOUSE",e[e.BUGHOUSE=33]="BUGHOUSE",e[e.KINGOFTHEHILL=34]="KINGOFTHEHILL",e[e.UNRATED=35]="UNRATED",e))(m||{}),f=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AVATAR=1]="AVATAR",e[e.COUNTRY_CODE=2]="COUNTRY_CODE",e))(f||{})},77342:function(e,t,n){"use strict";n.d(t,{ff:function(){return c}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("CjNjaGVzc2NvbS9wcm90b19vcHRpb25zL2thZmthL3YxL2thZmthX29wdGlvbnMucHJvdG8SH2NoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEisQIKDEthZmthT3B0aW9ucxJFCg5kZWZhdWx0X2NvbmZpZxgBIAEoCzItLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FDb25maWdzEkkKBmNvbmZpZxgCIAMoCzI5LmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FPcHRpb25zLkNvbmZpZ0VudHJ5EhAKCGNoZXNza2lkGAMgASgIEk4KEmVudmlyb25tZW50X2NvbmZpZxgEIAEoCzIyLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FFbnZpcm9ubWVudHMaLQoLQ29uZmlnRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASLfAgoRS2Fma2FFbnZpcm9ubWVudHMSOwoEcHJvZBgBIAEoCzItLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FDb25maWdzEj4KB3NhbmRib3gYAiABKAsyLS5jaGVzc2NvbS5wcm90b19vcHRpb25zLmthZmthLnYxLkthZmthQ29uZmlncxI+CgdzdGFnaW5nGAMgASgLMi0uY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5rYWZrYS52MS5LYWZrYUNvbmZpZ3MSRwoQY2hlc3NraWRfc3RhZ2luZxgFIAEoCzItLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FDb25maWdzEkQKDWNoZXNza2lkX3Byb2QYBiABKAsyLS5jaGVzc2NvbS5wcm90b19vcHRpb25zLmthZmthLnYxLkthZmthQ29uZmlncyK0AgoMS2Fma2FDb25maWdzEhQKDHJldGVudGlvbl9tcxgBIAEoBRIWCg5jbGVhbnVwX3BvbGljeRgCIAEoCRIWCg5udW1fcGFydGl0aW9ucxgDIAEoBRJeChFhZGRpdGlvbmFsX2NvbmZpZxgEIAMoCzJDLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FDb25maWdzLkFkZGl0aW9uYWxDb25maWdFbnRyeRJFChJyZXRlbnRpb25fZHVyYXRpb24YBSABKA4yKS5jaGVzc2NvbS5wcm90b19vcHRpb25zLmthZmthLnYxLkR1cmF0aW9uGjcKFUFkZGl0aW9uYWxDb25maWdFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBKsUBCghEdXJhdGlvbhIYChREVVJBVElPTl9VTlNQRUNJRklFRBAAEhgKEURVUkFUSU9OX09ORV9IT1VSEIDd2wESGQoSRFVSQVRJT05fVFdPX0hPVVJTEIC6twMSFwoQRFVSQVRJT05fT05FX0RBWRCAuJkpEhoKE0RVUkFUSU9OX1RIUkVFX0RBWVMQgKjMexIZChFEVVJBVElPTl9PTkVfV0VFSxCAiLKgAhIaChJEVVJBVElPTl9UV09fV0VFS1MQgJDkwAQ6ZgoFa2Fma2ESHy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMYkL8FIAMoCzItLmNoZXNzY29tLnByb3RvX29wdGlvbnMua2Fma2EudjEuS2Fma2FPcHRpb25zUgVrYWZrYWIGcHJvdG8z",[a.file_google_protobuf_descriptor]);var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ONE_HOUR=36e5]="ONE_HOUR",e[e.TWO_HOURS=72e5]="TWO_HOURS",e[e.ONE_DAY=864e5]="ONE_DAY",e[e.THREE_DAYS=2592e5]="THREE_DAYS",e[e.ONE_WEEK=6048e5]="ONE_WEEK",e[e.TWO_WEEKS=12096e5]="TWO_WEEKS",e))(i||{});let s=(0,r.fileDesc)("CiVjaGVzc2NvbS90ZHRvb2xzL3YxL2lkZW50aWZpZXJzLnByb3RvEhNjaGVzc2NvbS50ZHRvb2xzLnYxImUKHENoZXNzQ29tVG91cm5hbWVudElkZW50aWZpZXISCgoCaWQYASABKA0SOQoEdHlwZRgCIAEoDjIrLmNoZXNzY29tLnRkdG9vbHMudjEuQ2hlc3NDb21Ub3VybmFtZW50VHlwZSpuChZDaGVzc0NvbVRvdXJuYW1lbnRUeXBlEikKJUNIRVNTX0NPTV9UT1VSTkFNRU5UX1RZUEVfVU5TUEVDSUZJRUQQABIOCgpUT1VSTkFNRU5UEAESCQoFQVJFTkEQAhIOCgpURUFNX01BVENIEANiBnByb3RvMw");var l=(e=>(e[e.CHESS_COM_TOURNAMENT_TYPE_UNSPECIFIED=0]="CHESS_COM_TOURNAMENT_TYPE_UNSPECIFIED",e[e.TOURNAMENT=1]="TOURNAMENT",e[e.ARENA=2]="ARENA",e[e.TEAM_MATCH=3]="TEAM_MATCH",e))(l||{});let c=(0,r.fileDesc)("CipjaGVzc2NvbS9nYW1lX3N0b3JhZ2UvdjEvZ2FtZV9zdG9yZWQucHJvdG8SGGNoZXNzY29tLmdhbWVfc3RvcmFnZS52MSLZCQoKR2FtZVN0b3JlZBIUCgxpbnRlcm5hbF9rZXkYASABKAkSOAoIcHJvdmlkZXIYAiABKA4yJi5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuR2FtZVByb3ZpZGVyEgsKA2tleRgDIAEoCRIuCgpjcmVhdGVkX2F0GAQgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgpzdGFydGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIsCghlbmRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASFAoMdGltZV9jb250cm9sGAcgASgJElAKGHBlcl9wbGF5ZXJfdGltZV9jb250cm9scxgIIAMoCzIuLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5QZXJQbGF5ZXJUaW1lQ29udHJvbBI3Cgp0aW1lX2NsYXNzGAkgASgOMiMuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlRpbWVDbGFzcxI7CgxyYXRpbmdfY2xhc3MYCiABKA4yJS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuUmF0aW5nQ2xhc3MSMgoHdmFyaWFudBgLIAEoDjIhLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5WYXJpYW50EjQKBnJlc3VsdBgMIAEoDjIkLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5HYW1lUmVzdWx0EjYKB3ByaXZhY3kYDSABKA4yJS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuR2FtZVByaXZhY3kSNAoGb3JpZ2luGA4gASgOMiQuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLkdhbWVPcmlnaW4SWgofY2hlc3NfY29tX3RvdXJuYW1lbnRfaWRlbnRpZmllchgPIAEoCzIxLmNoZXNzY29tLnRkdG9vbHMudjEuQ2hlc3NDb21Ub3VybmFtZW50SWRlbnRpZmllchIMCgR0YWdzGBAgAygJEjkKCmNoZXNzX2dhbWUYHiABKAsyIy5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuQ2hlc3NHYW1lSAASPwoNYnVnaG91c2VfZ2FtZRgfIAEoCzImLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5CdWdob3VzZUdhbWVIABI9Cgx2YXJpYW50X2dhbWUYICABKAsyJS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuVmFyaWFudEdhbWVIABIWCglsZWdhY3lfaWQYISABKARIAYgBARJQChV2c19jb21wdXRlcl9nYW1lX21vZGUYIiABKA4yLC5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuVnNDb21wdXRlckdhbWVNb2RlSAKIAQESSgoSdnNfY29hY2hfZ2FtZV9kYXRhGCMgASgLMikuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlZzQ29hY2hHYW1lRGF0YUgDiAEBOgIYAUIGCgRnYW1lQgwKCl9sZWdhY3lfaWRCGAoWX3ZzX2NvbXB1dGVyX2dhbWVfbW9kZUIVChNfdnNfY29hY2hfZ2FtZV9kYXRhSgQIERAeIuYCCglDaGVzc0dhbWUSGAoLaW5pdGlhbF9mZW4YASABKAlIAIgBARIRCglmaW5hbF9mZW4YAiABKAkSEQoJcGx5X2NvdW50GAMgASgNEhEKCW1vdmVfdGV4dBgEIAEoCRIXCg9tb3ZlX3RpbWVzdGFtcHMYBSADKA0SNgoMd2hpdGVfcGxheWVyGAYgASgLMiAuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXllchI2CgxibGFja19wbGF5ZXIYByABKAsyIC5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuUGxheWVyElIKFm1hc3Rlcl9jaGVzc19nYW1lX2RhdGEYCCABKAsyLS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuTWFzdGVyQ2hlc3NHYW1lRGF0YUgBiAEBQg4KDF9pbml0aWFsX2ZlbkIZChdfbWFzdGVyX2NoZXNzX2dhbWVfZGF0YSJnCgxCdWdob3VzZUdhbWUSOAoLZmlyc3RfYm9hcmQYASABKAsyIy5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuQ2hlc3NHYW1lEhcKD3NlY29uZF9nYW1lX2tleRgDIAEoCUoECAIQAyKQBAoLVmFyaWFudEdhbWUSFAoMaW5pdGlhbF9mZW40GAEgASgJEhAKCGVuZF9mZW40GAIgASgJEhEKCXBseV9jb3VudBgDIAEoDRIMCgRwZ240GAQgASgJEhcKD2JvYXJkX2RpbWVuc2lvbhgFIAEoCRI/CgR0eXBlGAYgASgOMjEuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlZhcmlhbnRHYW1lLlZhcmlhbnRUeXBlEhMKC3JhdGluZ190eXBlGAcgASgJEjIKCHBsYXllcl8xGAggASgLMiAuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXllchIyCghwbGF5ZXJfMhgJIAEoCzIgLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5QbGF5ZXISMgoIcGxheWVyXzMYCiABKAsyIC5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuUGxheWVyEjIKCHBsYXllcl80GAsgASgLMiAuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXllciJ5CgtWYXJpYW50VHlwZRIcChhWQVJJQU5UX1RZUEVfVU5TUEVDSUZJRUQQABIdChlWQVJJQU5UX1RZUEVfRlJFRV9GT1JfQUxMEAESFgoSVkFSSUFOVF9UWVBFX1RFQU1TEAISFQoRVkFSSUFOVF9UWVBFX1NPTE8QAyI/ChRQZXJQbGF5ZXJUaW1lQ29udHJvbBIRCglwbGF5ZXJfaWQYASABKAkSFAoMdGltZV9jb250cm9sGAIgASgJIu8FCgZQbGF5ZXISCgoCaWQYASABKAkSMgoEdHlwZRgCIAEoDjIkLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5QbGF5ZXJUeXBlEjoKCHByb3ZpZGVyGAMgASgOMiguY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXllclByb3ZpZGVyEgsKA2tleRgEIAEoCRIWCg5kaXNwbGF5X2hhbmRsZRgFIAEoCRIUCgxkaXNwbGF5X25hbWUYBiABKAkSNAoFdGl0bGUYByABKA4yJS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuUGxheWVyVGl0bGUSDwoHY291bnRyeRgIIAEoCRIUCgxmaW5hbF9yYXRpbmcYCSABKA0SNgoGcmVzdWx0GAogASgOMiYuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXllclJlc3VsdBINCgVwbGFjZRgLIAEoDRITCgZjbGllbnQYDSABKAlIAIgBARITCgZwb2ludHMYDiABKA1IAYgBARIbCg5pbml0aWFsX3JhdGluZxgPIAEoDUgCiAEBEhgKC3JhdGluZ19kaWZmGBAgASgCSAOIAQESFAoHZmlkZV9pZBgRIAEoBEgEiAEBEhcKCm1pbl9yYXRpbmcYEiABKA1IBYgBARIfChJkd19pbmNpZGVudF9sb2dnZWQYEyABKA1IBogBARJRChJiYWRfc3BvcnRfYmVoYXZpb3IYFCABKA4yMC5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuUGxheWVyQmFkU3BvcnRCZWhhdmlvckgHiAEBQgkKB19jbGllbnRCCQoHX3BvaW50c0IRCg9faW5pdGlhbF9yYXRpbmdCDgoMX3JhdGluZ19kaWZmQgoKCF9maWRlX2lkQg0KC19taW5fcmF0aW5nQhUKE19kd19pbmNpZGVudF9sb2dnZWRCFQoTX2JhZF9zcG9ydF9iZWhhdmlvckoECAwQDSLVAQoTTWFzdGVyQ2hlc3NHYW1lRGF0YRILCgNwZ24YASABKAkSDQoFZXZlbnQYAiABKAkSDAoEc2l0ZRgDIAEoCRIMCgRkYXRlGAQgASgJEg0KBXJvdW5kGAUgASgJEhEKCW1vdmVfdGV4dBgGIAEoCRIXCgpmaW5hbF9mZW4zGAcgASgJSACIAQESFwoKZmluYWxfZmVuNhgIIAEoCUgBiAEBEhQKDHRpbWVfY29udHJvbBgJIAEoCUINCgtfZmluYWxfZmVuM0INCgtfZmluYWxfZmVuNiKCAQoQUGxheU1vZGVHcm91cGluZxIzCgh2YXJpYW50cxgBIAMoDjIhLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5WYXJpYW50EjkKDHRpbWVfY2xhc3NlcxgCIAMoDjIjLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52MS5UaW1lQ2xhc3MihQEKF1BsYXlNb2RlR3JvdXBpbmdPcHRpb25zMmoKCGdyb3VwaW5nEiEuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMY6QcgASgLMiouY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYxLlBsYXlNb2RlR3JvdXBpbmdSCGdyb3VwaW5nIiMKD1ZzQ29hY2hHYW1lRGF0YRIQCghjb2FjaF9pZBgBIAEoCSr8AQoMR2FtZVByb3ZpZGVyEh0KGUdBTUVfUFJPVklERVJfVU5TUEVDSUZJRUQQABIbChdHQU1FX1BST1ZJREVSX0NIRVNTX0NPTRABEhsKF0dBTUVfUFJPVklERVJfQ0hFU1NfS0lEEAISFgoSR0FNRV9QUk9WSURFUl9GSURFEAMSGQoVR0FNRV9QUk9WSURFUl9MSUNIRVNTEAQSGwoXR0FNRV9QUk9WSURFUl9DSEVTU0JBU0UQBRIZChVHQU1FX1BST1ZJREVSX09GRkxJTkUQBhIoCiRHQU1FX1BST1ZJREVSX0NIRVNTX0NPTV9NQVNURVJfR0FNRVMQByrWAgoKR2FtZU9yaWdpbhIbChdHQU1FX09SSUdJTl9VTlNQRUNJRklFRBAAEiAKHEdBTUVfT1JJR0lOX0RJUkVDVF9DSEFMTEVOR0UQARIUChBHQU1FX09SSUdJTl9TRUVLEAISGQoVR0FNRV9PUklHSU5fUE9PTF9TRUVLEAMSGgoWR0FNRV9PUklHSU5fU1RBUlRfR0FNRRAEEhUKEUdBTUVfT1JJR0lOX01BVENIEAUSFQoRR0FNRV9PUklHSU5fQVJFTkEQBhIaChZHQU1FX09SSUdJTl9UT1VSTkFNRU5UEAcSGgoWR0FNRV9PUklHSU5fVEVBTV9NQVRDSBAIEhsKF0dBTUVfT1JJR0lOX0NPTVBFVElUSU9OEAkSIQodR0FNRV9PUklHSU5fUkVDT01NRU5ERURfTUFUQ0gQChIWChJHQU1FX09SSUdJTl9MRUFHVUUQCyqwAQoJVGltZUNsYXNzEhoKFlRJTUVfQ0xBU1NfVU5TUEVDSUZJRUQQABIVChFUSU1FX0NMQVNTX0JVTExFVBABEhQKEFRJTUVfQ0xBU1NfQkxJVFoQAhIUChBUSU1FX0NMQVNTX1JBUElEEAMSFAoQVElNRV9DTEFTU19EQUlMWRAEEhQKEFRJTUVfQ0xBU1NfSFlQRVIQBRIYChRUSU1FX0NMQVNTX0NMQVNTSUNBTBAGKuwECgtSYXRpbmdDbGFzcxIcChhSQVRJTkdfQ0xBU1NfVU5TUEVDSUZJRUQQABIYChRSQVRJTkdfQ0xBU1NfVU5SQVRFRBABEicKI1JBVElOR19DTEFTU19DSEVTU19DT01fQ0hFU1NfQlVMTEVUEAISJgoiUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9DSEVTU19CTElUWhADEiYKIlJBVElOR19DTEFTU19DSEVTU19DT01fQ0hFU1NfUkFQSUQQBBImCiJSQVRJTkdfQ0xBU1NfQ0hFU1NfQ09NX0NIRVNTX0RBSUxZEAUSIwofUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9DSEVTUzk2MBAGEikKJVJBVElOR19DTEFTU19DSEVTU19DT01fQ0hFU1M5NjBfREFJTFkQBxIjCh9SQVRJTkdfQ0xBU1NfQ0hFU1NfQ09NX0JVR0hPVVNFEAgSKAokUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9LSU5HT0ZUSEVISUxMEAkSJQohUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9USFJFRUNIRUNLEAoSJQohUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9DUkFaWUhPVVNFEAsSJAogUkFUSU5HX0NMQVNTX0ZJREVfQ0hFU1NfU1RBTkRBUkQQDBIhCh1SQVRJTkdfQ0xBU1NfRklERV9DSEVTU19SQVBJRBANEiEKHVJBVElOR19DTEFTU19GSURFX0NIRVNTX0JMSVRaEA4SKwonUkFUSU5HX0NMQVNTX0NIRVNTX0NPTV9DSEVTU19PRERTX0NIRVNTEA8q4QEKB1ZhcmlhbnQSFwoTVkFSSUFOVF9VTlNQRUNJRklFRBAAEhEKDVZBUklBTlRfQ0hFU1MQARIVChFWQVJJQU5UX0NIRVNTXzk2MBACEhQKEFZBUklBTlRfQlVHSE9VU0UQBBIXChNWQVJJQU5UX1RIUkVFX0NIRUNLEAUSFgoSVkFSSUFOVF9DUkFaWUhPVVNFEAYSHAoYVkFSSUFOVF9LSU5HX09GX1RIRV9ISUxMEAcSFgoSVkFSSUFOVF9PRERTX0NIRVNTEAgSFgoSVkFSSUFOVF9IRUxQX0NIRVNTEAkqXgoLR2FtZVByaXZhY3kSHAoYR0FNRV9QUklWQUNZX1VOU1BFQ0lGSUVEEAASFwoTR0FNRV9QUklWQUNZX1BVQkxJQxABEhgKFEdBTUVfUFJJVkFDWV9QUklWQVRFEAIqtgEKDFBsYXllclJlc3VsdBIdChlQTEFZRVJfUkVTVUxUX1VOU1BFQ0lGSUVEEAASFQoRUExBWUVSX1JFU1VMVF9XSU4QARIWChJQTEFZRVJfUkVTVUxUX0RSQVcQAhIWChJQTEFZRVJfUkVTVUxUX0xPU0UQAxIXChNQTEFZRVJfUkVTVUxUX0FCT1JUEAQSJwojUExBWUVSX1JFU1VMVF9CVUdIT1VTRV9QQVJUTkVSX0xPU0UQBSqPBQoKR2FtZVJlc3VsdBIbChdHQU1FX1JFU1VMVF9VTlNQRUNJRklFRBAAEiMKH0dBTUVfUkVTVUxUX1dJTl9MT1NFX0JZX1RJTUVPVVQQARIlCiFHQU1FX1JFU1VMVF9XSU5fTE9TRV9CWV9DSEVDS01BVEUQAhInCiNHQU1FX1JFU1VMVF9XSU5fTE9TRV9CWV9SRVNJR05BVElPThADEicKI0dBTUVfUkVTVUxUX1dJTl9MT1NFX0JZX0FCQU5ET05NRU5UEAQSIQodR0FNRV9SRVNVTFRfRFJBV19CWV9BR1JFRU1FTlQQBRIiCh5HQU1FX1JFU1VMVF9EUkFXX0JZX1JFUEVUSVRJT04QBhIhCh1HQU1FX1JFU1VMVF9EUkFXX0JZX1NUQUxFTUFURRAHEi0KKUdBTUVfUkVTVUxUX0RSQVdfQllfSU5TVUZGSUNJRU5UX01BVEVSSUFMEAgSOAo0R0FNRV9SRVNVTFRfRFJBV19CWV9USU1FT1VUX1ZTX0lOU1VGRklDSUVOVF9NQVRFUklBTBAJEiQKIEdBTUVfUkVTVUxUX0RSQVdfQllfNTBfTU9WRV9SVUxFEAoSMQotR0FNRV9SRVNVTFRfV0lOX0xPU0VfQllfQlVHSE9VU0VfUEFSVE5FUl9MT1NFEAsSFwoTR0FNRV9SRVNVTFRfQUJPUlRFRBAMEicKI0dBTUVfUkVTVUxUX1dJTl9MT1NFX0JZX1RIUkVFX0NIRUNLEA0SLAooR0FNRV9SRVNVTFRfV0lOX0xPU0VfQllfS0lOR19PRl9USEVfSElMTBAOEioKJkdBTUVfUkVTVUxUX1dJTl9MT1NFX0JZX0RPVUJMRV9GT1JGRUlUEA8q7wEKDlBsYXllclByb3ZpZGVyEh8KG1BMQVlFUl9QUk9WSURFUl9VTlNQRUNJRklFRBAAEh0KGVBMQVlFUl9QUk9WSURFUl9DSEVTU19DT00QARIdChlQTEFZRVJfUFJPVklERVJfQ0hFU1NfS0lEEAISGAoUUExBWUVSX1BST1ZJREVSX0ZJREUQAxIfChtQTEFZRVJfUFJPVklERVJfTElDSEVTU19PUkcQBBIdChlQTEFZRVJfUFJPVklERVJfQ0hFU1NCQVNFEAUSJAogUExBWUVSX1BST1ZJREVSX0NIRVNTX0NPTV9NQVNURVIQBiqWAgoLUGxheWVyVGl0bGUSHAoYUExBWUVSX1RJVExFX1VOU1BFQ0lGSUVEEAASFAoQUExBWUVSX1RJVExFX1dHTRABEhMKD1BMQVlFUl9USVRMRV9HTRACEhQKEFBMQVlFUl9USVRMRV9XSU0QAxITCg9QTEFZRVJfVElUTEVfSU0QBBIUChBQTEFZRVJfVElUTEVfV0ZNEAUSEwoPUExBWUVSX1RJVExFX0ZNEAYSFAoQUExBWUVSX1RJVExFX1dOTRAHEhMKD1BMQVlFUl9USVRMRV9OTRAIEhIKDlBMQVlFUl9USVRMRV9NEAkSEwoPUExBWUVSX1RJVExFX0NNEAoSFAoQUExBWUVSX1RJVExFX1dDTRALKnIKClBsYXllclR5cGUSGwoXUExBWUVSX1RZUEVfVU5TUEVDSUZJRUQQABIVChFQTEFZRVJfVFlQRV9IVU1BThABEhgKFFBMQVlFUl9UWVBFX0NPTVBVVEVSEAISFgoSUExBWUVSX1RZUEVfQ1lCT1JHEAMq/AIKFlBsYXllckJhZFNwb3J0QmVoYXZpb3ISKQolUExBWUVSX0JBRF9TUE9SVF9CRUhBVklPUl9VTlNQRUNJRklFRBAAEiIKHlBMQVlFUl9CQURfU1BPUlRfQkVIQVZJT1JfTk9ORRABEjMKL1BMQVlFUl9CQURfU1BPUlRfQkVIQVZJT1JfRklSU1RfTU9WRV9OT1RfUExBWUVEEAISIwofUExBWUVSX0JBRF9TUE9SVF9CRUhBVklPUl9BQk9SVBADEigKJFBMQVlFUl9CQURfU1BPUlRfQkVIQVZJT1JfRElTQ09OTkVDVBAEEicKI1BMQVlFUl9CQURfU1BPUlRfQkVIQVZJT1JfUkFHRV9RVUlUEAUSLQopUExBWUVSX0JBRF9TUE9SVF9CRUhBVklPUl9NT1ZFX05PVF9QTEFZRUQQBhI3CjNQTEFZRVJfQkFEX1NQT1JUX0JFSEFWSU9SX0JPVEhfUExBWUVSU19ESVNDT05ORUNURUQQByrKAQoSVnNDb21wdXRlckdhbWVNb2RlEiUKIVZTX0NPTVBVVEVSX0dBTUVfTU9ERV9VTlNQRUNJRklFRBAAEiMKH1ZTX0NPTVBVVEVSX0dBTUVfTU9ERV9DSEFMTEVOR0UQARIiCh5WU19DT01QVVRFUl9HQU1FX01PREVfRlJJRU5ETFkQAhIiCh5WU19DT01QVVRFUl9HQU1FX01PREVfQVNTSVNURUQQAxIgChxWU19DT01QVVRFUl9HQU1FX01PREVfQ1VTVE9NEAQqmwEKCFBsYXlNb2RlEhkKFVBMQVlfTU9ERV9VTlNQRUNJRklFRBAAEigKDlBMQVlfTU9ERV9MSVZFEAEaFMo+EQoIAQIEBQYHCAkSBQECAwUGEh8KD1BMQVlfTU9ERV9EQUlMWRACGgrKPgcKAgECEgEEEiUKFVBMQVlfTU9ERV9WU19DT01QVVRFUhADGgrKPgcKAgECEgEAGgIYAWIGcHJvdG8z",[a.file_google_protobuf_descriptor,o,s,a.file_google_protobuf_timestamp]);var d=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.FREE_FOR_ALL=1]="FREE_FOR_ALL",e[e.TEAMS=2]="TEAMS",e[e.SOLO=3]="SOLO",e))(d||{}),u=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS_COM=1]="CHESS_COM",e[e.CHESS_KID=2]="CHESS_KID",e[e.FIDE=3]="FIDE",e[e.LICHESS=4]="LICHESS",e[e.CHESSBASE=5]="CHESSBASE",e[e.OFFLINE=6]="OFFLINE",e[e.CHESS_COM_MASTER_GAMES=7]="CHESS_COM_MASTER_GAMES",e))(u||{}),h=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DIRECT_CHALLENGE=1]="DIRECT_CHALLENGE",e[e.SEEK=2]="SEEK",e[e.POOL_SEEK=3]="POOL_SEEK",e[e.START_GAME=4]="START_GAME",e[e.MATCH=5]="MATCH",e[e.ARENA=6]="ARENA",e[e.TOURNAMENT=7]="TOURNAMENT",e[e.TEAM_MATCH=8]="TEAM_MATCH",e[e.COMPETITION=9]="COMPETITION",e[e.RECOMMENDED_MATCH=10]="RECOMMENDED_MATCH",e[e.LEAGUE=11]="LEAGUE",e))(h||{}),p=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.BULLET=1]="BULLET",e[e.BLITZ=2]="BLITZ",e[e.RAPID=3]="RAPID",e[e.DAILY=4]="DAILY",e[e.HYPER=5]="HYPER",e[e.CLASSICAL=6]="CLASSICAL",e))(p||{}),m=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.UNRATED=1]="UNRATED",e[e.CHESS_COM_CHESS_BULLET=2]="CHESS_COM_CHESS_BULLET",e[e.CHESS_COM_CHESS_BLITZ=3]="CHESS_COM_CHESS_BLITZ",e[e.CHESS_COM_CHESS_RAPID=4]="CHESS_COM_CHESS_RAPID",e[e.CHESS_COM_CHESS_DAILY=5]="CHESS_COM_CHESS_DAILY",e[e.CHESS_COM_CHESS960=6]="CHESS_COM_CHESS960",e[e.CHESS_COM_CHESS960_DAILY=7]="CHESS_COM_CHESS960_DAILY",e[e.CHESS_COM_BUGHOUSE=8]="CHESS_COM_BUGHOUSE",e[e.CHESS_COM_KINGOFTHEHILL=9]="CHESS_COM_KINGOFTHEHILL",e[e.CHESS_COM_THREECHECK=10]="CHESS_COM_THREECHECK",e[e.CHESS_COM_CRAZYHOUSE=11]="CHESS_COM_CRAZYHOUSE",e[e.FIDE_CHESS_STANDARD=12]="FIDE_CHESS_STANDARD",e[e.FIDE_CHESS_RAPID=13]="FIDE_CHESS_RAPID",e[e.FIDE_CHESS_BLITZ=14]="FIDE_CHESS_BLITZ",e[e.CHESS_COM_CHESS_ODDS_CHESS=15]="CHESS_COM_CHESS_ODDS_CHESS",e))(m||{}),f=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS=1]="CHESS",e[e.CHESS_960=2]="CHESS_960",e[e.BUGHOUSE=4]="BUGHOUSE",e[e.THREE_CHECK=5]="THREE_CHECK",e[e.CRAZYHOUSE=6]="CRAZYHOUSE",e[e.KING_OF_THE_HILL=7]="KING_OF_THE_HILL",e[e.ODDS_CHESS=8]="ODDS_CHESS",e[e.HELP_CHESS=9]="HELP_CHESS",e))(f||{}),g=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLIC=1]="PUBLIC",e[e.PRIVATE=2]="PRIVATE",e))(g||{}),b=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WIN=1]="WIN",e[e.DRAW=2]="DRAW",e[e.LOSE=3]="LOSE",e[e.ABORT=4]="ABORT",e[e.BUGHOUSE_PARTNER_LOSE=5]="BUGHOUSE_PARTNER_LOSE",e))(b||{}),_=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WIN_LOSE_BY_TIMEOUT=1]="WIN_LOSE_BY_TIMEOUT",e[e.WIN_LOSE_BY_CHECKMATE=2]="WIN_LOSE_BY_CHECKMATE",e[e.WIN_LOSE_BY_RESIGNATION=3]="WIN_LOSE_BY_RESIGNATION",e[e.WIN_LOSE_BY_ABANDONMENT=4]="WIN_LOSE_BY_ABANDONMENT",e[e.DRAW_BY_AGREEMENT=5]="DRAW_BY_AGREEMENT",e[e.DRAW_BY_REPETITION=6]="DRAW_BY_REPETITION",e[e.DRAW_BY_STALEMATE=7]="DRAW_BY_STALEMATE",e[e.DRAW_BY_INSUFFICIENT_MATERIAL=8]="DRAW_BY_INSUFFICIENT_MATERIAL",e[e.DRAW_BY_TIMEOUT_VS_INSUFFICIENT_MATERIAL=9]="DRAW_BY_TIMEOUT_VS_INSUFFICIENT_MATERIAL",e[e.DRAW_BY_50_MOVE_RULE=10]="DRAW_BY_50_MOVE_RULE",e[e.WIN_LOSE_BY_BUGHOUSE_PARTNER_LOSE=11]="WIN_LOSE_BY_BUGHOUSE_PARTNER_LOSE",e[e.ABORTED=12]="ABORTED",e[e.WIN_LOSE_BY_THREE_CHECK=13]="WIN_LOSE_BY_THREE_CHECK",e[e.WIN_LOSE_BY_KING_OF_THE_HILL=14]="WIN_LOSE_BY_KING_OF_THE_HILL",e[e.WIN_LOSE_BY_DOUBLE_FORFEIT=15]="WIN_LOSE_BY_DOUBLE_FORFEIT",e))(_||{}),E=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS_COM=1]="CHESS_COM",e[e.CHESS_KID=2]="CHESS_KID",e[e.FIDE=3]="FIDE",e[e.LICHESS_ORG=4]="LICHESS_ORG",e[e.CHESSBASE=5]="CHESSBASE",e[e.CHESS_COM_MASTER=6]="CHESS_COM_MASTER",e))(E||{}),w=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WGM=1]="WGM",e[e.GM=2]="GM",e[e.WIM=3]="WIM",e[e.IM=4]="IM",e[e.WFM=5]="WFM",e[e.FM=6]="FM",e[e.WNM=7]="WNM",e[e.NM=8]="NM",e[e.M=9]="M",e[e.CM=10]="CM",e[e.WCM=11]="WCM",e))(w||{}),v=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.HUMAN=1]="HUMAN",e[e.COMPUTER=2]="COMPUTER",e[e.CYBORG=3]="CYBORG",e))(v||{}),k=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.FIRST_MOVE_NOT_PLAYED=2]="FIRST_MOVE_NOT_PLAYED",e[e.ABORT=3]="ABORT",e[e.DISCONNECT=4]="DISCONNECT",e[e.RAGE_QUIT=5]="RAGE_QUIT",e[e.MOVE_NOT_PLAYED=6]="MOVE_NOT_PLAYED",e[e.BOTH_PLAYERS_DISCONNECTED=7]="BOTH_PLAYERS_DISCONNECTED",e))(k||{}),S=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHALLENGE=1]="CHALLENGE",e[e.FRIENDLY=2]="FRIENDLY",e[e.ASSISTED=3]="ASSISTED",e[e.CUSTOM=4]="CUSTOM",e))(S||{}),y=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LIVE=1]="LIVE",e[e.DAILY=2]="DAILY",e[e.VS_COMPUTER=3]="VS_COMPUTER",e))(y||{})},92733:function(e,t,n){"use strict";n.d(t,{lt:function(){return r}});let r=(0,n(63656).fileDesc)("CixjaGVzc2NvbS9nYW1lX3N0b3JhZ2UvdjIvcGxheWVyX3Jlc3VsdC5wcm90bxIYY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYyKrYBCgxQbGF5ZXJSZXN1bHQSHQoZUExBWUVSX1JFU1VMVF9VTlNQRUNJRklFRBAAEhUKEVBMQVlFUl9SRVNVTFRfV0lOEAESFgoSUExBWUVSX1JFU1VMVF9EUkFXEAISFgoSUExBWUVSX1JFU1VMVF9MT1NFEAMSFwoTUExBWUVSX1JFU1VMVF9BQk9SVBAEEicKI1BMQVlFUl9SRVNVTFRfQlVHSE9VU0VfUEFSVE5FUl9MT1NFEAViBnByb3RvMw");var a=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WIN=1]="WIN",e[e.DRAW=2]="DRAW",e[e.LOSE=3]="LOSE",e[e.ABORT=4]="ABORT",e[e.BUGHOUSE_PARTNER_LOSE=5]="BUGHOUSE_PARTNER_LOSE",e))(a||{})},60703:function(e,t,n){"use strict";n.d(t,{Aj:function(){return i},f4:function(){return s}});var r=n(63656),a=n(4753);let o=(0,r.fileDesc)("CixjaGVzc2NvbS9pbnRlcmFjdGlvbnMvdjEvdXNlcl9hY3Rpdml0eS5wcm90bxIYY2hlc3Njb20uaW50ZXJhY3Rpb25zLnYxIqwCCgVDbGljaxI4CgZmdW5uZWwYASABKA4yKC5jaGVzc2NvbS5wcm90b19vcHRpb25zLmV2ZW50cy52MS5GdW5uZWwSFwoJaW50ZXJmYWNlGAIgASgJQgTA8xgBEhUKB2VsZW1lbnQYAyABKAlCBMjzGAESFAoDdGFnGAQgASgJQgIYAUgAiAEBEhwKD3NlbGVjdGlvbl9pbmRleBgFIAEoBUgBiAEBEhoKDXNlbGVjdGVkX2l0ZW0YBiABKAlIAogBARISCgVjb3VudBgHIAEoBUgDiAEBEgwKBHRhZ3MYCCADKAk6D8LzGAsKBUNsaWNrEAIYBEIGCgRfdGFnQhIKEF9zZWxlY3Rpb25faW5kZXhCEAoOX3NlbGVjdGVkX2l0ZW1CCAoGX2NvdW50ItMBCgpJbXByZXNzaW9uEjgKBmZ1bm5lbBgBIAEoDjIoLmNoZXNzY29tLnByb3RvX29wdGlvbnMuZXZlbnRzLnYxLkZ1bm5lbBIXCglpbnRlcmZhY2UYAiABKAlCBMDzGAESFAoDdGFnGAMgASgJQgIYAUgAiAEBEhwKD3NlbGVjdGlvbl9pbmRleBgEIAEoBUgBiAEBEgwKBHRhZ3MYBSADKAk6FMLzGBAKCkltcHJlc3Npb24QAhgBQgYKBF90YWdCEgoQX3NlbGVjdGlvbl9pbmRleCK2AQoFSW5wdXQSOAoGZnVubmVsGAEgASgOMiguY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5ldmVudHMudjEuRnVubmVsEhcKCWludGVyZmFjZRgCIAEoCUIEwPMYARIVCgdlbGVtZW50GAMgASgJQgTI8xgBEhcKCmlucHV0X3RleHQYBCABKAlIAIgBARIMCgR0YWdzGAUgAygJOg3C8xgJCgVJbnB1dBACQg0KC19pbnB1dF90ZXh0YgZwcm90bzM",[a.HS]),i=(0,r.messageDesc)(o,0),s=(0,r.messageDesc)(o,1)},52680:function(e,t,n){"use strict";n.d(t,{O7:function(){return h},pD:function(){return u}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("Ch5jaGVzc2NvbS9hcGkvdjEvbG9jYXRpb24ucHJvdG8SD2NoZXNzY29tLmFwaS52MSK+AgoITG9jYXRpb24SFAoMY291bnRyeV9jb2RlGAEgASgJEhEKBGNpdHkYAiABKAlIAIgBARITCgZyZWdpb24YAyABKAlIAYgBARIbCg5jb250aW5lbnRfY29kZRgEIAEoCUgCiAEBEhgKC3Bvc3RhbF9jb2RlGAUgASgJSAOIAQESFQoIbGF0aXR1ZGUYBiABKAJIBIgBARIWCglsb25naXR1ZGUYByABKAJIBYgBARIVCgh0aW1lem9uZRgIIAEoCUgGiAEBEhAKA2FzbhgJIAEoBUgHiAEBQgcKBV9jaXR5QgkKB19yZWdpb25CEQoPX2NvbnRpbmVudF9jb2RlQg4KDF9wb3N0YWxfY29kZUILCglfbGF0aXR1ZGVCDAoKX2xvbmdpdHVkZUILCglfdGltZXpvbmVCBgoEX2FzbmIGcHJvdG8z");var i=n(39012),s=n(28062);let l=(0,r.fileDesc)("CiNjaGVzc2NvbS9nYW1lcGxheS92MS9nYW1lX3JlZi5wcm90bxIUY2hlc3Njb20uZ2FtZXBsYXkudjEi2wIKB0dhbWVSZWYSDwoCaWQYASABKAlIAIgBARIXCgpudW1lcmljX2lkGAIgASgDSAGIAQESMAoHdmFyaWFudBgDIAEoDjIaLmNoZXNzY29tLmNoZXNzLnYxLlZhcmlhbnRIAogBARI0Cgl0aW1lY2xhc3MYBCABKA4yHC5jaGVzc2NvbS5jaGVzcy52MS5UaW1lQ2xhc3NIA4gBARI1CgZzb3VyY2UYBSABKA4yIC5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lU291cmNlSASIAQESFwoKaXNfcHJpdmF0ZRgGIAEoCEgFiAEBEhYKCWxlZ2FjeV9pZBgHIAEoA0gGiAEBQgUKA19pZEINCgtfbnVtZXJpY19pZEIKCghfdmFyaWFudEIMCgpfdGltZWNsYXNzQgkKB19zb3VyY2VCDQoLX2lzX3ByaXZhdGVCDAoKX2xlZ2FjeV9pZCpSCgpHYW1lU291cmNlEhsKF0dBTUVfU09VUkNFX1VOU1BFQ0lGSUVEEAASEwoPR0FNRV9TT1VSQ0VfUkNOEAESEgoOR0FNRV9TT1VSQ0VfTEMQAmIGcHJvdG8z",[i.W9,s.Q7]);var c=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.RCN=1]="RCN",e[e.LC=2]="LC",e))(c||{});let d=(0,r.fileDesc)("CiVjaGVzc2NvbS9nYW1lcGxheS92MS9iYXR0bGVfcmVmLnByb3RvEhRjaGVzc2NvbS5nYW1lcGxheS52MSIjCglCYXR0bGVSZWYSDwoCaWQYASABKAlIAIgBAUIFCgNfaWRiBnByb3RvMw"),u=(0,r.fileDesc)("CiNjaGVzc2NvbS9wcmVzZW5jZS92MS9wcmVzZW5jZS5wcm90bxIUY2hlc3Njb20ucHJlc2VuY2UudjEiyAUKDFVzZXJQcmVzZW5jZRIKCgJpZBgBIAEoCRI2CgZzdGF0dXMYAiABKA4yJi5jaGVzc2NvbS5wcmVzZW5jZS52MS5Db25uZWN0aW9uU3RhdHVzEi0KCXN0YXR1c19hdBgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASPQoIYWN0aXZpdHkYBSABKA4yJi5jaGVzc2NvbS5wcmVzZW5jZS52MS5QcmVzZW5jZUFjdGl2aXR5SACIAQESTAoQYWN0aXZpdHlfY29udGV4dBgGIAEoCzItLmNoZXNzY29tLnByZXNlbmNlLnYxLlByZXNlbmNlQWN0aXZpdHlDb250ZXh0SAGIAQESIAoTc3RhdHVzX2F0X3VuY2VydGFpbhgHIAEoCEgCiAEBEjcKCXN0cmVhbWluZxgIIAEoCzIfLmNoZXNzY29tLnByZXNlbmNlLnYxLlN0cmVhbWluZ0gDiAEBEj0KB3F1YWxpdHkYCSABKA4yJy5jaGVzc2NvbS5wcmVzZW5jZS52MS5Db25uZWN0aW9uUXVhbGl0eUgEiAEBEjAKCGxvY2F0aW9uGAogASgLMhkuY2hlc3Njb20uYXBpLnYxLkxvY2F0aW9uSAWIAQESMQoHY2xpZW50cxgLIAMoCzIgLmNoZXNzY29tLnByZXNlbmNlLnYxLkNsaWVudEluZm8SEgoKYXR0cmlidXRlcxgMIAMoCRIUCgxjYXBhYmlsaXRpZXMYDSADKAlCCwoJX2FjdGl2aXR5QhMKEV9hY3Rpdml0eV9jb250ZXh0QhYKFF9zdGF0dXNfYXRfdW5jZXJ0YWluQgwKCl9zdHJlYW1pbmdCCgoIX3F1YWxpdHlCCwoJX2xvY2F0aW9uIkgKCVN0cmVhbWluZxIuCgpzdGFydGVkX2F0GAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBILCgN1cmwYAiABKAkieQoXUHJlc2VuY2VBY3Rpdml0eUNvbnRleHQSLAoFZ2FtZXMYASADKAsyHS5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lUmVmEjAKB2JhdHRsZXMYAiADKAsyHy5jaGVzc2NvbS5nYW1lcGxheS52MS5CYXR0bGVSZWYiSgoKQ2xpZW50SW5mbxIzCgR0eXBlGAEgASgOMiAuY2hlc3Njb20ucHJlc2VuY2UudjEuQ2xpZW50VHlwZUgAiAEBQgcKBV90eXBlKocBCg5QcmVzZW5jZVN0YXR1cxIfChtQUkVTRU5DRV9TVEFUVVNfVU5TUEVDSUZJRUQQABIbChdQUkVTRU5DRV9TVEFUVVNfT0ZGTElORRABEhoKFlBSRVNFTkNFX1NUQVRVU19PTkxJTkUQAhIbChdQUkVTRU5DRV9TVEFUVVNfUExBWUlORxADKnIKEENvbm5lY3Rpb25TdGF0dXMSIQodQ09OTkVDVElPTl9TVEFUVVNfVU5TUEVDSUZJRUQQABIdChlDT05ORUNUSU9OX1NUQVRVU19PRkZMSU5FEAESHAoYQ09OTkVDVElPTl9TVEFUVVNfT05MSU5FEAIqcAoQUHJlc2VuY2VBY3Rpdml0eRIhCh1QUkVTRU5DRV9BQ1RJVklUWV9VTlNQRUNJRklFRBAAEhoKFlBSRVNFTkNFX0FDVElWSVRZX05PTkUQARIdChlQUkVTRU5DRV9BQ1RJVklUWV9QTEFZSU5HEAIqzgEKEUNvbm5lY3Rpb25RdWFsaXR5EiIKHkNPTk5FQ1RJT05fUVVBTElUWV9VTlNQRUNJRklFRBAAEh4KGkNPTk5FQ1RJT05fUVVBTElUWV9PRkZMSU5FEAESGwoXQ09OTkVDVElPTl9RVUFMSVRZX1BPT1IQAhIZChVDT05ORUNUSU9OX1FVQUxJVFlfT0sQAxIbChdDT05ORUNUSU9OX1FVQUxJVFlfR09PRBAEEiAKHENPTk5FQ1RJT05fUVVBTElUWV9FWENFTExFTlQQBSqFAQoKQ2xpZW50VHlwZRIbChdDTElFTlRfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NMSUVOVF9UWVBFX1dFQhABEhMKD0NMSUVOVF9UWVBFX0lPUxACEhcKE0NMSUVOVF9UWVBFX0FORFJPSUQQAxIXChNDTElFTlRfVFlQRV9VTktOT1dOEARiBnByb3RvMw",[a.file_google_protobuf_timestamp,o,l,d]);var h=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.OFFLINE=1]="OFFLINE",e[e.ONLINE=2]="ONLINE",e[e.PLAYING=3]="PLAYING",e))(h||{}),p=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.OFFLINE=1]="OFFLINE",e[e.ONLINE=2]="ONLINE",e))(p||{}),m=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.PLAYING=2]="PLAYING",e))(m||{}),f=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.OFFLINE=1]="OFFLINE",e[e.POOR=2]="POOR",e[e.OK=3]="OK",e[e.GOOD=4]="GOOD",e[e.EXCELLENT=5]="EXCELLENT",e))(f||{}),g=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WEB=1]="WEB",e[e.IOS=2]="IOS",e[e.ANDROID=3]="ANDROID",e[e.UNKNOWN=4]="UNKNOWN",e))(g||{})},2045:function(e,t,n){"use strict";n.d(t,{KK:function(){return s},sA:function(){return l}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("CipjaGVzc2NvbS9wcm90b19vcHRpb25zL2FwaS92MS9zY29wZXMucHJvdG8SHWNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxKqUCCgVTY29wZRIVChFTQ09QRV9VTlNQRUNJRklFRBAAEjkKC1NDT1BFX0NIRVNTEGQaKOq3LAZjaGVzcy7ytywaVXNlIGFsbCBDaGVzcy5jb20gZmVhdHVyZXMSQAoLU0NPUEVfR0FNRVMQ2AQaLuq3LAtjaGVzcy5nYW1lc/K3LBtWaWV3IGFuZCBtYW5hZ2UgY2hlc3MgZ2FtZXMSRgoMU0NPUEVfVEhFTUVTEIQHGjPqtywVY2hlc3Muc2V0dGluZ3MudGhlbWVz8rcsFlZpZXcgYW5kIG1hbmFnZSB0aGVtZXMSQAoNU0NPUEVfU1VQUE9SVBCQThos6rcsDWNoZXNzLnN1cHBvcnTytywXU3VwcG9ydCBDaGVzcy5jb20gdXNlcnM6RQoKc2NvcGVfbmFtZRIhLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zGP3GBSABKAlSCXNjb3BlTmFtZYgBATpTChFzY29wZV9kZXNjcmlwdGlvbhIhLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zGP7GBSABKAlSEHNjb3BlRGVzY3JpcHRpb26IAQFiBnByb3RvMw",[a.file_google_protobuf_descriptor]);var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHESS=100]="CHESS",e[e.GAMES=600]="GAMES",e[e.THEMES=900]="THEMES",e[e.SUPPORT=1e4]="SUPPORT",e))(i||{});let s=(0,r.fileDesc)("Ci9jaGVzc2NvbS9wcm90b19vcHRpb25zL2FwaS92MS9hcGlfb3B0aW9ucy5wcm90bxIdY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEiCwoJQXBpTm9BdXRoIhYKFEFwaVNlY3VyaXR5QmFzaWNBdXRoIhcKFUFwaVNlY3VyaXR5QmVhcmVyQXV0aCJXChVBcGlTZWN1cml0eUFwaUtleUF1dGgSEwoGaGVhZGVyGAEgASgJSACIAQESEwoGY29va2llGAIgASgJSAGIAQFCCQoHX2hlYWRlckIJCgdfY29va2llIt0CChtBcGlBdXRoZW50aWNhdGlvbkRlZmluaXRpb24SOwoHbm9fYXV0aBgBIAEoCzIoLmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLkFwaU5vQXV0aEgAEkkKCmJhc2ljX2F1dGgYAiABKAsyMy5jaGVzc2NvbS5wcm90b19vcHRpb25zLmFwaS52MS5BcGlTZWN1cml0eUJhc2ljQXV0aEgAEksKC2JlYXJlcl9hdXRoGAMgASgLMjQuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuQXBpU2VjdXJpdHlCZWFyZXJBdXRoSAASTAoMYXBpX2tleV9hdXRoGAQgASgLMjQuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuQXBpU2VjdXJpdHlBcGlLZXlBdXRoSAASEwoLZGVzY3JpcHRpb24YBSABKAlCBgoEYXV0aCJ8ChdBcGlBdXRoZW50aWNhdGlvbk9wdGlvbhJOCgpkZWZpbml0aW9uGAEgAygLMjouY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuQXBpQXV0aGVudGljYXRpb25EZWZpbml0aW9uEhEKCXJlZmVyZW5jZRgCIAMoCSKcAQoTQXBpU2VydmVyRGVmaW5pdGlvbhILCgN1cmwYASABKAkSGAoLZGVzY3JpcHRpb24YAiABKAlIAIgBARJOCg5hdXRoZW50aWNhdGlvbhgDIAMoCzI2LmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLkFwaUF1dGhlbnRpY2F0aW9uT3B0aW9uQg4KDF9kZXNjcmlwdGlvbiJsCg9BcGlTZXJ2ZXJPcHRpb24SRgoKZGVmaW5pdGlvbhgBIAMoCzIyLmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLkFwaVNlcnZlckRlZmluaXRpb24SEQoJcmVmZXJlbmNlGAIgAygJIkkKEkFwaVNlcnZpY2VNZXRhZGF0YRIbChNpc19wbGF0Zm9ybV9zZXJ2aWNlGAEgASgIEhYKDmlzX21jcF9zZXJ2aWNlGAIgASgIItgCCgpBcGlPcHRpb25zEhMKBnByZWZpeBgBIAEoCUgAiAEBEkMKBnNlcnZlchgCIAEoCzIuLmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLkFwaVNlcnZlck9wdGlvbkgBiAEBEk4KDmF1dGhlbnRpY2F0aW9uGAMgAygLMjYuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuQXBpQXV0aGVudGljYXRpb25PcHRpb24SSAoIbWV0YWRhdGEYBCABKAsyMS5jaGVzc2NvbS5wcm90b19vcHRpb25zLmFwaS52MS5BcGlTZXJ2aWNlTWV0YWRhdGFIAogBARIzCgVzY29wZRgFIAMoDjIkLmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLlNjb3BlQgkKB19wcmVmaXhCCQoHX3NlcnZlckILCglfbWV0YWRhdGE6eAoPc2VydmljZV9vcHRpb25zEh8uZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zGPjGBSABKAsyKS5jaGVzc2NvbS5wcm90b19vcHRpb25zLmFwaS52MS5BcGlPcHRpb25zUg5zZXJ2aWNlT3B0aW9uc4gBATpvCgxmaWxlX29wdGlvbnMSHC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMY+cYFIAEoCzIpLmNoZXNzY29tLnByb3RvX29wdGlvbnMuYXBpLnYxLkFwaU9wdGlvbnNSC2ZpbGVPcHRpb25ziAEBOnUKD3BhY2thZ2Vfb3B0aW9ucxIcLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucxj6xgUgASgLMikuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuQXBpT3B0aW9uc1IOcGFja2FnZU9wdGlvbnOIAQE6XAoFc2NvcGUSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxj7xgUgAygOMiQuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5hcGkudjEuU2NvcGVSBXNjb3BlYgZwcm90bzM",[a.file_google_protobuf_descriptor,o]),l=(0,r.extDesc)(s,1)},4753:function(e,t,n){"use strict";n.d(t,{Dj:function(){return c},HS:function(){return o},kK:function(){return d},rh:function(){return l}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("CjRjaGVzc2NvbS9wcm90b19vcHRpb25zL2V2ZW50cy92MS9ldmVudF9vcHRpb25zLnByb3RvEiBjaGVzc2NvbS5wcm90b19vcHRpb25zLmV2ZW50cy52MSLUBAoPRXZlbnREZWZpbml0aW9uEhEKBG5hbWUYASABKAlIAIgBARJGCghjYXRlZ29yeRgCIAEoDjIvLmNoZXNzY29tLnByb3RvX29wdGlvbnMuZXZlbnRzLnYxLkV2ZW50Q2F0ZWdvcnlIAYgBARI+CgR0eXBlGAMgASgOMisuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5ldmVudHMudjEuRXZlbnRUeXBlSAKIAQESPQoGZnVubmVsGAQgASgOMiguY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5ldmVudHMudjEuRnVubmVsSAOIAQESGwoOaW50ZXJmYWNlX25hbWUYBSABKAlIBIgBARIZCgxlbGVtZW50X25hbWUYBiABKAlIBYgBARIaCg12MV9ldmVudF9uYW1lGAcgASgJSAaIAQESYgoRc3RhdGljX3Byb3BlcnRpZXMYCCADKAsyRy5jaGVzc2NvbS5wcm90b19vcHRpb25zLmV2ZW50cy52MS5FdmVudERlZmluaXRpb24uU3RhdGljUHJvcGVydGllc0VudHJ5Gk8KFVN0YXRpY1Byb3BlcnRpZXNFbnRyeRILCgNrZXkYASABKAkSJQoFdmFsdWUYAiABKAsyFi5nb29nbGUucHJvdG9idWYuVmFsdWU6AjgBQgcKBV9uYW1lQgsKCV9jYXRlZ29yeUIHCgVfdHlwZUIJCgdfZnVubmVsQhEKD19pbnRlcmZhY2VfbmFtZUIPCg1fZWxlbWVudF9uYW1lQhAKDl92MV9ldmVudF9uYW1lIhwKGkNvbnRleHRFeHRlbnNpb25EZWZpbml0aW9uKqgBCg1FdmVudENhdGVnb3J5Eh4KGkVWRU5UX0NBVEVHT1JZX1VOU1BFQ0lGSUVEEAASHQoZRVZFTlRfQ0FURUdPUllfSU1QUkVTU0lPThABEh4KGkVWRU5UX0NBVEVHT1JZX1VTRVJfQUNUSU9OEAISIAocRVZFTlRfQ0FURUdPUllfU0VSVkVSX0FDVElPThADEhYKEkVWRU5UX0NBVEVHT1JZX0xPRxAEKv8DCglFdmVudFR5cGUSGgoWRVZFTlRfVFlQRV9VTlNQRUNJRklFRBAAEhkKFUVWRU5UX1RZUEVfSU1QUkVTU0lPThABEh8KG0VWRU5UX1RZUEVfSU5URVJGQUNFX09QRU5FRBACEh8KG0VWRU5UX1RZUEVfSU5URVJGQUNFX0NMT1NFRBADEhsKF0VWRU5UX1RZUEVfQlVUVE9OX0NMSUNLEAQSGQoVRVZFTlRfVFlQRV9URVhUX0VOVFJZEAUSGwoXRVZFTlRfVFlQRV9NT0RBTF9PUEVORUQQBhIgChxFVkVOVF9UWVBFX05PVElGSUNBVElPTl9TRU5UEAcSGwoXRVZFTlRfVFlQRV9MSU5LX0NMSUNLRUQQCBIiCh5FVkVOVF9UWVBFX05PVElGSUNBVElPTl9PUEVORUQQCRIaChZFVkVOVF9UWVBFX0dBTUVfQUNUSU9OEAoSKAokRVZFTlRfVFlQRV9VU0VSX1NUQVRVU19TWVNURU1fQUNUSU9OEAsSGwoXRVZFTlRfVFlQRV9NT0RBTF9DTE9TRUQQDBIcChhFVkVOVF9UWVBFX1NPQ0lBTF9BQ1RJT04QDRIjCh9FVkVOVF9UWVBFX05PVElGSUNBVElPTl9DTElDS0VEEA4SGwoXRVZFTlRfVFlQRV9VTlNVQlNDUklCRUQQDyqyBQoGRnVubmVsEhYKEkZVTk5FTF9VTlNQRUNJRklFRBAAEhwKGEZVTk5FTF9SRUNPTU1FTkRFRF9NQVRDSBABEhEKDUZVTk5FTF9TSUdOVVAQAhIWChJGVU5ORUxfR0FNRV9DUkVBVEUQAxIWChJGVU5ORUxfR0FNRV9SRVZJRVcQBBISCg5GVU5ORUxfUFVaWkxFUxAFEhIKDkZVTk5FTF9GUklFTkRTEAYSDwoLRlVOTkVMX0hPTUUQBxIXChNGVU5ORUxfR0FNRV9BUkNISVZFEAgSEgoORlVOTkVMX1BST0ZJTEUQCRITCg9GVU5ORUxfR0FNRVBMQVkQChIOCgpGVU5ORUxfQ1JNEAsSFQoRRlVOTkVMX1BMQVlfQ09BQ0gQDBITCg9GVU5ORUxfQ09OVEFDVFMQDRISCg5GVU5ORUxfTEVTU09OUxAOEhIKDkZVTk5FTF9DT1VSU0VTEA8SEAoMRlVOTkVMX0xPR0lOEBASDwoLRlVOTkVMX0JPVFMQERITCg9GVU5ORUxfUEFZTUVOVFMQEhIVChFGVU5ORUxfQ0hBTExFTkdFUxATEg8KC0ZVTk5FTF9VU0VSEBQSGwoXRlVOTkVMX0FERF9QSE9ORV9OVU1CRVIQFRITCg9GVU5ORUxfU0VUVElOR1MQFhIeChpGVU5ORUxfRE9XTkxPQURfTU9CSUxFX0FQUBAXEhIKDkZVTk5FTF9NRVNTQUdFEBgSEQoNRlVOTkVMX1NPQ0lBTBAZEhIKDkZVTk5FTF9TVFJFQUtTEBoSFQoRRlVOTkVMX09OQk9BUkRJTkcQGxIXChNGVU5ORUxfTU9ORVRJWkFUSU9OEBwSEAoMRlVOTkVMX0lOREVYEB0SDwoLRlVOTkVMX0NIQVQQHhIQCgxGVU5ORUxfQ09BQ0gQHzqCAQoQZXZlbnRfZGVmaW5pdGlvbhIfLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucxi4jgMgASgLMjEuY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5ldmVudHMudjEuRXZlbnREZWZpbml0aW9uUg9ldmVudERlZmluaXRpb26IAQE6jwEKEWNvbnRleHRfZXh0ZW5zaW9uEh8uZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zGLqOAyABKAsyPC5jaGVzc2NvbS5wcm90b19vcHRpb25zLmV2ZW50cy52MS5Db250ZXh0RXh0ZW5zaW9uRGVmaW5pdGlvblIQY29udGV4dEV4dGVuc2lvbogBATpoCgZmdW5uZWwSIS5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucxi4jgMgASgOMiguY2hlc3Njb20ucHJvdG9fb3B0aW9ucy5ldmVudHMudjEuRnVubmVsUgZmdW5uZWyIAQE6PgoGcmVuYW1lEiEuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMYuY4DIAEoCVIGcmVuYW1liAEBOlMKD2FtcGxpdHVkZV92YWx1ZRIhLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zGLqOAyABKAlCAhgBUg5hbXBsaXR1ZGVWYWx1ZYgBATo8CgV2YWx1ZRIhLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zGLuOAyABKAlSBXZhbHVliAEBOkAKCWludGVyZmFjZRIdLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMYuI4DIAEoCFIJaW50ZXJmYWNliAEBOjwKB2VsZW1lbnQSHS5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zGLmOAyABKAhSB2VsZW1lbnSIAQE6NgoEbmFtZRIdLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMYuo4DIAEoCVIEbmFtZYgBATpOChFzZXRfdXNlcl9wcm9wZXJ0eRIdLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMYu44DIAEoCFIPc2V0VXNlclByb3BlcnR5iAEBOlAKEnVzZXJfcHJvcGVydHlfbmFtZRIdLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMYvI4DIAEoCVIQdXNlclByb3BlcnR5TmFtZYgBAWIGcHJvdG8z",[a.file_google_protobuf_descriptor,a.file_google_protobuf_struct]);var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.IMPRESSION=1]="IMPRESSION",e[e.USER_ACTION=2]="USER_ACTION",e[e.SERVER_ACTION=3]="SERVER_ACTION",e[e.LOG=4]="LOG",e))(i||{}),s=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.IMPRESSION=1]="IMPRESSION",e[e.INTERFACE_OPENED=2]="INTERFACE_OPENED",e[e.INTERFACE_CLOSED=3]="INTERFACE_CLOSED",e[e.BUTTON_CLICK=4]="BUTTON_CLICK",e[e.TEXT_ENTRY=5]="TEXT_ENTRY",e[e.MODAL_OPENED=6]="MODAL_OPENED",e[e.NOTIFICATION_SENT=7]="NOTIFICATION_SENT",e[e.LINK_CLICKED=8]="LINK_CLICKED",e[e.NOTIFICATION_OPENED=9]="NOTIFICATION_OPENED",e[e.GAME_ACTION=10]="GAME_ACTION",e[e.USER_STATUS_SYSTEM_ACTION=11]="USER_STATUS_SYSTEM_ACTION",e[e.MODAL_CLOSED=12]="MODAL_CLOSED",e[e.SOCIAL_ACTION=13]="SOCIAL_ACTION",e[e.NOTIFICATION_CLICKED=14]="NOTIFICATION_CLICKED",e[e.UNSUBSCRIBED=15]="UNSUBSCRIBED",e))(s||{}),l=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.RECOMMENDED_MATCH=1]="RECOMMENDED_MATCH",e[e.SIGNUP=2]="SIGNUP",e[e.GAME_CREATE=3]="GAME_CREATE",e[e.GAME_REVIEW=4]="GAME_REVIEW",e[e.PUZZLES=5]="PUZZLES",e[e.FRIENDS=6]="FRIENDS",e[e.HOME=7]="HOME",e[e.GAME_ARCHIVE=8]="GAME_ARCHIVE",e[e.PROFILE=9]="PROFILE",e[e.GAMEPLAY=10]="GAMEPLAY",e[e.CRM=11]="CRM",e[e.PLAY_COACH=12]="PLAY_COACH",e[e.CONTACTS=13]="CONTACTS",e[e.LESSONS=14]="LESSONS",e[e.COURSES=15]="COURSES",e[e.LOGIN=16]="LOGIN",e[e.BOTS=17]="BOTS",e[e.PAYMENTS=18]="PAYMENTS",e[e.CHALLENGES=19]="CHALLENGES",e[e.USER=20]="USER",e[e.ADD_PHONE_NUMBER=21]="ADD_PHONE_NUMBER",e[e.SETTINGS=22]="SETTINGS",e[e.DOWNLOAD_MOBILE_APP=23]="DOWNLOAD_MOBILE_APP",e[e.MESSAGE=24]="MESSAGE",e[e.SOCIAL=25]="SOCIAL",e[e.STREAKS=26]="STREAKS",e[e.ONBOARDING=27]="ONBOARDING",e[e.MONETIZATION=28]="MONETIZATION",e[e.INDEX=29]="INDEX",e[e.CHAT=30]="CHAT",e[e.COACH=31]="COACH",e))(l||{});let c=(0,r.extDesc)(o,0),d=(0,r.extDesc)(o,1)},65833:function(e,t,n){"use strict";n.d(t,{PM:function(){return p},XP:function(){return m},RK:function(){return d},pZ:function(){return u},Ad:function(){return f},mw:function(){return E},fd:function(){return h},qh:function(){return g}});var r=n(63656),a=n(4753);let o=(0,r.fileDesc)("CidjaGVzc2NvbS91c2VyL3YxL3VzZXJfc2tpbGxfbGV2ZWwucHJvdG8SEGNoZXNzY29tLnVzZXIudjEqqAEKClNraWxsTGV2ZWwSGwoXU0tJTExfTEVWRUxfVU5TUEVDSUZJRUQQABITCg9TS0lMTF9MRVZFTF9ORVcQARIYChRTS0lMTF9MRVZFTF9CRUdJTk5FUhACEhwKGFNLSUxMX0xFVkVMX0lOVEVSTUVESUFURRADEhgKFFNLSUxMX0xFVkVMX0FEVkFOQ0VEEAQSFgoSU0tJTExfTEVWRUxfRVhQRVJUEAViBnByb3RvMw");var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NEW=1]="NEW",e[e.BEGINNER=2]="BEGINNER",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.ADVANCED=4]="ADVANCED",e[e.EXPERT=5]="EXPERT",e))(i||{}),s=n(70554),l=n(40422);let c=(0,r.fileDesc)("CiZjaGVzc2NvbS9zaWdudXAvdjEvdXNlcl9hY3Rpdml0eS5wcm90bxISY2hlc3Njb20uc2lnbnVwLnYxIq4BChNTaWdudXBCdXR0b25DbGlja2VkEjYKBmJ1dHRvbhgBIAEoDjIgLmNoZXNzY29tLnNpZ251cC52MS5TaWdudXBCdXR0b25CBMjzGAESPAoJaW50ZXJmYWNlGAIgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEludGVyZmFjZUIEwPMYATohwvMYHQoVU2lnbnVwIEJ1dHRvbiBDbGlja2VkEAIYBCACIm8KEFNpZ251cEltcHJlc3Npb24SPAoJaW50ZXJmYWNlGAEgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEludGVyZmFjZUIEwPMYATodwvMYGQoRU2lnbnVwIEltcHJlc3Npb24QAhgBIAIiZAoPU2lnbnVwVGV4dEVudHJ5EjIKBWlucHV0GAEgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cFRleHRJbnB1dDodwvMYGQoRU2lnbnVwIFRleHQgRW50cnkQAhgFIAIiKwoOQXZhdGFyVXBsb2FkZWQ6GcLzGBUKD0F2YXRhciBVcGxvYWRlZBACIAIiRAoTQ291bnRyeUNvZGVTZWxlY3RlZBIMCgRjb2RlGAEgASgJOh/C8xgbChVDb3VudHJ5IENvZGUgU2VsZWN0ZWQQAiACIrUDCg5BY2NvdW50Q3JlYXRlZBJGCgZzb3VyY2UYASABKA4yIC5jaGVzc2NvbS5zaWdudXAudjEuU2lnbnVwU291cmNlQhTS8xgMc2lnblVwTWV0aG9k2PMYARJFCgtza2lsbF9sZXZlbBgCIAEoDjIcLmNoZXNzY29tLnVzZXIudjEuU2tpbGxMZXZlbEIS0vMYCnNraWxsTGV2ZWzY8xgBEh4KEGlzX3NlY29uZF9jaGFuY2UYAyABKAhCBNjzGAESWAoWcmVnaXN0cmF0aW9uX2RhdGVfdGltZRgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBCHNLzGBRyZWdpc3RyYXRpb25EYXRlVGltZdjzGAESPAoVcmVnaXN0cmF0aW9uX3BsYXRmb3JtGAUgASgOMhkuY2hlc3Njb20uYXBpLnYxLlBsYXRmb3JtQgIYARIhChRwaG9uZV9udW1iZXJfY291bnRyeRgQIAEoCUgAiAEBOiDC8xgcChZTaWdudXAgQWNjb3VudCBDcmVhdGVkEAMgAkIXChVfcGhvbmVfbnVtYmVyX2NvdW50cnkiWgoMQWNjb3VudExvZ2luEi8KBnNvdXJjZRgBIAEoDjIfLmNoZXNzY29tLnNpZ251cC52MS5Mb2dpblNvdXJjZToZGAHC8xgTCg1BY2NvdW50IExvZ2luEAMgAiJ8ChhQbGF5ZXJTa2lsbExldmVsU2VsZWN0ZWQSOQoLc2tpbGxfbGV2ZWwYASABKA4yJC5jaGVzc2NvbS5zaWdudXAudjEuU2lnbnVwU2tpbGxMZXZlbDolwvMYIQobUGxheWVyIFNraWxsIExldmVsIFNlbGVjdGVkEAIgAiLOAQojQ29udGludWVXaXRoU2tpbGxMZXZlbEJ1dHRvbkNsaWNrZWQSNgoFY2xpY2sYASABKAsyJy5jaGVzc2NvbS5zaWdudXAudjEuU2lnbnVwQnV0dG9uQ2xpY2tlZBI5Cgtza2lsbF9sZXZlbBgCIAEoDjIkLmNoZXNzY29tLnNpZ251cC52MS5TaWdudXBTa2lsbExldmVsOjTC8xgwCihDb250aW51ZSBXaXRoIFNraWxsIExldmVsIEJ1dHRvbiBDbGlja2VkEAIYBCACInEKHVBsYXllclByZWZlcmVuY2VUaGVtZVNlbGVjdGVkEhAKCHRoZW1lX2lkGAEgASgJEhIKCnRoZW1lX25hbWUYAiABKAk6KsLzGCYKIFBsYXllciBQcmVmZXJlbmNlIFRoZW1lIFNlbGVjdGVkEAIgAiK0AQoeQ29udGludWVXaXRoVGhlbWVCdXR0b25DbGlja2VkEjwKBWNsaWNrGAEgASgLMicuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEJ1dHRvbkNsaWNrZWRCBMjzGAESEAoIdGhlbWVfaWQYAiABKAkSEgoKdGhlbWVfbmFtZRgDIAEoCTouwvMYKgoiQ29udGludWUgV2l0aCBUaGVtZSBCdXR0b24gQ2xpY2tlZBACGAQgAiKgAQoOQ29udGFjdHNTeW5jZWQSFwoLdG90YWxfY291bnQYASABKAVCAhgBEhoKDnVwbG9hZGVkX2NvdW50GAIgASgFQgIYARIlChlkaXNjYXJkZWRfdG9vX3Nob3J0X2NvdW50GAMgASgFQgIYARImChpkaXNjYXJkZWRfbm9uX21vYmlsZV9jb3VudBgEIAEoBUICGAE6ChgBwvMYBBADIAIiyQEKEENvbnRhY3RzVXBsb2FkZWQSGwoTdG90YWxfY29udGFjdF9jb3VudBgBIAEoBRIeChZ1cGxvYWRlZF9jb250YWN0X2NvdW50GAIgASgFEiIKGnRvdGFsX2NvbnRhY3RfbWV0aG9kX2NvdW50GAMgASgFEiUKHXVwbG9hZGVkX2NvbnRhY3RfbWV0aG9kX2NvdW50GAQgASgFEiEKGWRpc2NhcmRlZF90b29fc2hvcnRfY291bnQYBSABKAU6ChgBwvMYBBACIAIiNQoQQ29udGFjdHNTZWFyY2hlZBIVCg1mcmllbmRzX2NvdW50GAEgASgFOgoYAcLzGAQQAyACIlgKGkZyaWVuZFJlcXVlc3RCdXR0b25DbGlja2VkEg8KB3VzZXJfaWQYASABKAk6KcLzGCUKHUZyaWVuZCBSZXF1ZXN0IEJ1dHRvbiBDbGlja2VkEAIYBCACInoKGVN1YnNjcmlwdGlvblBlcmlvZFRvZ2dsZWQSNgoGcGVyaW9kGAEgASgOMiYuY2hlc3Njb20uc2lnbnVwLnYxLlN1YnNjcmlwdGlvblBlcmlvZDolwvMYIQobU3Vic2NyaXB0aW9uIFBlcmlvZCBUb2dnbGVkEAIgAiKRAQoVUGhvbmVDb25maXJtU3VjY2VlZGVkEjEKBHN0ZXAYASABKA4yIy5jaGVzc2NvbS5zaWdudXAudjEuU2lnbnVwUGhvbmVTdGVwEhQKDGNvdW50cnlfY29kZRgCIAEoCTovGAHC8xgpCiNTaWdudXAgU3VjY2VzZnVsIFBob25lIENvbmZyaW1hdGlvbhADIAIimgEKElBob25lQ29uZmlybUZhaWxlZBIxCgRzdGVwGAEgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cFBob25lU3RlcBIUCgxjb3VudHJ5X2NvZGUYAiABKAkSDQoFZXJyb3IYAyABKAk6LBgBwvMYJgogU2lnbnVwIEZhaWxlZCBQaG9uZSBDb25mcmltYXRpb24QAyACImUKE1Bob25lTnVtYmVyVmVyaWZpZWQSFAoMY291bnRyeV9jb2RlGAEgASgJEhUKDWF1dG9jb21wbGV0ZWQYAiABKAg6IRgBwvMYGwoVUGhvbmUgTnVtYmVyIFZlcmlmaWVkEAIgAiJOCh5Ob3RpZmljYXRpb25zUGVybWlzc2lvbkdyYW50ZWQ6LBgBwvMYJgogTm90aWZpY2F0aW9ucyBQZXJtaXNzaW9uIEdyYW50ZWQQAiACIkIKGUNvbnRhY3RzUGVybWlzc2lvbkdyYW50ZWQ6JcLzGCEKG0NvbnRhY3RzIFBlcm1pc3Npb24gR3JhbnRlZBACIAIiuAEKEFNpZ251cEFsZXJ0U2hvd24SPAoJaW50ZXJmYWNlGAEgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEludGVyZmFjZUIEwPMYARI3CgphbGVydF90eXBlGAIgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEFsZXJ0VHlwZRINCgVsYWJlbBgDIAEoCToewvMYGgoSU2lnbnVwIEFsZXJ0IFNob3duEAIYASACIlwKEFNpZ251cFdhbGxWaWV3ZWQSPAoJaW50ZXJmYWNlGAEgASgOMiMuY2hlc3Njb20uc2lnbnVwLnYxLlNpZ251cEludGVyZmFjZUIEwPMYAToKwvMYBhABGAEgAiJGCh5TaWdudXBTdGVwU2hvd25DaG9vc2VZb3VyQ29hY2gSGAoQZGVmYXVsdF9jb2FjaF9pZBgBIAEoCToKwvMYBhACGAEgAiJIChNTaWdudXBDb2FjaFNlbGVjdGVkEhAKCGNvYWNoX2lkGAEgASgJOh/C8xgbChVTaWdudXAgQ29hY2ggU2VsZWN0ZWQQAiACIoMBCh5Db250aW51ZVdpdGhDb2FjaEJ1dHRvbkNsaWNrZWQSGQoRc2VsZWN0ZWRfY29hY2hfaWQYASABKAkSGAoQZGVmYXVsdF9jb2FjaF9pZBgCIAEoCToswvMYKAoiQ29udGludWUgV2l0aCBDb2FjaCBCdXR0b24gQ2xpY2tlZBACIAIqzQUKDFNpZ251cEJ1dHRvbhIdChlTSUdOVVBfQlVUVE9OX1VOU1BFQ0lGSUVEEAASGAoUU0lHTlVQX0JVVFRPTl9TSUdOVVAQARIXChNTSUdOVVBfQlVUVE9OX0xPR0lOEAISHwobU0lHTlVQX0JVVFRPTl9QTEFZX0FTX0dVRVNUEAMSFgoSU0lHTlVQX0JVVFRPTl9TS0lQEAQSGgoWU0lHTlVQX0JVVFRPTl9DT05USU5VRRAFEiUKIVNJR05VUF9CVVRUT05fQ09OVElOVUVfV0lUSF9FTUFJTBAGEiUKIVNJR05VUF9CVVRUT05fQ09OVElOVUVfV0lUSF9QSE9ORRAHEiYKIlNJR05VUF9CVVRUT05fQ09OVElOVUVfV0lUSF9HT09HTEUQCBIlCiFTSUdOVVBfQlVUVE9OX0NPTlRJTlVFX1dJVEhfQVBQTEUQCRIoCiRTSUdOVVBfQlVUVE9OX0NPTlRJTlVFX1dJVEhfRkFDRUJPT0sQChIqCiZTSUdOVVBfQlVUVE9OX1JFU0VORF9DT05GSVJNQVRJT05fQ09ERRALEiAKHFNJR05VUF9CVVRUT05fQUxMT1dfQ09OVEFDVFMQDBIiCh5TSUdOVVBfQlVUVE9OX0ZBQ0VCT09LX0ZSSUVORFMQDRIeChpTSUdOVVBfQlVUVE9OX0VNQUlMX0lOVklURRAOEh0KGVNJR05VUF9CVVRUT05fU0VORF9JTlZJVEUQDxIeChpTSUdOVVBfQlVUVE9OX1JFREVFTV9UUklBTBAQEh8KG1NJR05VUF9CVVRUT05fVVBMT0FEX0FWQVRBUhAREiUKIVNJR05VUF9CVVRUT05fQUxMT1dfTk9USUZJQ0FUSU9OUxASEhYKElNJR05VUF9CVVRUT05fQkFDSxATEh4KGlNJR05VUF9CVVRUT05fUkVERUVNX09GRkVSEBQq8gkKD1NpZ251cEludGVyZmFjZRIgChxTSUdOVVBfSU5URVJGQUNFX1VOU1BFQ0lGSUVEEAASGgoWU0lHTlVQX0lOVEVSRkFDRV9JTkRFWBABEiAKHFNJR05VUF9JTlRFUkZBQ0VfU0tJTExfTEVWRUwQAhIkCiBTSUdOVVBfSU5URVJGQUNFX1BFUlNPTkFMSVpBVElPThADEiwKKFNJR05VUF9JTlRFUkZBQ0VfRU5URVJfWU9VUl9QSE9ORV9OVU1CRVIQBBIoCiRTSUdOVVBfSU5URVJGQUNFX1NFTEVDVF9DT1VOVFJZX0NPREUQBRIlCiFTSUdOVVBfSU5URVJGQUNFX0VOVEVSX1lPVVJfRU1BSUwQBhIyCi5TSUdOVVBfSU5URVJGQUNFX0VOVEVSX1lPVVJfRU1BSUxfQU5EX1BBU1NXT1JEEAcSUwolU0lHTlVQX0lOVEVSRkFDRV9FTlRFUl9ZT1VSX1BBU1NPV09SRBAIGijK8xgkU0lHTlVQX0lOVEVSRkFDRV9FTlRFUl9ZT1VSX1BBU1NXT1JEEhoKFlNJR05VUF9JTlRFUkZBQ0VfVEhFTUUQCRIjCh9TSUdOVVBfSU5URVJGQUNFX0FMTE9XX0NPTlRBQ1RTEAoSIwofU0lHTlVQX0lOVEVSRkFDRV9DT05UQUNUU19GT1VORBALEiYKIlNJR05VUF9JTlRFUkZBQ0VfRklORF9NT1JFX0ZSSUVORFMQDBItCilTSUdOVVBfSU5URVJGQUNFX0lOVklURV9FWFRFUk5BTF9DT05UQUNUUxANEiUKIVNJR05VUF9JTlRFUkZBQ0VfRkFDRUJPT0tfRlJJRU5EUxAOEiEKHVNJR05VUF9JTlRFUkZBQ0VfUkVERUVNX1RSSUFMEA8SIgoeU0lHTlVQX0lOVEVSRkFDRV9OT1RJRklDQVRJT05TEBASJgoiU0lHTlVQX0lOVEVSRkFDRV9DT05GSVJNQVRJT05fQ09ERRAREh0KGVNJR05VUF9JTlRFUkZBQ0VfVVNFUk5BTUUQEhImCiJTSUdOVVBfSU5URVJGQUNFX01PREFMX1NLSUxMX0xFVkVMEBMSIQodU0lHTlVQX0lOVEVSRkFDRV9NT0RBTF9TSUdOVVAQFBIyCi5TSUdOVVBfSU5URVJGQUNFX01PREFMX1NJR05fVVBfRk9SX0ZVTExfQUNDRVNTEBUSGgoWU0lHTlVQX0lOVEVSRkFDRV9MT0dJThAWEhwKGFNJR05VUF9JTlRFUkZBQ0VfTkFWX0JBUhAXEhkKFVNJR05VUF9JTlRFUkZBQ0VfSE9NRRAYEigKJFNJR05VUF9JTlRFUkZBQ0VfRU5URVJfWU9VUl9QQVNTV09SRBAZEikKJVNJR05VUF9JTlRFUkZBQ0VfQ0hPT1NFX1NJR05VUF9NRVRIT0QQGhIgChxTSUdOVVBfSU5URVJGQUNFX1NJR05VUF9XQUxMEBsSJAogU0lHTlVQX0lOVEVSRkFDRV9MRVNTT05fQ09NUExFVEUQHBIhCh1TSUdOVVBfSU5URVJGQUNFX1JFREVFTV9PRkZFUhAdEiYKIlNJR05VUF9JTlRFUkZBQ0VfQ0hPT1NFX1lPVVJfQ09BQ0gQHhIjCh9TSUdOVVBfSU5URVJGQUNFX0ZJUlNUX0FQUF9PUEVOEB8qpQIKD1NpZ251cFRleHRJbnB1dBIhCh1TSUdOVVBfVEVYVF9JTlBVVF9VTlNQRUNJRklFRBAAEiIKHlNJR05VUF9URVhUX0lOUFVUX1BIT05FX05VTUJFUhABEhsKF1NJR05VUF9URVhUX0lOUFVUX0VNQUlMEAISHgoaU0lHTlVQX1RFWFRfSU5QVVRfUEFTU1dPUkQQAxInCiNTSUdOVVBfVEVYVF9JTlBVVF9DT05GSVJNQVRJT05fQ09ERRAEEh4KGlNJR05VUF9URVhUX0lOUFVUX1VTRVJOQU1FEAUSIgoeU0lHTlVQX1RFWFRfSU5QVVRfQ09VTlRSWV9DT0RFEAYSIQodU0lHTlVQX1RFWFRfSU5QVVRfU0VBUkNIX1VTRVIQByquAQoMU2lnbnVwU291cmNlEh0KGVNJR05VUF9TT1VSQ0VfVU5TUEVDSUZJRUQQABIXChNTSUdOVVBfU09VUkNFX0VNQUlMEAESFwoTU0lHTlVQX1NPVVJDRV9QSE9ORRACEhoKFlNJR05VUF9TT1VSQ0VfRkFDRUJPT0sQAxIYChRTSUdOVVBfU09VUkNFX0dPT0dMRRAEEhcKE1NJR05VUF9TT1VSQ0VfQVBQTEUQBSrGAQoLTG9naW5Tb3VyY2USHAoYTE9HSU5fU09VUkNFX1VOU1BFQ0lGSUVEEAASGQoVTE9HSU5fU09VUkNFX1VTRVJOQU1FEAESFgoSTE9HSU5fU09VUkNFX0VNQUlMEAISFgoSTE9HSU5fU09VUkNFX1BIT05FEAMSGQoVTE9HSU5fU09VUkNFX0ZBQ0VCT09LEAQSFwoTTE9HSU5fU09VUkNFX0dPT0dMRRAFEhYKEkxPR0lOX1NPVVJDRV9BUFBMRRAGGgIYASq9AQoQU2lnbnVwU2tpbGxMZXZlbBIiCh5TSUdOVVBfU0tJTExfTEVWRUxfVU5TUEVDSUZJRUQQABIaChZTSUdOVVBfU0tJTExfTEVWRUxfTkVXEAESHwobU0lHTlVQX1NLSUxMX0xFVkVMX0JFR0lOTkVSEAISIwofU0lHTlVQX1NLSUxMX0xFVkVMX0lOVEVSTUVESUFURRADEh8KG1NJR05VUF9TS0lMTF9MRVZFTF9BRFZBTkNFRBAEGgIYASp6ChJTdWJzY3JpcHRpb25QZXJpb2QSIwofU1VCU0NSSVBUSU9OX1BFUklPRF9VTlNQRUNJRklFRBAAEh4KGlNVQlNDUklQVElPTl9QRVJJT0RfWUVBUkxZEAESHwobU1VCU0NSSVBUSU9OX1BFUklPRF9NT05USExZEAIqugEKD1NpZ251cFBob25lU3RlcBIhCh1TSUdOVVBfUEhPTkVfU1RFUF9VTlNQRUNJRklFRBAAEiYKIlNJR05VUF9QSE9ORV9TVEVQX1BIT05FX1ZBTElEQVRJT04QARIpCiVTSUdOVVBfUEhPTkVfU1RFUF9QSE9ORV9DT0RFX0RFTElWRVJZEAISLQopU0lHTlVQX1BIT05FX1NURVBfUEhPTkVfQ09ERV9DT05GSVJNQVRJT04QAxoCGAEq3AYKD1NpZ251cEFsZXJ0VHlwZRIhCh1TSUdOVVBfQUxFUlRfVFlQRV9VTlNQRUNJRklFRBAAEiQKIFNJR05VUF9BTEVSVF9UWVBFX1VTRVJOQU1FX0VNUFRZEAESKAokU0lHTlVQX0FMRVJUX1RZUEVfVVNFUk5BTUVfVE9PX1NIT1JUEAISJwojU0lHTlVQX0FMRVJUX1RZUEVfVVNFUk5BTUVfVE9PX0xPTkcQAxIkCiBTSUdOVVBfQUxFUlRfVFlQRV9VU0VSTkFNRV9UQUtFThAEEiYKIlNJR05VUF9BTEVSVF9UWVBFX1VTRVJOQU1FX0lOVkFMSUQQBRIkCiBTSUdOVVBfQUxFUlRfVFlQRV9QQVNTV09SRF9FTVBUWRAGEiMKH1NJR05VUF9BTEVSVF9UWVBFX1BBU1NXT1JEX1dFQUsQBxIhCh1TSUdOVVBfQUxFUlRfVFlQRV9FTUFJTF9UQUtFThAIEiMKH1NJR05VUF9BTEVSVF9UWVBFX0VNQUlMX0lOVkFMSUQQCRIvCitTSUdOVVBfQUxFUlRfVFlQRV9WRVJJRklDQVRJT05fQ09ERV9FWFBJUkVEEAoSKAokU0lHTlVQX0FMRVJUX1RZUEVfUEhPTkVfTlVNQkVSX1RBS0VOEAsSKgomU0lHTlVQX0FMRVJUX1RZUEVfUEhPTkVfTlVNQkVSX0lOVkFMSUQQDBIvCitTSUdOVVBfQUxFUlRfVFlQRV9QSE9ORV9OVU1CRVJfSU5WQUxJRF9UWVBFEA0SJgoiU0lHTlVQX0FMRVJUX1RZUEVfU01TX0lOVkFMSURfQ09ERRAOEiIKHlNJR05VUF9BTEVSVF9UWVBFX0dPT0dMRV9FUlJPUhAPEiQKIFNJR05VUF9BTEVSVF9UWVBFX0ZBQ0VCT09LX0VSUk9SEBASIQodU0lHTlVQX0FMRVJUX1RZUEVfQVBQTEVfRVJST1IQERIoCiRTSUdOVVBfQUxFUlRfVFlQRV9FTUFJTF9JTExFR0lUSU1BVEUQEhIpCiVTSUdOVVBfQUxFUlRfVFlQRV9FTUFJTF9CQU5ORURfRE9NQUlOEBMSKgomU0lHTlVQX0FMRVJUX1RZUEVfRU1BSUxfTElNSVRfRVhDRUVERUQQFGIGcHJvdG8z",[a.HS,o,s.Gu,l.file_google_protobuf_timestamp]),d=(0,r.messageDesc)(c,0),u=(0,r.messageDesc)(c,1),h=(0,r.messageDesc)(c,2),p=(0,r.messageDesc)(c,7);var m=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SIGNUP=1]="SIGNUP",e[e.LOGIN=2]="LOGIN",e[e.PLAY_AS_GUEST=3]="PLAY_AS_GUEST",e[e.SKIP=4]="SKIP",e[e.CONTINUE=5]="CONTINUE",e[e.CONTINUE_WITH_EMAIL=6]="CONTINUE_WITH_EMAIL",e[e.CONTINUE_WITH_PHONE=7]="CONTINUE_WITH_PHONE",e[e.CONTINUE_WITH_GOOGLE=8]="CONTINUE_WITH_GOOGLE",e[e.CONTINUE_WITH_APPLE=9]="CONTINUE_WITH_APPLE",e[e.CONTINUE_WITH_FACEBOOK=10]="CONTINUE_WITH_FACEBOOK",e[e.RESEND_CONFIRMATION_CODE=11]="RESEND_CONFIRMATION_CODE",e[e.ALLOW_CONTACTS=12]="ALLOW_CONTACTS",e[e.FACEBOOK_FRIENDS=13]="FACEBOOK_FRIENDS",e[e.EMAIL_INVITE=14]="EMAIL_INVITE",e[e.SEND_INVITE=15]="SEND_INVITE",e[e.REDEEM_TRIAL=16]="REDEEM_TRIAL",e[e.UPLOAD_AVATAR=17]="UPLOAD_AVATAR",e[e.ALLOW_NOTIFICATIONS=18]="ALLOW_NOTIFICATIONS",e[e.BACK=19]="BACK",e[e.REDEEM_OFFER=20]="REDEEM_OFFER",e))(m||{}),f=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INDEX=1]="INDEX",e[e.SKILL_LEVEL=2]="SKILL_LEVEL",e[e.PERSONALIZATION=3]="PERSONALIZATION",e[e.ENTER_YOUR_PHONE_NUMBER=4]="ENTER_YOUR_PHONE_NUMBER",e[e.SELECT_COUNTRY_CODE=5]="SELECT_COUNTRY_CODE",e[e.ENTER_YOUR_EMAIL=6]="ENTER_YOUR_EMAIL",e[e.ENTER_YOUR_EMAIL_AND_PASSWORD=7]="ENTER_YOUR_EMAIL_AND_PASSWORD",e[e.ENTER_YOUR_PASSOWORD=8]="ENTER_YOUR_PASSOWORD",e[e.THEME=9]="THEME",e[e.ALLOW_CONTACTS=10]="ALLOW_CONTACTS",e[e.CONTACTS_FOUND=11]="CONTACTS_FOUND",e[e.FIND_MORE_FRIENDS=12]="FIND_MORE_FRIENDS",e[e.INVITE_EXTERNAL_CONTACTS=13]="INVITE_EXTERNAL_CONTACTS",e[e.FACEBOOK_FRIENDS=14]="FACEBOOK_FRIENDS",e[e.REDEEM_TRIAL=15]="REDEEM_TRIAL",e[e.NOTIFICATIONS=16]="NOTIFICATIONS",e[e.CONFIRMATION_CODE=17]="CONFIRMATION_CODE",e[e.USERNAME=18]="USERNAME",e[e.MODAL_SKILL_LEVEL=19]="MODAL_SKILL_LEVEL",e[e.MODAL_SIGNUP=20]="MODAL_SIGNUP",e[e.MODAL_SIGN_UP_FOR_FULL_ACCESS=21]="MODAL_SIGN_UP_FOR_FULL_ACCESS",e[e.LOGIN=22]="LOGIN",e[e.NAV_BAR=23]="NAV_BAR",e[e.HOME=24]="HOME",e[e.ENTER_YOUR_PASSWORD=25]="ENTER_YOUR_PASSWORD",e[e.CHOOSE_SIGNUP_METHOD=26]="CHOOSE_SIGNUP_METHOD",e[e.SIGNUP_WALL=27]="SIGNUP_WALL",e[e.LESSON_COMPLETE=28]="LESSON_COMPLETE",e[e.REDEEM_OFFER=29]="REDEEM_OFFER",e[e.CHOOSE_YOUR_COACH=30]="CHOOSE_YOUR_COACH",e[e.FIRST_APP_OPEN=31]="FIRST_APP_OPEN",e))(f||{}),g=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PHONE_NUMBER=1]="PHONE_NUMBER",e[e.EMAIL=2]="EMAIL",e[e.PASSWORD=3]="PASSWORD",e[e.CONFIRMATION_CODE=4]="CONFIRMATION_CODE",e[e.USERNAME=5]="USERNAME",e[e.COUNTRY_CODE=6]="COUNTRY_CODE",e[e.SEARCH_USER=7]="SEARCH_USER",e))(g||{}),b=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.EMAIL=1]="EMAIL",e[e.PHONE=2]="PHONE",e[e.FACEBOOK=3]="FACEBOOK",e[e.GOOGLE=4]="GOOGLE",e[e.APPLE=5]="APPLE",e))(b||{}),_=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USERNAME=1]="USERNAME",e[e.EMAIL=2]="EMAIL",e[e.PHONE=3]="PHONE",e[e.FACEBOOK=4]="FACEBOOK",e[e.GOOGLE=5]="GOOGLE",e[e.APPLE=6]="APPLE",e))(_||{}),E=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NEW=1]="NEW",e[e.BEGINNER=2]="BEGINNER",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.ADVANCED=4]="ADVANCED",e))(E||{}),w=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.YEARLY=1]="YEARLY",e[e.MONTHLY=2]="MONTHLY",e))(w||{}),v=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PHONE_VALIDATION=1]="PHONE_VALIDATION",e[e.PHONE_CODE_DELIVERY=2]="PHONE_CODE_DELIVERY",e[e.PHONE_CODE_CONFIRMATION=3]="PHONE_CODE_CONFIRMATION",e))(v||{}),k=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USERNAME_EMPTY=1]="USERNAME_EMPTY",e[e.USERNAME_TOO_SHORT=2]="USERNAME_TOO_SHORT",e[e.USERNAME_TOO_LONG=3]="USERNAME_TOO_LONG",e[e.USERNAME_TAKEN=4]="USERNAME_TAKEN",e[e.USERNAME_INVALID=5]="USERNAME_INVALID",e[e.PASSWORD_EMPTY=6]="PASSWORD_EMPTY",e[e.PASSWORD_WEAK=7]="PASSWORD_WEAK",e[e.EMAIL_TAKEN=8]="EMAIL_TAKEN",e[e.EMAIL_INVALID=9]="EMAIL_INVALID",e[e.VERIFICATION_CODE_EXPIRED=10]="VERIFICATION_CODE_EXPIRED",e[e.PHONE_NUMBER_TAKEN=11]="PHONE_NUMBER_TAKEN",e[e.PHONE_NUMBER_INVALID=12]="PHONE_NUMBER_INVALID",e[e.PHONE_NUMBER_INVALID_TYPE=13]="PHONE_NUMBER_INVALID_TYPE",e[e.SMS_INVALID_CODE=14]="SMS_INVALID_CODE",e[e.GOOGLE_ERROR=15]="GOOGLE_ERROR",e[e.FACEBOOK_ERROR=16]="FACEBOOK_ERROR",e[e.APPLE_ERROR=17]="APPLE_ERROR",e[e.EMAIL_ILLEGITIMATE=18]="EMAIL_ILLEGITIMATE",e[e.EMAIL_BANNED_DOMAIN=19]="EMAIL_BANNED_DOMAIN",e[e.EMAIL_LIMIT_EXCEEDED=20]="EMAIL_LIMIT_EXCEEDED",e))(k||{})},99450:function(e,t,n){"use strict";n.d(t,{BK:function(){return l}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("CiBjaGVzc2NvbS91c2VyL3YxL3VzZXJfdHlwZS5wcm90bxIQY2hlc3Njb20udXNlci52MSpmCghVc2VyVHlwZRIZChVVU0VSX1RZUEVfVU5TUEVDSUZJRUQQABISCg5VU0VSX1RZUEVfVVNFUhABEhMKD1VTRVJfVFlQRV9HVUVTVBACEhYKElVTRVJfVFlQRV9DT01QVVRFUhADYgZwcm90bzM");var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER=1]="USER",e[e.GUEST=2]="GUEST",e[e.COMPUTER=3]="COMPUTER",e))(i||{});let s=(0,r.fileDesc)("CiJjaGVzc2NvbS9mbGFpci92MS9mbGFpcl92aWV3LnByb3RvEhFjaGVzc2NvbS5mbGFpci52MSKAAQoJRmxhaXJWaWV3EgoKAmlkGAEgASgJEjgKBmltYWdlcxgCIAMoCzIoLmNoZXNzY29tLmZsYWlyLnYxLkZsYWlyVmlldy5JbWFnZXNFbnRyeRotCgtJbWFnZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIlgKCVVzZXJGbGFpchIPCgd1c2VyX2lkGAEgASgJEjAKBWZsYWlyGAIgASgLMhwuY2hlc3Njb20uZmxhaXIudjEuRmxhaXJWaWV3SACIAQFCCAoGX2ZsYWlyYgZwcm90bzM"),l=(0,r.fileDesc)("CiBjaGVzc2NvbS91c2VyL3YxL3VzZXJfdmlldy5wcm90bxIQY2hlc3Njb20udXNlci52MSKuBgoIVXNlclZpZXcSCgoCaWQYASABKAkSDwoHdXNlcl9pZBgCIAEoAxIoCgR0eXBlGAMgASgOMhouY2hlc3Njb20udXNlci52MS5Vc2VyVHlwZRIQCgh1c2VybmFtZRgEIAEoCRIXCgpmaXJzdF9uYW1lGAUgASgJSACIAQESFgoJbGFzdF9uYW1lGAYgASgJSAGIAQESGAoLY2hlc3NfdGl0bGUYByABKAlIAogBARIoCgZhdmF0YXIYCCABKAsyGC5jaGVzc2NvbS51c2VyLnYxLkF2YXRhchIwCgVmbGFpchgJIAEoCzIcLmNoZXNzY29tLmZsYWlyLnYxLkZsYWlyVmlld0gDiAEBEhIKCm1lbWJlcnNoaXAYCiABKAkSFAoHY291bnRyeRgLIAEoCUgEiAEBEhUKCHRpbWV6b25lGAwgASgJSAWIAQESMwoKY3JlYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIBogBARIzCgp1cGRhdGVkX2F0GA4gASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcEgHiAEBEhcKCmlzX2VuYWJsZWQYDyABKAhICIgBARIeChFpc19jb250ZW50X2hpZGRlbhgQIAEoCEgJiAEBEhMKC2lzX3N0cmVhbWVyGBEgASgIEhgKC2lzX3ZlcmlmaWVkGBIgASgISAqIAQESLgohY29udGVudF9sYW5ndWFnZV9pbmNsdWRlc19lbmdsaXNoGBMgASgISAuIAQESFgoKZmxhaXJfY29kZRhjIAEoCUICGAFCDQoLX2ZpcnN0X25hbWVCDAoKX2xhc3RfbmFtZUIOCgxfY2hlc3NfdGl0bGVCCAoGX2ZsYWlyQgoKCF9jb3VudHJ5QgsKCV90aW1lem9uZUINCgtfY3JlYXRlZF9hdEINCgtfdXBkYXRlZF9hdEINCgtfaXNfZW5hYmxlZEIUChJfaXNfY29udGVudF9oaWRkZW5CDgoMX2lzX3ZlcmlmaWVkQiQKIl9jb250ZW50X2xhbmd1YWdlX2luY2x1ZGVzX2VuZ2xpc2giMgoGQXZhdGFyEgsKA3VybBgBIAEoCRIbChNoaWdoX3Jlc29sdXRpb25fdXJsGAIgASgJYgZwcm90bzM",[a.file_google_protobuf_timestamp,o,s])},92932:function(e,t,n){"use strict";n.d(t,{Rs:function(){return p}});var r=n(63656),a=n(4753),o=n(41708),i=n(72365),s=n(40422);let l=(0,r.fileDesc)("CiljaGVzc2NvbS9jb250YWN0cy92MS9jb250YWN0X3NvdXJjZS5wcm90bxIUY2hlc3Njb20uY29udGFjdHMudjEq7QEKDUNvbnRhY3RTb3VyY2USHgoaQ09OVEFDVF9TT1VSQ0VfVU5TUEVDSUZJRUQQABIYChRDT05UQUNUX1NPVVJDRV9QSE9ORRABEhgKFENPTlRBQ1RfU09VUkNFX0dNQUlMEAISGwoXQ09OVEFDVF9TT1VSQ0VfRkFDRUJPT0sQAxIZChVDT05UQUNUX1NPVVJDRV9UV0lUQ0gQBBIaChZDT05UQUNUX1NPVVJDRV9ESVNDT1JEEAUSGgoWQ09OVEFDVF9TT1VSQ0VfWU9VVFVCRRAGEhgKFENPTlRBQ1RfU09VUkNFX0FQUExFEAdiBnByb3RvMw");var c=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PHONE=1]="PHONE",e[e.GMAIL=2]="GMAIL",e[e.FACEBOOK=3]="FACEBOOK",e[e.TWITCH=4]="TWITCH",e[e.DISCORD=5]="DISCORD",e[e.YOUTUBE=6]="YOUTUBE",e[e.APPLE=7]="APPLE",e))(c||{});let d=(0,r.fileDesc)("CjtjaGVzc2NvbS9jb250YWN0cy92MS9jb250YWN0X3JlbGF0aW9uc2hpcF9pbnRlcmFjdGlvbi5wcm90bxIUY2hlc3Njb20uY29udGFjdHMudjEi+AEKHkNvbnRhY3RSZWxhdGlvbnNoaXBJbnRlcmFjdGlvbhJVCh5jb250YWN0X3JlbGF0aW9uc2hpcF9kaXJlY3Rpb24YASABKA4yLS5jaGVzc2NvbS5jb250YWN0cy52MS5Db250YWN0UmVsYXRpb25zaGlwVHlwZRI7Cg5jb250YWN0X3NvdXJjZRgCIAEoDjIjLmNoZXNzY29tLmNvbnRhY3RzLnYxLkNvbnRhY3RTb3VyY2USMwoKY3JlYXRlZF9hdBgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIAIgBAUINCgtfY3JlYXRlZF9hdGIGcHJvdG8z",[s.file_google_protobuf_timestamp,l,i.$b]);var u=n(52680);let h=(0,r.fileDesc)("CjJjaGVzc2NvbS91c2VyX3JlbGF0aW9uc2hpcHMvdjEvdXNlcl9hY3Rpdml0eS5wcm90bxIeY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYxIr0ECh9Vc2VySW50ZXJhY3Rpb25Db250ZXh0RXh0ZW5zaW9uEg8KB3VzZXJfaWQYASABKAkSQgoPcHJlc2VuY2Vfc3RhdHVzGAIgASgOMiQuY2hlc3Njb20ucHJlc2VuY2UudjEuUHJlc2VuY2VTdGF0dXNIAIgBARJYChFyZWxhdGlvbnNoaXBfdHlwZRgDIAEoDjI0LmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52Mi5Vc2VyUmVsYXRpb25zaGlwVHlwZUICGAFIAYgBARJZChljb250YWN0X3JlbGF0aW9uc2hpcF90eXBlGAQgASgOMi0uY2hlc3Njb20uY29udGFjdHMudjEuQ29udGFjdFJlbGF0aW9uc2hpcFR5cGVCAhgBSAKIAQESYgoddXNlcl9yZWxhdGlvbnNoaXBfaW50ZXJhY3Rpb24YBSADKAsyOy5jaGVzc2NvbS51c2VyX3JlbGF0aW9uc2hpcHMudjIuVXNlclJlbGF0aW9uc2hpcEludGVyYWN0aW9uEl4KIGNvbnRhY3RfcmVsYXRpb25zaGlwX2ludGVyYWN0aW9uGAYgAygLMjQuY2hlc3Njb20uY29udGFjdHMudjEuQ29udGFjdFJlbGF0aW9uc2hpcEludGVyYWN0aW9uOgTS8xgAQhIKEF9wcmVzZW5jZV9zdGF0dXNCFAoSX3JlbGF0aW9uc2hpcF90eXBlQhwKGl9jb250YWN0X3JlbGF0aW9uc2hpcF90eXBlIj0KG1VzZXJQb3BvdmVyQ29udGV4dEV4dGVuc2lvbhIWCg5yZWNpcGllbnRfdXVpZBgBIAEoCToGGAHS8xgAIrwBCiJSZWxhdGlvbnNoaXBDaGFuZ2VDb250ZXh0RXh0ZW5zaW9uEhgKEHRhcmdldF91c2VyX3V1aWQYASABKAkSIQoUdGFyZ2V0X3VzZXJfdXNlcm5hbWUYAiABKAlIAIgBARIgChNpc19zdWdnZXN0ZWRfZnJpZW5kGAMgASgISAGIAQE6BhgB0vMYAEIXChVfdGFyZ2V0X3VzZXJfdXNlcm5hbWVCFgoUX2lzX3N1Z2dlc3RlZF9mcmllbmQiuwEKJUluY29taW5nRnJpZW5kUmVxdWVzdENvbnRleHRFeHRlbnNpb24SGAoQc2VuZGVyX3VzZXJfdXVpZBgBIAEoCRIhChRzZW5kZXJfdXNlcl91c2VybmFtZRgCIAEoCUgAiAEBEh4KEWZyaWVuZF9yZXF1ZXN0X2lkGAMgASgJSAGIAQE6BhgB0vMYAEIXChVfc2VuZGVyX3VzZXJfdXNlcm5hbWVCFAoSX2ZyaWVuZF9yZXF1ZXN0X2lkYgZwcm90bzM",[a.HS,o.s6,i.$b,d,u.pD]),p=(0,r.messageDesc)(h,0)},41708:function(e,t,n){"use strict";n.d(t,{_c:function(){return s},s6:function(){return o}});var r=n(63656),a=n(40422);let o=(0,r.fileDesc)("Cj1jaGVzc2NvbS91c2VyX3JlbGF0aW9uc2hpcHMvdjIvdXNlcl9yZWxhdGlvbnNoaXBzX21vZGVsLnByb3RvEh5jaGVzc2NvbS51c2VyX3JlbGF0aW9uc2hpcHMudjIi1AEKEFVzZXJSZWxhdGlvbnNoaXASQgoEdHlwZRgBIAEoDjI0LmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52Mi5Vc2VyUmVsYXRpb25zaGlwVHlwZRJMCglkaXJlY3Rpb24YAiABKA4yOS5jaGVzc2NvbS51c2VyX3JlbGF0aW9uc2hpcHMudjIuVXNlclJlbGF0aW9uc2hpcERpcmVjdGlvbhIuCgpjcmVhdGVkX2F0GAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCLAAQofVXNlclJlbGF0aW9uc2hpcFJlcXVlc3RDcml0ZXJpYRJPChFyZWxhdGlvbnNoaXBfdHlwZRgBIAEoDjI0LmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52Mi5Vc2VyUmVsYXRpb25zaGlwVHlwZRJMCglkaXJlY3Rpb24YAiABKA4yOS5jaGVzc2NvbS51c2VyX3JlbGF0aW9uc2hpcHMudjIuVXNlclJlbGF0aW9uc2hpcERpcmVjdGlvbiLzAQobVXNlclJlbGF0aW9uc2hpcEludGVyYWN0aW9uEkIKBHR5cGUYASABKA4yNC5jaGVzc2NvbS51c2VyX3JlbGF0aW9uc2hpcHMudjIuVXNlclJlbGF0aW9uc2hpcFR5cGUSTAoJZGlyZWN0aW9uGAIgASgOMjkuY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYyLlVzZXJSZWxhdGlvbnNoaXBEaXJlY3Rpb24SMwoKY3JlYXRlZF9hdBgDIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIAIgBAUINCgtfY3JlYXRlZF9hdCrEAQoZVXNlclJlbGF0aW9uc2hpcERpcmVjdGlvbhIrCidVU0VSX1JFTEFUSU9OU0hJUF9ESVJFQ1RJT05fVU5TUEVDSUZJRUQQABIoCiRVU0VSX1JFTEFUSU9OU0hJUF9ESVJFQ1RJT05fSU5DT01JTkcQARIoCiRVU0VSX1JFTEFUSU9OU0hJUF9ESVJFQ1RJT05fT1VUR09JTkcQAhImCiJVU0VSX1JFTEFUSU9OU0hJUF9ESVJFQ1RJT05fTVVUVUFMEAMqsgEKFFVzZXJSZWxhdGlvbnNoaXBUeXBlEiYKIlVTRVJfUkVMQVRJT05TSElQX1RZUEVfVU5TUEVDSUZJRUQQABIlCiFVU0VSX1JFTEFUSU9OU0hJUF9UWVBFX0ZSSUVORFNISVAQARIgChxVU0VSX1JFTEFUSU9OU0hJUF9UWVBFX0JMT0NLEAISKQolVVNFUl9SRUxBVElPTlNISVBfVFlQRV9GUklFTkRfUkVRVUVTVBADYgZwcm90bzM",[a.file_google_protobuf_timestamp]);var i=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.INCOMING=1]="INCOMING",e[e.OUTGOING=2]="OUTGOING",e[e.MUTUAL=3]="MUTUAL",e))(i||{}),s=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.FRIENDSHIP=1]="FRIENDSHIP",e[e.BLOCK=2]="BLOCK",e[e.FRIEND_REQUEST=3]="FRIEND_REQUEST",e))(s||{})},12164:function(e,t,n){"use strict";var r;n.d(t,{C:function(){return r}});!function(e){e[e.Canceled=1]="Canceled";e[e.Unknown=2]="Unknown";e[e.InvalidArgument=3]="InvalidArgument";e[e.DeadlineExceeded=4]="DeadlineExceeded";e[e.NotFound=5]="NotFound";e[e.AlreadyExists=6]="AlreadyExists";e[e.PermissionDenied=7]="PermissionDenied";e[e.ResourceExhausted=8]="ResourceExhausted";e[e.FailedPrecondition=9]="FailedPrecondition";e[e.Aborted=10]="Aborted";e[e.OutOfRange=11]="OutOfRange";e[e.Unimplemented=12]="Unimplemented";e[e.Internal=13]="Internal";e[e.Unavailable=14]="Unavailable";e[e.DataLoss=15]="DataLoss";e[e.Unauthenticated=16]="Unauthenticated"}(r||(r={}))},91956:function(e,t,n){"use strict";let r;n.d(t,{X:function(){return codeFromString},s:function(){return codeToString}});var a=n(12164);function codeToString(e){let t=a.C[e];return"string"!=typeof t?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}function codeFromString(e){if(!r){r={};for(let e of Object.values(a.C))"string"!=typeof e&&(r[codeToString(e)]=e)}return r[e]}},97171:function(e,t,n){"use strict";let r,a;n.d(t,{gO:function(){return errorToJson}});function base64Encode(e,t="std"){let n=getEncodeTable(t),r="std"==t,a="",o=0,i,s=0;for(let t=0;t<e.length;t++){i=e[t];switch(o){case 0:a+=n[i>>2];s=(3&i)<<4;o=1;break;case 1:a+=n[s|i>>4];s=(15&i)<<2;o=2;break;case 2:a+=n[s|i>>6];a+=n[63&i];o=0}}if(o){a+=n[s];if(r){a+="=";1==o&&(a+="=")}}return a}function getEncodeTable(e){return r||(a=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("")).slice(0,-2).concat("-","_")),"url"==e?a:r}var o=n(95137),i=n(91956),__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function errorToJson(e,t){let n={code:(0,i.s)(e.code)};return e.rawMessage.length>0&&(n.message=e.rawMessage),e.details.length>0&&(n.details=e.details.map(e=>{if("desc"in e){let n=(0,o.create)(e.desc,e.value),r={type:e.desc.typeName,value:(0,o.toBinary)(e.desc,n)};try{r.debug=(0,o.toJson)(e.desc,n,t)}catch(e){}return r}return e}).map(e=>{var{value:t}=e;return Object.assign(Object.assign({},__rest(e,["value"])),{value:base64Encode(t,"std_raw")})})),n}},54292:function(e,t,n){"use strict";n.d(t,{r:function(){return codeToHttpStatus}});var r=n(12164);function codeToHttpStatus(e){switch(e){case r.C.Canceled:return 499;case r.C.Unknown:return 500;case r.C.InvalidArgument:return 400;case r.C.DeadlineExceeded:return 504;case r.C.NotFound:return 404;case r.C.AlreadyExists:return 409;case r.C.PermissionDenied:return 403;case r.C.ResourceExhausted:return 429;case r.C.FailedPrecondition:return 400;case r.C.Aborted:return 409;case r.C.OutOfRange:return 400;case r.C.Unimplemented:return 501;case r.C.Internal:return 500;case r.C.Unavailable:return 503;case r.C.DataLoss:return 500;case r.C.Unauthenticated:return 401;default:return 500}}},43873:function(e,t,n){"use strict";n.d(t,{KE:function(){return x},YY:function(){return v},CU:function(){return _},bP:function(){return B},Yv:function(){return F},gk:function(){return callOrReturn},T7:function(){return combineTransactionSteps},GG:function(){return escapeForRegEx},Nx:function(){return findChildrenInRange},yQ:function(){return generateJSON},gu:function(){return getAttributes},FF:function(){return getChangedRanges},iI:function(){return getExtensionField},z6:function(){return getMarkAttributes},hO:function(){return getMarksBetween},fl:function(){return getNodeAtPosition},Pg:function(){return getNodeType},QN:function(){return isAtEndOfNode},J_:function(){return isAtStartOfNode},rU:function(){return isNodeActive},Op:function(){return isNodeEmpty},BQ:function(){return isNodeSelection},eE:function(){return isTextSelection},OX:function(){return markInputRule},Zc:function(){return markPasteRule},KV:function(){return mergeAttributes},jT:function(){return nodeInputRule},MG:function(){return posToDOMRect},Yp:function(){return textInputRule},JJ:function(){return textblockTypeInputRule},tG:function(){return wrappingInputRule}});var r=n(42845),a=n(1575),o=n(97352),i=n(57505),s=n(38262);let deleteSelection=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("backward",e):!(n.parentOffset>0))?n:null}let joinBackward=(e,t,n)=>{let a=atBlockStart(e,n);if(!a)return!1;let o=findCutBefore(a);if(!o){let n=a.blockRange(),r=n&&(0,s.jP)(n);return null!=r&&(t&&t(e.tr.lift(n,r).scrollIntoView()),!0)}let l=o.nodeBefore;if(deleteBarrier(e,o,t,-1))return!0;if(0==a.parent.content.size&&(textblockAt(l,"end")||r.nh.isSelectable(l)))for(let n=a.depth;;n--){let c=(0,s.$L)(e.doc,a.before(n),a.after(n),i.Ji.empty);if(c&&c.slice.size<c.to-c.from){if(t){let n=e.tr.step(c);n.setSelection(textblockAt(l,"end")?r.LN.findFrom(n.doc.resolve(n.mapping.map(o.pos,-1)),-1):r.nh.create(n.doc,o.pos-l.nodeSize));t(n.scrollIntoView())}return!0}if(1==n||a.node(n-1).childCount>1)break}return!!l.isAtom&&o.depth==a.depth-1&&(t&&t(e.tr.delete(o.pos-l.nodeSize,o.pos).scrollIntoView()),!0)};function joinTextblocksAround(e,t,n){let a=t.nodeBefore,o=t.pos-1;for(;!a.isTextblock;o--){if(a.type.spec.isolating)return!1;let e=a.lastChild;if(!e)return!1;a=e}let l=t.nodeAfter,c=t.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let e=l.firstChild;if(!e)return!1;l=e}let d=(0,s.$L)(e.doc,o,c,i.Ji.empty);if(!d||d.from!=o||d instanceof s.Ln&&d.slice.size>=c-o)return!1;if(n){let t=e.tr.step(d);t.setSelection(r.U3.create(t.doc,o));n(t.scrollIntoView())}return!0}function textblockAt(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)break}return!1}let selectNodeBackward=(e,t,n)=>{let{$head:a,empty:o}=e.selection,i=a;if(!o)return!1;if(a.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):a.parentOffset>0)return!1;i=findCutBefore(a)}let s=i&&i.nodeBefore;return!!s&&!!r.nh.isSelectable(s)&&(t&&t(e.tr.setSelection(r.nh.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function findCutBefore(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function atBlockEnd(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("forward",e):!(n.parentOffset<n.parent.content.size))?n:null}let joinForward=(e,t,n)=>{let a=atBlockEnd(e,n);if(!a)return!1;let o=findCutAfter(a);if(!o)return!1;let l=o.nodeAfter;if(deleteBarrier(e,o,t,1))return!0;if(0==a.parent.content.size&&(textblockAt(l,"start")||r.nh.isSelectable(l))){let n=(0,s.$L)(e.doc,a.before(),a.after(),i.Ji.empty);if(n&&n.slice.size<n.to-n.from){if(t){let a=e.tr.step(n);a.setSelection(textblockAt(l,"start")?r.LN.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):r.nh.create(a.doc,a.mapping.map(o.pos)));t(a.scrollIntoView())}return!0}}return!!l.isAtom&&o.depth==a.depth-1&&(t&&t(e.tr.delete(o.pos,o.pos+l.nodeSize).scrollIntoView()),!0)},selectNodeForward=(e,t,n)=>{let{$head:a,empty:o}=e.selection,i=a;if(!o)return!1;if(a.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):a.parentOffset<a.parent.content.size)return!1;i=findCutAfter(a)}let s=i&&i.nodeAfter;return!!s&&!!r.nh.isSelectable(s)&&(t&&t(e.tr.setSelection(r.nh.create(e.doc,i.pos)).scrollIntoView()),!0)};function findCutAfter(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}let newlineInCode=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!!n.parent.type.spec.code&&!!n.sameParent(r)&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function defaultBlockAt(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}let exitCode=(e,t)=>{let{$head:n,$anchor:a}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(a))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=defaultBlockAt(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let a=n.after(),o=e.tr.replaceWith(a,a,s.createAndFill());o.setSelection(r.LN.near(o.doc.resolve(a),1));t(o.scrollIntoView())}return!0},createParagraphNear=(e,t)=>{let n=e.selection,{$from:a,$to:o}=n;if(n instanceof r.i5||a.parent.inlineContent||o.parent.inlineContent)return!1;let i=defaultBlockAt(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!a.parentOffset&&o.index()<o.parent.childCount?a:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(r.U3.create(s.doc,n+1));t(s.scrollIntoView())}return!0},liftEmptyBlock=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if((0,s.zy)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),a=r&&(0,s.jP)(r);return null!=a&&(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)},l=function splitBlockAs(e){return(t,n)=>{let{$from:a,$to:o}=t.selection;if(t.selection instanceof r.nh&&t.selection.node.isBlock)return!!a.parentOffset&&!!(0,s.zy)(t.doc,a.pos)&&(n&&n(t.tr.split(a.pos).scrollIntoView()),!0);if(!a.depth)return!1;let i=[],l,c,d=!1,u=!1;for(let t=a.depth;;t--){let n=a.node(t);if(n.isBlock){d=a.end(t)==a.pos+(a.depth-t);u=a.start(t)==a.pos-(a.depth-t);c=defaultBlockAt(a.node(t-1).contentMatchAt(a.indexAfter(t-1)));let n=e&&e(o.parent,d,a);i.unshift(n||(d&&c?{type:c}:null));l=t;break}if(1==t)return!1;i.unshift(null)}let h=t.tr;(t.selection instanceof r.U3||t.selection instanceof r.i5)&&h.deleteSelection();let p=h.mapping.map(a.pos),m=(0,s.zy)(h.doc,p,i.length,i);if(!m){i[0]=c?{type:c}:null;m=(0,s.zy)(h.doc,p,i.length,i)}h.split(p,i.length,i);if(!d&&u&&a.node(l).type!=c){let e=h.mapping.map(a.before(l)),t=h.doc.resolve(e);c&&a.node(l-1).canReplaceWith(t.index(),t.index()+1,c)&&h.setNodeMarkup(h.mapping.map(a.before(l)),c)}return n&&n(h.scrollIntoView()),!0}}();function joinMaybeClear(e,t,n){let r=t.nodeBefore,a=t.nodeAfter,o=t.index();return!!r&&!!a&&!!r.type.compatibleContent(a.type)&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!!t.parent.canReplace(o,o+1)&&!!(a.isTextblock||(0,s.n9)(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}function deleteBarrier(e,t,n,a){let o=t.nodeBefore,l=t.nodeAfter,c,d,u=o.type.spec.isolating||l.type.spec.isolating;if(!u&&joinMaybeClear(e,t,n))return!0;let h=!u&&t.parent.canReplace(t.index(),t.index()+1);if(h&&(c=(d=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&d.matchType(c[0]||l.type).validEnd){if(n){let r=t.pos+l.nodeSize,a=i.FK.empty;for(let e=c.length-1;e>=0;e--)a=i.FK.from(c[e].create(null,a));a=i.FK.from(o.copy(a));let d=e.tr.step(new s.Wg(t.pos-1,r,t.pos,r,new i.Ji(a,1,0),c.length,!0)),u=d.doc.resolve(r+2*c.length);u.nodeAfter&&u.nodeAfter.type==o.type&&(0,s.n9)(d.doc,u.pos)&&d.join(u.pos);n(d.scrollIntoView())}return!0}let p=l.type.spec.isolating||a>0&&u?null:r.LN.findFrom(t,1),m=p&&p.$from.blockRange(p.$to),f=m&&(0,s.jP)(m);if(null!=f&&f>=t.depth)return n&&n(e.tr.lift(m,f).scrollIntoView()),!0;if(h&&textblockAt(l,"start",!0)&&textblockAt(o,"end")){let r=o,a=[];for(;;){a.push(r);if(r.isTextblock)break;r=r.lastChild}let c=l,d=1;for(;!c.isTextblock;c=c.firstChild)d++;if(r.canReplace(r.childCount,r.childCount,c.content)){if(n){let r=i.FK.empty;for(let e=a.length-1;e>=0;e--)r=i.FK.from(a[e].copy(r));n(e.tr.step(new s.Wg(t.pos-a.length,t.pos+l.nodeSize,t.pos+d,t.pos+l.nodeSize-d,new i.Ji(r,a.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function selectTextblockSide(e){return function(t,n){let a=t.selection,o=e<0?a.$from:a.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(r.U3.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}let c=selectTextblockSide(-1),d=selectTextblockSide(1);function wrapIn(e,t=null){return function(n,r){let{$from:a,$to:o}=n.selection,i=a.blockRange(o),l=i&&(0,s.oM)(i,e,t);return!!l&&(r&&r(n.tr.wrap(i,l).scrollIntoView()),!0)}}function setBlockType(e,t=null){return function(n,r){let a=!1;for(let r=0;r<n.selection.ranges.length&&!a;r++){let{$from:{pos:o},$to:{pos:i}}=n.selection.ranges[r];n.doc.nodesBetween(o,i,(r,o)=>{if(a)return!1;if(!(!r.isTextblock||r.hasMarkup(e,t)))if(r.type==e)a=!0;else{let t=n.doc.resolve(o),r=t.index();a=t.parent.canReplaceWith(r,r+1,e)}})}if(!a)return!1;if(r){let a=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:i}}=n.selection.ranges[r];a.setBlockType(o,i,e,t)}r(a.scrollIntoView())}return!0}}function chainCommands(...e){return function(t,n,r){for(let a=0;a<e.length;a++)if(e[a](t,n,r))return!0;return!1}}let u=chainCommands(deleteSelection,joinBackward,selectNodeBackward),h=chainCommands(deleteSelection,joinForward,selectNodeForward),p={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,l),"Mod-Enter":exitCode,Backspace:u,"Mod-Backspace":u,"Shift-Backspace":u,Delete:h,"Mod-Delete":h,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new r.i5(e.doc))),!0)},m={"Ctrl-h":p.Backspace,"Alt-Backspace":p["Mod-Backspace"],"Ctrl-d":p.Delete,"Ctrl-Alt-Backspace":p["Mod-Delete"],"Alt-Delete":p["Mod-Delete"],"Alt-d":p["Mod-Delete"],"Ctrl-a":c,"Ctrl-e":d};for(let e in p)m[e]=p[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();function wrapInList(e,t=null){return function(n,r){let{$from:a,$to:o}=n.selection,l=a.blockRange(o),c=!1,d=l;if(!l)return!1;if(l.depth>=2&&a.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==a.index(l.depth-1))return!1;let e=n.doc.resolve(l.start-2);d=new i.u$(e,e,l.depth);l.endIndex<l.parent.childCount&&(l=new i.u$(a,n.doc.resolve(o.end(l.depth)),l.depth));c=!0}let u=(0,s.oM)(d,e,t,l);return!!u&&(r&&r(doWrapInList(n.tr,l,u,c,e).scrollIntoView()),!0)}}function doWrapInList(e,t,n,r,a){let o=i.FK.empty;for(let e=n.length-1;e>=0;e--)o=i.FK.from(n[e].type.create(n[e].attrs,o));e.step(new s.Wg(t.start-2*!!r,t.end,t.start,t.end,new i.Ji(o,0,0),n.length,!0));let l=0;for(let e=0;e<n.length;e++)n[e].type==a&&(l=e+1);let c=n.length-l,d=t.start+n.length-2*!!r,u=t.parent;for(let n=t.startIndex,r=t.endIndex,a=!0;n<r;n++,a=!1){if(!a&&(0,s.zy)(e.doc,d,c)){e.split(d,c);d+=2*c}d+=u.child(n).nodeSize}return e}function liftListItem(e){return function(t,n){let{$from:r,$to:a}=t.selection,o=r.blockRange(a,t=>t.childCount>0&&t.firstChild.type==e);return!!o&&(!n||(r.node(o.depth-1).type==e?liftToOuterList(t,n,e,o):liftOutOfList(t,n,o)))}}function liftToOuterList(e,t,n,r){let a=e.tr,o=r.end,l=r.$to.end(r.depth);if(o<l){a.step(new s.Wg(o-1,l,o,l,new i.Ji(i.FK.from(n.create(null,r.parent.copy())),1,0),1,!0));r=new i.u$(a.doc.resolve(r.$from.pos),a.doc.resolve(l),r.depth)}let c=(0,s.jP)(r);if(null==c)return!1;a.lift(r,c);let d=a.mapping.map(o,-1)-1;return(0,s.n9)(a.doc,d)&&a.join(d),t(a.scrollIntoView()),!0}function liftOutOfList(e,t,n){let r=e.tr,a=n.parent;for(let e=n.end,t=n.endIndex-1,o=n.startIndex;t>o;t--){e-=a.child(t).nodeSize;r.delete(e-1,e+1)}let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=0==n.startIndex,d=n.endIndex==a.childCount,u=o.node(-1),h=o.index(-1);if(!u.canReplace(h+ +!c,h+1,l.content.append(d?i.FK.empty:i.FK.from(a))))return!1;let p=o.pos,m=p+l.nodeSize;return r.step(new s.Wg(p-!!c,m+ +!!d,p+1,m-1,new i.Ji((c?i.FK.empty:i.FK.from(a.copy(i.FK.empty))).append(d?i.FK.empty:i.FK.from(a.copy(i.FK.empty))),+!c,+!d),+!c)),t(r.scrollIntoView()),!0}function sinkListItem(e){return function(t,n){let{$from:r,$to:a}=t.selection,o=r.blockRange(a,t=>t.childCount>0&&t.firstChild.type==e);if(!o)return!1;let l=o.startIndex;if(0==l)return!1;let c=o.parent,d=c.child(l-1);if(d.type!=e)return!1;if(n){let r=d.lastChild&&d.lastChild.type==c.type,a=i.FK.from(r?e.create():null),l=new i.Ji(i.FK.from(e.create(null,i.FK.from(c.type.create(null,a)))),r?3:1,0),u=o.start,h=o.end;n(t.tr.step(new s.Wg(u-(r?3:1),h,u,h,l,1,!0)).scrollIntoView())}return!0}}function createChainableState(e){let{state:t,transaction:n}=e,{selection:r}=n,{doc:a}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return a},get tr(){r=n.selection;a=n.doc;o=n.storedMarks;return n}}}class f{constructor(e){this.editor=e.editor;this.rawCommands=this.editor.extensionManager.commands;this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:a}=n,o=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{let n=t(...e)(o);return a.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(a),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){let{rawCommands:n,editor:r,state:a}=this,{view:o}=r,i=[],s=!!e,l=e||a.tr,run=()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(l),i.every(e=>!0===e)),c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{let r=this.buildProps(l,t),a=n(...e)(r);return i.push(a),c}])),run};return c}createCan(e){let{rawCommands:t,state:n}=this,r=!1,a=e||n.tr,o=this.buildProps(a,r);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})])),chain:()=>this.createChain(a,r)}}buildProps(e,t=!0){let{rawCommands:n,editor:r,state:a}=this,{view:o}=r,i={tr:e,editor:r,view:o,state:createChainableState({state:a,transaction:e}),dispatch:t?()=>void 0:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(i)]))}};return i}}class g{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){let n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){let n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function getExtensionField(e,t,n){return void 0===e.config[t]&&e.parent?getExtensionField(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?getExtensionField(e.parent,t,n):null}):e.config[t]}function splitExtensions(e){let t=e.filter(e=>"extension"===e.type);return{baseExtensions:t,nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function getAttributesFromExtensions(e){let t=[],{nodeExtensions:n,markExtensions:r}=splitExtensions(e),a=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage,extensions:a},r=getExtensionField(e,"addGlobalAttributes",n);r&&r().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...o,...r}})})})})}),a.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage},r=getExtensionField(e,"addAttributes",n);r&&Object.entries(r()).forEach(([n,r])=>{let a={...o,...r};"function"==typeof(null==a?void 0:a.default)&&(a.default=a.default());(null==a?void 0:a.isRequired)&&(null==a?void 0:a.default)===void 0&&delete a.default;t.push({type:e.name,name:n,attribute:a})})}),t}function getNodeType(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function mergeAttributes(...e){return e.filter(e=>!!e).reduce((e,t)=>{let n={...e};return Object.entries(t).forEach(([e,t])=>{let r=n[e];if(!r){n[e]=t;return}if("class"===e){let r=t?t.split(" "):[],a=n[e]?n[e].split(" "):[],o=r.filter(e=>!a.includes(e));n[e]=[...a,...o].join(" ")}else if("style"===e){let r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],a=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],o=new Map;a.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)});r.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());o.set(t,n)});n[e]=Array.from(o.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t}),n},{})}function getRenderedAttributes(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>mergeAttributes(e,t),{})}function isFunction(e){return"function"==typeof e}function callOrReturn(e,t,...n){return isFunction(e)?t?e.bind(t)(...n):e(...n):e}function isEmptyObject(e={}){return 0===Object.keys(e).length&&e.constructor===Object}function fromString(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}function injectExtensionAttributesToParseRule(e,t){return"style"in e?e:{...e,getAttrs:n=>{let r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;let a=t.reduce((e,t)=>{let r=t.attribute.parseHTML?t.attribute.parseHTML(n):fromString(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...a}}}}function cleanUpSchemaItem(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>!("attrs"===e&&isEmptyObject(t))&&null!=t))}function getSchemaByResolvedExtensions(e,t){var n;let r=getAttributesFromExtensions(e),{nodeExtensions:a,markExtensions:o}=splitExtensions(e),s=null==(n=a.find(e=>getExtensionField(e,"topNode")))?void 0:n.name,l=Object.fromEntries(a.map(n=>{let a=r.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},i=cleanUpSchemaItem({...e.reduce((e,t)=>{let r=getExtensionField(t,"extendNodeSchema",o);return{...e,...r?r(n):{}}},{}),content:callOrReturn(getExtensionField(n,"content",o)),marks:callOrReturn(getExtensionField(n,"marks",o)),group:callOrReturn(getExtensionField(n,"group",o)),inline:callOrReturn(getExtensionField(n,"inline",o)),atom:callOrReturn(getExtensionField(n,"atom",o)),selectable:callOrReturn(getExtensionField(n,"selectable",o)),draggable:callOrReturn(getExtensionField(n,"draggable",o)),code:callOrReturn(getExtensionField(n,"code",o)),whitespace:callOrReturn(getExtensionField(n,"whitespace",o)),defining:callOrReturn(getExtensionField(n,"defining",o)),isolating:callOrReturn(getExtensionField(n,"isolating",o)),attrs:Object.fromEntries(a.map(e=>{var t;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default}]}))}),s=callOrReturn(getExtensionField(n,"parseHTML",o));s&&(i.parseDOM=s.map(e=>injectExtensionAttributesToParseRule(e,a)));let l=getExtensionField(n,"renderHTML",o);l&&(i.toDOM=e=>l({node:e,HTMLAttributes:getRenderedAttributes(e,a)}));let c=getExtensionField(n,"renderText",o);return c&&(i.toText=c),[n.name,i]})),c=Object.fromEntries(o.map(n=>{let a=r.filter(e=>e.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t},i=cleanUpSchemaItem({...e.reduce((e,t)=>{let r=getExtensionField(t,"extendMarkSchema",o);return{...e,...r?r(n):{}}},{}),inclusive:callOrReturn(getExtensionField(n,"inclusive",o)),excludes:callOrReturn(getExtensionField(n,"excludes",o)),group:callOrReturn(getExtensionField(n,"group",o)),spanning:callOrReturn(getExtensionField(n,"spanning",o)),code:callOrReturn(getExtensionField(n,"code",o)),attrs:Object.fromEntries(a.map(e=>{var t;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default}]}))}),s=callOrReturn(getExtensionField(n,"parseHTML",o));s&&(i.parseDOM=s.map(e=>injectExtensionAttributesToParseRule(e,a)));let l=getExtensionField(n,"renderHTML",o);return l&&(i.toDOM=e=>l({mark:e,HTMLAttributes:getRenderedAttributes(e,a)})),[n.name,i]}));return new i.Sj({topNode:s,nodes:l,marks:c})}function getSchemaTypeByName(e,t){return t.nodes[e]||t.marks[e]||null}function isExtensionRulesEnabled(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function isRegExp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class b{constructor(e){this.find=e.find;this.handler=e.handler}}function run$1(e){var t;let{editor:n,from:r,to:a,text:o,rules:i,plugin:s}=e,{view:l}=n;if(l.composing)return!1;let c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1,u=((e,t=500)=>{let n="",r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,a,o)=>{var i,s;let l=(null==(s=(i=e.type.spec).toText)?void 0:s.call(i,{node:e,pos:t,parent:a,index:o}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+o;return i.forEach(e=>{if(d)return;let t=((e,t)=>{if(isRegExp(t))return t.exec(e);let n=t(e);if(!n)return null;let r=[n.text];r.index=n.index;r.input=e;r.data=n.data;if(n.replaceWith){n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".');r.push(n.replaceWith)}return r})(u,e.find);if(!t)return;let i=l.state.tr,c=createChainableState({state:l.state,transaction:i}),h={from:r-(t[0].length-o.length),to:a},{commands:p,chain:m,can:g}=new f({editor:n,state:c}),b=e.handler({state:c,range:h,match:t,commands:p,chain:m,can:g});if(null!==b&&i.steps.length){i.setMeta(s,{transform:i,from:r,to:a,text:o});l.dispatch(i);d=!0}}),d}function inputRulesPlugin(e){let{editor:t,rules:n}=e,a=new r.k_({state:{init:()=>null,apply(e,r){let o=e.getMeta(a);if(o)return o;let i=e.getMeta("applyInputRules");return i&&setTimeout(()=>{let{from:e,text:r}=i,o=e+r.length;run$1({editor:t,from:e,to:o,text:r,rules:n,plugin:a})}),e.selectionSet||e.docChanged?null:r}},props:{handleTextInput:(e,r,o,i)=>run$1({editor:t,from:r,to:o,text:i,rules:n,plugin:a}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{let{$cursor:r}=e.state.selection;r&&run$1({editor:t,from:r.pos,to:r.pos,text:"",rules:n,plugin:a})}),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;let{$cursor:o}=e.state.selection;return!!o&&run$1({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:a})}},isInputRules:!0});return a}function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function isPlainObject(e){return"Object"===getType(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function mergeDeep(e,t){let n={...e};return isPlainObject(e)&&isPlainObject(t)&&Object.keys(t).forEach(r=>{isPlainObject(t[r])&&isPlainObject(e[r])?n[r]=mergeDeep(e[r],t[r]):n[r]=t[r]}),n}class _{constructor(e={}){this.type="mark";this.name="mark";this.parent=null;this.child=null;this.config={name:this.name,defaultOptions:{}};this.config={...this.config,...e};this.name=this.config.name;e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);this.options=this.config.defaultOptions;this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name})));this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new _(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){let{tr:n}=e.state,r=e.state.selection.$from,a=r.pos===r.end();if(a){let a=r.marks(),o=!!a.find(e=>(null==e?void 0:e.type.name)===t.name);if(!o)return!1;let i=a.find(e=>(null==e?void 0:e.type.name)===t.name);return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}function isNumber(e){return"number"==typeof e}class E{constructor(e){this.find=e.find;this.handler=e.handler}}function run(e){let{editor:t,state:n,from:r,to:a,rule:o,pasteEvent:i,dropEvent:s}=e,{commands:l,chain:c,can:d}=new f({editor:t,state:n}),u=[];return n.doc.nodesBetween(r,a,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;let h=Math.max(r,t),p=Math.min(a,t+e.content.size);((e,t,n)=>{if(isRegExp(t))return[...e.matchAll(t)];let r=t(e,n);return r?r.map(t=>{let n=[t.text];n.index=t.index;n.input=e;n.data=t.data;if(t.replaceWith){t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".');n.push(t.replaceWith)}return n}):[]})(e.textBetween(h-t,p-t,void 0,""),o.find,i).forEach(e=>{if(void 0===e.index)return;let t=h+e.index+1,r=t+e[0].length,a={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=o.handler({state:n,range:a,match:e,commands:l,chain:c,can:d,pasteEvent:i,dropEvent:s});u.push(p)})}),u.every(e=>null!==e)}function pasteRulesPlugin(e){let{editor:t,rules:n}=e,a=null,o=!1,i=!1,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l="undefined"!=typeof DragEvent?new DragEvent("drop"):null,processEvent=({state:e,from:n,to:r,rule:a,pasteEvt:o})=>{let i=e.tr,c=run({editor:t,state:createChainableState({state:e,transaction:i}),from:Math.max(n-1,0),to:r.b-1,rule:a,pasteEvent:o,dropEvent:l});if(c&&i.steps.length)return l="undefined"!=typeof DragEvent?new DragEvent("drop"):null,s="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,i};return n.map(e=>new r.k_({view(e){let handleDragstart=t=>{var n;a=(null==(n=e.dom.parentElement)?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",handleDragstart),{destroy(){window.removeEventListener("dragstart",handleDragstart)}}},props:{handleDOMEvents:{drop:(e,t)=>(i=a===e.dom.parentElement,l=t,!1),paste:(e,t)=>{var n;let r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return s=t,o=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{let a=t[0],l="paste"===a.getMeta("uiEvent")&&!o,c="drop"===a.getMeta("uiEvent")&&!i,d=a.getMeta("applyPasteRules"),u=!!d;if(!l&&!c&&!u)return;if(u){let{from:t,text:n}=d,a=t+n.length;return processEvent({rule:e,state:r,from:t,to:{b:a},pasteEvt:(e=>{var t;let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(n)})}let h=n.doc.content.findDiffStart(r.doc.content),p=n.doc.content.findDiffEnd(r.doc.content);if(isNumber(h)&&p&&h!==p.b)return processEvent({rule:e,state:r,from:h,to:p,pasteEvt:s})}}))}function findDuplicates(e){return Array.from(new Set(e.filter((t,n)=>e.indexOf(t)!==n)))}class w{constructor(e,t){this.splittableMarks=[];this.editor=t;this.extensions=w.resolve(e);this.schema=getSchemaByResolvedExtensions(this.extensions,t);this.setupExtensions()}static resolve(e){let t=w.sort(w.flatten(e)),n=findDuplicates(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(e=>{let t={name:e.name,options:e.options,storage:e.storage},n=getExtensionField(e,"addExtensions",t);return n?[e,...this.flatten(n())]:e}).flat(10)}static sort(e){let t=100;return e.sort((e,n)=>{let r=getExtensionField(e,"priority")||t,a=getExtensionField(n,"priority")||t;return r>a?-1:+(r<a)})}get commands(){return this.extensions.reduce((e,t)=>{let n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:getSchemaTypeByName(t.name,this.schema)},r=getExtensionField(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){let{editor:e}=this,t=w.sort([...this.extensions].reverse()),n=[],r=[],a=t.map(t=>{let a={name:t.name,options:t.options,storage:t.storage,editor:e,type:getSchemaTypeByName(t.name,this.schema)},i=[],s=getExtensionField(t,"addKeyboardShortcuts",a),l={};"mark"===t.type&&getExtensionField(t,"exitable",a)&&(l.ArrowRight=()=>_.handleExit({editor:e,mark:t}));if(s){let t=Object.fromEntries(Object.entries(s()).map(([t,n])=>[t,()=>n({editor:e})]));l={...l,...t}}let c=(0,o.w)(l);i.push(c);let d=getExtensionField(t,"addInputRules",a);isExtensionRulesEnabled(t,e.options.enableInputRules)&&d&&n.push(...d());let u=getExtensionField(t,"addPasteRules",a);isExtensionRulesEnabled(t,e.options.enablePasteRules)&&u&&r.push(...u());let h=getExtensionField(t,"addProseMirrorPlugins",a);if(h){let e=h();i.push(...e)}return i}).flat();return[inputRulesPlugin({editor:e,rules:n}),...pasteRulesPlugin({editor:e,rules:r}),...a]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:t}=splitExtensions(this.extensions);return Object.fromEntries(t.filter(e=>!!getExtensionField(e,"addNodeView")).map(t=>{let n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:getNodeType(t.name,this.schema)},a=getExtensionField(t,"addNodeView",r);return a?[t.name,(r,o,i,s,l)=>{let c=getRenderedAttributes(r,n);return a()({node:r,view:o,getPos:i,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]:[]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;let n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:getSchemaTypeByName(e.name,this.schema)};"mark"===e.type&&(null==(t=callOrReturn(getExtensionField(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name);let r=getExtensionField(e,"onBeforeCreate",n),a=getExtensionField(e,"onCreate",n),o=getExtensionField(e,"onUpdate",n),i=getExtensionField(e,"onSelectionUpdate",n),s=getExtensionField(e,"onTransaction",n),l=getExtensionField(e,"onFocus",n),c=getExtensionField(e,"onBlur",n),d=getExtensionField(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r);a&&this.editor.on("create",a);o&&this.editor.on("update",o);i&&this.editor.on("selectionUpdate",i);s&&this.editor.on("transaction",s);l&&this.editor.on("focus",l);c&&this.editor.on("blur",c);d&&this.editor.on("destroy",d)})}}class v{constructor(e={}){this.type="extension";this.name="extension";this.parent=null;this.child=null;this.config={name:this.name,defaultOptions:{}};this.config={...this.config,...e};this.name=this.config.name;e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);this.options=this.config.defaultOptions;this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name})));this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new v(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new v({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}}function getTextBetween(e,t,n){let{from:r,to:a}=t,{blockSeparator:o="\n\n",textSerializers:i={}}=n||{},s="";return e.nodesBetween(r,a,(e,n,l,c)=>{var d;e.isBlock&&n>r&&(s+=o);let u=null==i?void 0:i[e.type.name];if(u)return l&&(s+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null==(d=null==e?void 0:e.text)?void 0:d.slice(Math.max(r,n)-n,a-n))}),s}function getTextSerializersFromSchema(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}let k=v.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new r.k_({key:new r.hs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:a}=t,{ranges:o}=a,i=Math.min(...o.map(e=>e.$from.pos)),s=Math.max(...o.map(e=>e.$to.pos)),l=getTextSerializersFromSchema(n);return getTextBetween(r,{from:i,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function objectIncludes(e,t,n={strict:!0}){let r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:isRegExp(t[r])?t[r].test(e[r]):t[r]===e[r])}function findMarkInSet(e,t,n={}){return e.find(e=>e.type===t&&objectIncludes(e.attrs,n))}function isMarkInSet(e,t,n={}){return!!findMarkInSet(e,t,n)}function getMarkRange(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);r.node&&r.node.marks.some(e=>e.type===t)||(r=e.parent.childBefore(e.parentOffset));if(!r.node||!r.node.marks.some(e=>e.type===t))return;let a=findMarkInSet([...r.node.marks],t,n);if(!a)return;let o=r.index,i=e.start()+r.offset,s=o+1,l=i+r.node.nodeSize;findMarkInSet([...r.node.marks],t,n);for(;o>0&&a.isInSet(e.parent.child(o-1).marks);){o-=1;i-=e.parent.child(o).nodeSize}for(;s<e.parent.childCount&&isMarkInSet([...e.parent.child(s).marks],t,n);){l+=e.parent.child(s).nodeSize;s+=1}return{from:i,to:l}}function getMarkType(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function isTextSelection(e){return e instanceof r.U3}function minMax(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function resolveFocusPosition(e,t=null){if(!t)return null;let n=r.LN.atStart(e),a=r.LN.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return a;let o=n.from,i=a.to;return"all"===t?r.U3.create(e,minMax(0,o,i),minMax(e.content.size,o,i)):r.U3.create(e,minMax(t,o,i),minMax(t,o,i))}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let removeWhitespaces=e=>{let t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){let r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&removeWhitespaces(r)}return e};function elementFromString(e){let t=`<body>${e}</body>`;return removeWhitespaces(new window.DOMParser().parseFromString(t,"text/html").body)}function createNodeFromContent(e,t,n){n={slice:!0,parseOptions:{},...n};let r="object"==typeof e&&null!==e,a="string"==typeof e;if(r)try{let r=Array.isArray(e)&&e.length>0;if(r)return i.FK.fromArray(e.map(e=>t.nodeFromJSON(e)));let a=t.nodeFromJSON(e);n.errorOnInvalidContent&&a.check();return a}catch(r){if(n.errorOnInvalidContent)throw Error("[tiptap error]: Invalid JSON content",{cause:r});console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r);return createNodeFromContent("",t,n)}if(a){if(n.errorOnInvalidContent){let r=!1,a="",o=new i.Sj({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,a="string"==typeof e?e:e.outerHTML,null)}]}})});n.slice?i.S4.fromSchema(o).parseSlice(elementFromString(e),n.parseOptions):i.S4.fromSchema(o).parse(elementFromString(e),n.parseOptions);if(n.errorOnInvalidContent&&r)throw Error("[tiptap error]: Invalid HTML content",{cause:Error(`Invalid element found: ${a}`)})}let r=i.S4.fromSchema(t);return n.slice?r.parseSlice(elementFromString(e),n.parseOptions).content:r.parse(elementFromString(e),n.parseOptions)}return createNodeFromContent("",t,n)}function selectionToInsertionEnd(e,t,n){let a=e.steps.length-1;if(a<t)return;let o=e.steps[a];if(!(o instanceof s.Ln||o instanceof s.Wg))return;let i=e.mapping.maps[a],l=0;i.forEach((e,t,n,r)=>{0===l&&(l=r)});e.setSelection(r.LN.near(e.doc.resolve(l),n))}function isMacOS(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function normalizeKeyName(e){let t,n,r,a,o=e.split(/-(?!$)/),i=o[o.length-1];"Space"===i&&(i=" ");for(let e=0;e<o.length-1;e+=1){let i=o[e];if(/^(cmd|meta|m)$/i.test(i))a=!0;else if(/^a(lt)?$/i.test(i))t=!0;else if(/^(c|ctrl|control)$/i.test(i))n=!0;else if(/^s(hift)?$/i.test(i))r=!0;else if(/^mod$/i.test(i))isiOS()||isMacOS()?a=!0:n=!0;else throw Error(`Unrecognized modifier name: ${i}`)}return t&&(i=`Alt-${i}`),n&&(i=`Ctrl-${i}`),a&&(i=`Meta-${i}`),r&&(i=`Shift-${i}`),i}function isNodeActive(e,t,n={}){let{from:r,to:a,empty:o}=e.selection,i=t?getNodeType(t,e.schema):null,s=[];e.doc.nodesBetween(r,a,(e,t)=>{if(e.isText)return;let n=Math.max(r,t),o=Math.min(a,t+e.nodeSize);s.push({node:e,from:n,to:o})});let l=a-r,c=s.filter(e=>!i||i.name===e.node.type.name).filter(e=>objectIncludes(e.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}function getSchemaTypeNameByName(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function deleteProps(e,t){let n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}function createDocument(e,t,n={},r={}){return createNodeFromContent(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function getMarkAttributes(e,t){let n=getMarkType(t,e.schema),{from:r,to:a,empty:o}=e.selection,i=[];if(o){e.storedMarks&&i.push(...e.storedMarks);i.push(...e.selection.$head.marks())}else e.doc.nodesBetween(r,a,e=>{i.push(...e.marks)});let s=i.find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function combineTransactionSteps(e,t){let n=new s.dL(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function dist_defaultBlockAt(e){for(let t=0;t<e.edgeCount;t+=1){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function findChildrenInRange(e,t,n){let r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}function findParentNodeClosestToPos(e,t){for(let n=e.depth;n>0;n-=1){let r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function findParentNode(e){return t=>findParentNodeClosestToPos(t.$from,e)}function getHTMLFromFragment(e,t){let n=i.ZF.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function getSchema(e,t){return getSchemaByResolvedExtensions(w.resolve(e),t)}function generateJSON(e,t){let n=getSchema(t),r=elementFromString(e);return i.S4.fromSchema(n).parse(r).toJSON()}function getText(e,t){let n={from:0,to:e.content.size};return getTextBetween(e,n,t)}function getNodeAttributes(e,t){let n=getNodeType(t,e.schema),{from:r,to:a}=e.selection,o=[];e.doc.nodesBetween(r,a,e=>{o.push(e)});let i=o.reverse().find(e=>e.type.name===n.name);return i?{...i.attrs}:{}}function getAttributes(e,t){let n=getSchemaTypeNameByName("string"==typeof t?t:t.name,e.schema);return"node"===n?getNodeAttributes(e,t):"mark"===n?getMarkAttributes(e,t):{}}function removeDuplicates(e,t=JSON.stringify){let n={};return e.filter(e=>{let r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}function simplifyChangedRanges(e){let t=removeDuplicates(e);return 1===t.length?t:t.filter((e,n)=>!t.filter((e,t)=>t!==n).some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}function getChangedRanges(e){let{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,a)=>{let o=[];if(e.ranges.length)e.forEach((e,t)=>{o.push({from:e,to:t})});else{let{from:e,to:t}=n[a];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach(({from:e,to:n})=>{let o=t.slice(a).map(e,-1),i=t.slice(a).map(n),s=t.invert().map(o,-1),l=t.invert().map(i);r.push({oldRange:{from:s,to:l},newRange:{from:o,to:i}})})}),simplifyChangedRanges(r)}function getMarksBetween(e,t,n){let r=[];return e===t?n.resolve(e).marks().forEach(t=>{let a=getMarkRange(n.resolve(e),t.type);a&&r.push({mark:t,...a})}):n.nodesBetween(e,t,(e,t)=>{e&&(null==e?void 0:e.nodeSize)!==void 0&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}let getNodeAtPosition=(e,t,n,r=20)=>{let a=e.doc.resolve(n),o=r,i=null;for(;o>0&&null===i;){let e=a.node(o);(null==e?void 0:e.type.name)===t?i=e:o-=1}return[i,o]};function getSplittedAttributes(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{let r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function isMarkActive(e,t,n={}){let{empty:r,ranges:a}=e.selection,o=t?getMarkType(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!o||o.name===e.type.name).find(e=>objectIncludes(e.attrs,n,{strict:!1}));let i=0,s=[];a.forEach(({$from:t,$to:n})=>{let r=t.pos,a=n.pos;e.doc.nodesBetween(r,a,(e,t)=>{if(!e.isText&&!e.marks.length)return;let n=Math.max(r,t),o=Math.min(a,t+e.nodeSize);i+=o-n;s.push(...e.marks.map(e=>({mark:e,from:n,to:o})))})});if(0===i)return!1;let l=s.filter(e=>!o||o.name===e.mark.type.name).filter(e=>objectIncludes(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=s.filter(e=>!o||e.mark.type!==o&&e.mark.type.excludes(o)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=i}function isActive(e,t,n={}){if(!t)return isNodeActive(e,null,n)||isMarkActive(e,null,n);let r=getSchemaTypeNameByName(t,e.schema);return"node"===r?isNodeActive(e,t,n):"mark"===r&&isMarkActive(e,t,n)}let isAtEndOfNode=(e,t)=>{let{$from:n,$to:r,$anchor:a}=e.selection;if(t){let n=findParentNode(e=>e.type.name===t)(e.selection);if(!n)return!1;let r=e.doc.resolve(n.pos+1);return a.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2)&&n.pos===r.pos},isAtStartOfNode=e=>{let{$from:t,$to:n}=e.selection;return!(t.parentOffset>0)&&t.pos===n.pos};function isList(e,t){let{nodeExtensions:n}=splitExtensions(t),r=n.find(t=>t.name===e);if(!r)return!1;let a={name:r.name,options:r.options,storage:r.storage},o=callOrReturn(getExtensionField(r,"group",a));return"string"==typeof o&&o.split(" ").includes("list")}function isNodeEmpty(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(isNodeEmpty(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function isNodeSelection(e){return e instanceof r.nh}function posToDOMRect(e,t,n){let r=0,a=e.state.doc.content.size,o=minMax(t,r,a),i=minMax(n,r,a),s=e.coordsAtPos(o),l=e.coordsAtPos(i,-1),c=Math.min(s.top,l.top),d=Math.max(s.bottom,l.bottom),u=Math.min(s.left,l.left),h=Math.max(s.right,l.right),p={top:c,bottom:d,left:u,right:h,width:h-u,height:d-c,x:u,y:c};return{...p,toJSON:()=>p}}function canSetMark(e,t,n){var r;let{selection:a}=t,o=null;isTextSelection(a)&&(o=a.$cursor);if(o){let t=null!=(r=e.storedMarks)?r:o.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}let{ranges:i}=a;return i.some(({$from:t,$to:r})=>{let a=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(a)return!1;if(e.isInline){let t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));a=t&&o}return!a}),a})}function ensureMarks(e,t){let n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){let r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}let joinListBackwards=(e,t)=>{let n=findParentNode(e=>e.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;let a=e.doc.nodeAt(r);return!(n.node.type===(null==a?void 0:a.type)&&(0,s.n9)(e.doc,n.pos))||(e.join(n.pos),!0)},joinListForwards=(e,t)=>{let n=findParentNode(e=>e.type===t)(e.selection);if(!n)return!0;let r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;let a=e.doc.nodeAt(r);return!(n.node.type===(null==a?void 0:a.type)&&(0,s.n9)(e.doc,r))||(e.join(r),!0)};var S=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;if(!e.isDestroyed){t.dom.blur();null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges()}}),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{let{selection:r}=t,{ranges:a}=r;return!n||(a.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;let{doc:r,mapping:a}=t,o=r.resolve(a.map(n)),i=r.resolve(a.map(n+e.nodeSize)),l=o.blockRange(i);if(!l)return;let c=(0,s.jP)(l);if(e.type.isTextblock){let{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(l.start,e)}(c||0===c)&&t.lift(l,c)})}),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>createParagraphNear(e,t),cut:(e,t)=>({editor:n,tr:a})=>{let{state:o}=n,i=o.doc.slice(e.from,e.to);a.deleteRange(e.from,e.to);let s=a.mapping.map(t);return a.insert(s,i.content),a.setSelection(new r.U3(a.doc.resolve(s-1))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{let{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;let a=e.selection.$anchor;for(let n=a.depth;n>0;n-=1){let o=a.node(n);if(o.type===r.type){if(t){let t=a.before(n),r=a.after(n);e.delete(t,r).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:r})=>{let a=getNodeType(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){let n=o.node(e);if(n.type===a){if(r){let n=o.before(e),r=o.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{let{from:r,to:a}=e;return n&&t.delete(r,a),!0},deleteSelection:()=>({state:e,dispatch:t})=>deleteSelection(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>exitCode(e,t),extendMarkRange:(e,t={})=>({tr:n,state:a,dispatch:o})=>{let i=getMarkType(e,a.schema),{doc:s,selection:l}=n,{$from:c,from:d,to:u}=l;if(o){let e=getMarkRange(c,i,t);if(e&&e.from<=d&&e.to>=u){let t=r.U3.create(s,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{let n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:r,tr:a,dispatch:o})=>{t={scrollIntoView:!0,...t};let delayedFocus=()=>{isiOS()&&r.dom.focus();requestAnimationFrame(()=>{if(!n.isDestroyed){r.focus();(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView()}})};if(r.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!isTextSelection(n.state.selection))return delayedFocus(),!0;let i=resolveFocusPosition(a.doc,e)||n.state.selection,s=n.state.selection.eq(i);if(o){s||a.setSelection(i);s&&a.storedMarks&&a.setStoredMarks(a.storedMarks);delayedFocus()}return!0},forEach:(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:a,editor:o})=>{var i;if(a){let a,s;n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};try{a=createNodeFromContent(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:null!=(i=n.errorOnInvalidContent)?i:o.options.enableContentCheck})}catch(e){o.emit("contentError",{editor:o,error:e,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}});return!1}let{from:l,to:c}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},d=!0,u=!0;((e=>!("type"in e))(a)?a:[a]).forEach(e=>{e.check();d=!!d&&e.isText&&0===e.marks.length;u=!!u&&e.isBlock});if(l===c&&u){let{parent:e}=r.doc.resolve(l),t=e.isTextblock&&!e.type.spec.code&&!e.childCount;if(t){l-=1;c+=1}}if(d){s=Array.isArray(t)?t.map(e=>e.text||"").join(""):"object"==typeof t&&t&&t.text?t.text:t;r.insertText(s,l,c)}else{s=a;r.replaceWith(l,c,s)}n.updateSelection&&selectionToInsertionEnd(r,r.steps.length-1,-1);n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:s});n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:s})}return!0},joinBackward:()=>({state:e,dispatch:t})=>joinBackward(e,t),joinDown:()=>({state:e,dispatch:t})=>((e,t)=>{let n=e.selection,a;if(n instanceof r.nh){if(n.node.isTextblock||!(0,s.n9)(e.doc,n.to))return!1;a=n.to}else{a=(0,s.N0)(e.doc,n.to,1);if(null==a)return!1}return t&&t(e.tr.join(a).scrollIntoView()),!0})(e,t),joinForward:()=>({state:e,dispatch:t})=>joinForward(e,t),joinItemBackward:()=>({state:e,dispatch:t,tr:n})=>{try{let r=(0,s.N0)(e.doc,e.selection.$from.pos,-1);if(null==r)return!1;n.join(r,2);t&&t(n);return!0}catch(e){return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{let r=(0,s.N0)(e.doc,e.selection.$from.pos,1);if(null==r)return!1;n.join(r,2);t&&t(n);return!0}catch(e){return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=atBlockStart(e,n);if(!r)return!1;let a=findCutBefore(r);return!!a&&joinTextblocksAround(e,a,t)})(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=atBlockEnd(e,n);if(!r)return!1;let a=findCutAfter(r);return!!a&&joinTextblocksAround(e,a,t)})(e,t),joinUp:()=>({state:e,dispatch:t})=>((e,t)=>{let n=e.selection,a=n instanceof r.nh,o;if(a){if(n.node.isTextblock||!(0,s.n9)(e.doc,n.from))return!1;o=n.from}else{o=(0,s.N0)(e.doc,n.from,-1);if(null==o)return!1}if(t){let n=e.tr.join(o);a&&n.setSelection(r.nh.create(n.doc,o-e.doc.resolve(o).nodeBefore.nodeSize));t(n.scrollIntoView())}return!0})(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:a})=>{let o=normalizeKeyName(e).split(/-(?!$)/),i=o.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),s=new KeyboardEvent("keydown",{key:"Space"===i?" ":i,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,s))});return null==l||l.steps.forEach(e=>{let t=e.map(r.mapping);t&&a&&r.maybeStep(t)}),!0},lift:(e,t={})=>({state:n,dispatch:r})=>{let a=getNodeType(e,n.schema);return!!isNodeActive(n,a,t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,a=n.blockRange(r),o=a&&(0,s.jP)(a);return null!=o&&(t&&t(e.tr.lift(a,o).scrollIntoView()),!0)})(n,r)},liftEmptyBlock:()=>({state:e,dispatch:t})=>liftEmptyBlock(e,t),liftListItem:e=>({state:t,dispatch:n})=>liftListItem(getNodeType(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>newlineInCode(e,t),resetAttributes:(e,t)=>({tr:n,state:r,dispatch:a})=>{let o=null,i=null,s=getSchemaTypeNameByName("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(o=getNodeType(e,r.schema)),"mark"===s&&(i=getMarkType(e,r.schema)),a&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,deleteProps(e.attrs,t));i&&e.marks.length&&e.marks.forEach(a=>{i===a.type&&n.addMark(r,r+e.nodeSize,i.create(deleteProps(a.attrs,t)))})})}),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>selectNodeBackward(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>selectNodeForward(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let{$from:n,to:a}=e.selection,o,i=n.sharedDepth(a);return 0!=i&&(o=n.before(i),t&&t(e.tr.setSelection(r.nh.create(e.doc,o))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>d(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>c(e,t),setContent:(e,t=!1,n={},r={})=>({editor:a,tr:o,dispatch:i,commands:s})=>{var l,c;let{doc:d}=o;if("full"!==n.preserveWhitespace){let s=createDocument(e,a.schema,n,{errorOnInvalidContent:null!=(l=r.errorOnInvalidContent)?l:a.options.enableContentCheck});return i&&o.replaceWith(0,d.content.size,s).setMeta("preventUpdate",!t),!0}return i&&o.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:d.content.size},e,{parseOptions:n,errorOnInvalidContent:null!=(c=r.errorOnInvalidContent)?c:a.options.enableContentCheck})},setMark:(e,t={})=>({tr:n,state:r,dispatch:a})=>{let{selection:o}=n,{empty:i,ranges:s}=o,l=getMarkType(e,r.schema);if(a)if(i){let e=getMarkAttributes(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach(e=>{let a=e.$from.pos,o=e.$to.pos;r.doc.nodesBetween(a,o,(e,r)=>{let i=Math.max(r,a),s=Math.min(r+e.nodeSize,o);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(i,s,l.create({...e.attrs,...t}))}):n.addMark(i,s,l.create(t))})});return canSetMark(r,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:r,chain:a})=>{let o=getNodeType(e,n.schema);return o.isTextblock?a().command(({commands:e})=>!!setBlockType(o,t)(n)||e.clearNodes()).command(({state:e})=>setBlockType(o,t)(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){let{doc:n}=t,a=minMax(e,0,n.content.size),o=r.nh.create(n,a);t.setSelection(o)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){let{doc:n}=t,{from:a,to:o}="number"==typeof e?{from:e,to:e}:e,i=r.U3.atStart(n).from,s=r.U3.atEnd(n).to,l=minMax(a,i,s),c=minMax(o,i,s),d=r.U3.create(n,l,c);t.setSelection(d)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>sinkListItem(getNodeType(e,t.schema))(t,n),splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:a,editor:o})=>{let{selection:i,doc:l}=t,{$from:c,$to:d}=i,u=getSplittedAttributes(o.extensionManager.attributes,c.node().type.name,c.node().attrs);if(i instanceof r.nh&&i.node.isBlock){if(!c.parentOffset||!(0,s.zy)(l,c.pos))return!1;if(a){e&&ensureMarks(n,o.extensionManager.splittableMarks);t.split(c.pos).scrollIntoView()}return!0}if(!c.parent.isBlock)return!1;let h=d.parentOffset===d.parent.content.size,p=0===c.depth?void 0:dist_defaultBlockAt(c.node(-1).contentMatchAt(c.indexAfter(-1))),m=h&&p?[{type:p,attrs:u}]:void 0,f=(0,s.zy)(t.doc,t.mapping.map(c.pos),1,m);if(!m&&!f&&(0,s.zy)(t.doc,t.mapping.map(c.pos),1,p?[{type:p}]:void 0)){f=!0;m=p?[{type:p,attrs:u}]:void 0}if(a){if(f){i instanceof r.U3&&t.deleteSelection();t.split(t.mapping.map(c.pos),1,m);if(p&&!h&&!c.parentOffset&&c.parent.type!==p){let e=t.mapping.map(c.before()),n=t.doc.resolve(e);c.node(-1).canReplaceWith(n.index(),n.index()+1,p)&&t.setNodeMarkup(t.mapping.map(c.before()),p)}}e&&ensureMarks(n,o.extensionManager.splittableMarks);t.scrollIntoView()}return f},splitListItem:(e,t={})=>({tr:n,state:a,dispatch:o,editor:l})=>{var c;let d=getNodeType(e,a.schema),{$from:u,$to:h}=a.selection,p=a.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(h))return!1;let m=u.node(-1);if(m.type!==d)return!1;let f=l.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==d||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){let e=i.FK.empty,a=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-a;t>=u.depth-3;t-=1)e=i.FK.from(u.node(t).copy(e));let o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,s={...getSplittedAttributes(f,u.node().type.name,u.node().attrs),...t},l=(null==(c=d.contentMatch.defaultType)?void 0:c.createAndFill(s))||void 0;e=e.append(i.FK.from(d.createAndFill(null,l)||void 0));let h=u.before(u.depth-(a-1));n.replace(h,u.after(-o),new i.Ji(e,4-a,0));let p=-1;n.doc.nodesBetween(h,n.doc.content.size,(e,t)=>{if(p>-1)return!1;e.isTextblock&&0===e.content.size&&(p=t+1)});p>-1&&n.setSelection(r.U3.near(n.doc.resolve(p)));n.scrollIntoView()}return!0}let g=h.pos===u.end()?m.contentMatchAt(0).defaultType:null,b={...getSplittedAttributes(f,m.type.name,m.attrs),...t},_={...getSplittedAttributes(f,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,h.pos);let E=g?[{type:d,attrs:b},{type:g,attrs:_}]:[{type:d,attrs:b}];if(!(0,s.zy)(n.doc,u.pos,2))return!1;if(o){let{selection:e,storedMarks:t}=a,{splittableMarks:r}=l.extensionManager,i=t||e.$to.parentOffset&&e.$from.marks();n.split(u.pos,2,E).scrollIntoView();if(!i||!o)return!0;let s=i.filter(e=>r.includes(e.type.name));n.ensureMarks(s)}return!0},toggleList:(e,t,n,r={})=>({editor:a,tr:o,state:i,dispatch:s,chain:l,commands:c,can:d})=>{let{extensions:u,splittableMarks:h}=a.extensionManager,p=getNodeType(e,i.schema),m=getNodeType(t,i.schema),{selection:f,storedMarks:g}=i,{$from:b,$to:_}=f,E=b.blockRange(_),w=g||f.$to.parentOffset&&f.$from.marks();if(!E)return!1;let v=findParentNode(e=>isList(e.type.name,u))(f);if(E.depth>=1&&v&&E.depth-v.depth<=1){if(v.node.type===p)return c.liftListItem(m);if(isList(v.node.type.name,u)&&p.validContent(v.node.content)&&s)return l().command(()=>(o.setNodeMarkup(v.pos,p),!0)).command(()=>joinListBackwards(o,p)).command(()=>joinListForwards(o,p)).run()}return n&&w&&s?l().command(()=>{let e=d().wrapInList(p,r),t=w.filter(e=>h.includes(e.type.name));return o.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,r).command(()=>joinListBackwards(o,p)).command(()=>joinListForwards(o,p)).run():l().command(()=>!!d().wrapInList(p,r)||c.clearNodes()).wrapInList(p,r).command(()=>joinListBackwards(o,p)).command(()=>joinListForwards(o,p)).run()},toggleMark:(e,t={},n={})=>({state:r,commands:a})=>{let{extendEmptyMarkRange:o=!1}=n,i=getMarkType(e,r.schema);return isMarkActive(r,i,t)?a.unsetMark(i,{extendEmptyMarkRange:o}):a.setMark(i,t)},toggleNode:(e,t,n={})=>({state:r,commands:a})=>{let o,i=getNodeType(e,r.schema),s=getNodeType(t,r.schema),l=isNodeActive(r,i,n);return(r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),l)?a.setNode(s,o):a.setNode(i,{...o,...n})},toggleWrap:(e,t={})=>({state:n,commands:r})=>{let a=getNodeType(e,n.schema);return isNodeActive(n,a,t)?r.lift(a):r.wrapIn(a,t)},undoInputRule:()=>({state:e,dispatch:t})=>{let n=e.plugins;for(let r=0;r<n.length;r+=1){let a,o=n[r];if(o.spec.isInputRules&&(a=o.getState(e))){if(t){let t=e.tr,n=a.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(a.text){let n=t.doc.resolve(a.from).marks();t.replaceWith(a.from,a.to,e.schema.text(a.text,n))}else t.delete(a.from,a.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{let{selection:n}=e,{empty:r,ranges:a}=n;return!!r||(t&&a.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0)},unsetMark:(e,t={})=>({tr:n,state:r,dispatch:a})=>{var o;let{extendEmptyMarkRange:i=!1}=t,{selection:s}=n,l=getMarkType(e,r.schema),{$from:c,empty:d,ranges:u}=s;if(!a)return!0;if(d&&i){let{from:e,to:t}=s,r=null==(o=c.marks().find(e=>e.type===l))?void 0:o.attrs,a=getMarkRange(c,l,r);if(a){e=a.from;t=a.to}n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:a})=>{let o=null,i=null,s=getSchemaTypeNameByName("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(o=getNodeType(e,r.schema)),"mark"===s&&(i=getMarkType(e,r.schema)),a&&n.selection.ranges.forEach(e=>{let a=e.$from.pos,s=e.$to.pos;r.doc.nodesBetween(a,s,(e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t});i&&e.marks.length&&e.marks.forEach(o=>{if(i===o.type){let l=Math.max(r,a),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,i.create({...o.attrs,...t}))}})})}),!0)},wrapIn:(e,t={})=>({state:n,dispatch:r})=>wrapIn(getNodeType(e,n.schema),t)(n,r),wrapInList:(e,t={})=>({state:n,dispatch:r})=>wrapInList(getNodeType(e,n.schema),t)(n,r)});let y=v.create({name:"commands",addCommands:()=>({...S})}),A=v.create({name:"drop",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),N=v.create({name:"editable",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),R=v.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new r.k_({key:new r.hs("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;let r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;let r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),C=v.create({name:"keymap",addKeyboardShortcuts(){let handleBackspace=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{let{selection:n,doc:a}=t,{empty:o,$anchor:i}=n,{pos:s,parent:l}=i,c=i.parent.isTextblock&&s>0?t.doc.resolve(s-1):i,d=c.parent.type.spec.isolating,u=i.pos-i.parentOffset,h=d&&1===c.parent.childCount?u===i.pos:r.LN.atStart(a).from===s;return!!o&&!!l.type.isTextblock&&!l.textContent.length&&!!h&&(!h||"paragraph"!==i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),handleDelete=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),e={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:handleBackspace,"Mod-Backspace":handleBackspace,"Shift-Backspace":handleBackspace,Delete:handleDelete,"Mod-Delete":handleDelete,"Mod-a":()=>this.editor.commands.selectAll()},t={...e},n={...e,"Ctrl-h":handleBackspace,"Alt-Backspace":handleBackspace,"Ctrl-d":handleDelete,"Ctrl-Alt-Backspace":handleDelete,"Alt-Delete":handleDelete,"Alt-d":handleDelete,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?n:t},addProseMirrorPlugins(){return[new r.k_({key:new r.hs("clearDocument"),appendTransaction:(e,t,n)=>{let a=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!a||o)return;let{empty:i,from:s,to:l}=t.selection,c=r.LN.atStart(t.doc).from,d=r.LN.atEnd(t.doc).to;if(i||s!==c||l!==d)return;let u=isNodeEmpty(n.doc);if(!u)return;let h=n.tr,p=createChainableState({state:n,transaction:h}),{commands:m}=new f({editor:this.editor,state:p});m.clearNodes();if(h.steps.length)return h}})]}}),V=v.create({name:"paste",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),T=v.create({name:"tabindex",addProseMirrorPlugins(){return[new r.k_({key:new r.hs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class U{get name(){return this.node.type.name}constructor(e,t,n=!1,r=null){this.currentNode=null;this.actualDepth=null;this.isBlock=n;this.resolvedPos=e;this.editor=t;this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1;n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+ +!this.node.isText}get parent(){if(0===this.depth)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1);return new U(this.resolvedPos.doc.resolve(e),this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new U(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new U(e,this.editor)}get children(){let e=[];return this.node.content.forEach((t,n)=>{let r=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,o=this.pos+n+ +!a,i=this.resolvedPos.doc.resolve(o);if(!r&&i.depth<=this.depth)return;let s=new U(i,this.editor,r,r?t:null);r&&(s.actualDepth=this.depth+1);e.push(new U(i,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){let e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){let a=n[r];if(e[a]!==t[a])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;let a=Object.keys(t);return this.children.forEach(o=>{if(!n||!(r.length>0)){o.node.type.name===e&&a.every(e=>t[e]===o.node.attrs[e])&&r.push(o);n&&r.length>0||(r=r.concat(o.querySelectorAll(e,t,n)))}}),r}setAttribute(e){let{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e});this.editor.view.dispatch(t)}}let I=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(e,t,n){let r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;let a=document.createElement("style");return t&&a.setAttribute("nonce",t),a.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),a.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(a),a}class x extends g{constructor(e={}){super();this.isFocused=!1;this.isInitialized=!1;this.extensionStorage={};this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null};this.isCapturingTransaction=!1;this.capturedTransaction=null;this.setOptions(e);this.createExtensionManager();this.createCommandManager();this.createSchema();this.on("beforeCreate",this.options.onBeforeCreate);this.emit("beforeCreate",{editor:this});this.on("contentError",this.options.onContentError);this.createView();this.injectCSS();this.on("create",this.options.onCreate);this.on("update",this.options.onUpdate);this.on("selectionUpdate",this.options.onSelectionUpdate);this.on("transaction",this.options.onTransaction);this.on("focus",this.options.onFocus);this.on("blur",this.options.onBlur);this.on("destroy",this.options.onDestroy);this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n));this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t));window.setTimeout(()=>{if(!this.isDestroyed){this.commands.focus(this.options.autofocus);this.emit("create",{editor:this});this.isInitialized=!0}},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(I,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e};if(this.view&&this.state&&!this.isDestroyed){this.options.editorProps&&this.view.setProps(this.options.editorProps);this.view.updateState(this.state)}}setEditable(e,t=!0){this.setOptions({editable:e});t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){let n=isFunction(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;let t=this.state.plugins,n=t;[].concat(e).forEach(e=>{let r="string"==typeof e?`${e}$`:e.key;n=t.filter(e=>!e.key.startsWith(r))});if(t.length===n.length)return;let r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;let n=[...this.options.enableCoreExtensions?[N,k.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),y,R,C,T,A,V].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new w(n,this)}createCommandManager(){this.commandManager=new f({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0);this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name);this.createExtensionManager()}});e=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let t=resolveFocusPosition(e,this.options.autofocus);this.view=new a.Lz(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.$t.create({doc:e,selection:t||void 0})});this.view.dom.setAttribute("role","textbox");this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n);this.createNodeViews();this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0;e();this.isCapturingTransaction=!1;let t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)});return}let t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t});this.view.updateState(t);this.emit("transaction",{editor:this,transaction:e});n&&this.emit("selectionUpdate",{editor:this,transaction:e});let r=e.getMeta("focus"),a=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e});a&&this.emit("blur",{editor:this,event:a.event,transaction:e});!e.docChanged||e.getMeta("preventUpdate")||this.emit("update",{editor:this,transaction:e})}getAttributes(e){return getAttributes(this.state,e)}isActive(e,t){let n="string"==typeof e?e:null,r="string"==typeof e?t:e;return isActive(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return getText(this.state.doc,{blockSeparator:t,textSerializers:{...getTextSerializersFromSchema(this.schema),...n}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy");if(this.view){let e=this.view.dom;e&&e.editor&&delete e.editor;this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(null==(e=this.view)?void 0:e.docView)}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){return new U(this.state.doc.resolve(e),this)}get $doc(){return this.$pos(0)}}function markInputRule(e){return new b({find:e.find,handler:({state:t,range:n,match:r})=>{let a=callOrReturn(e.getAttributes,void 0,r);if(!1===a||null===a)return null;let{tr:o}=t,i=r[r.length-1],s=r[0];if(i){let r=s.search(/\S/),l=n.from+s.indexOf(i),c=l+i.length,d=getMarksBetween(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l);if(d.length)return null;c<n.to&&o.delete(c,n.to);l>n.from&&o.delete(n.from+r,l);let u=n.from+r+i.length;o.addMark(n.from+r,u,e.type.create(a||{}));o.removeStoredMark(e.type)}}})}function nodeInputRule(e){return new b({find:e.find,handler:({state:t,range:n,match:r})=>{let a=callOrReturn(e.getAttributes,void 0,r)||{},{tr:o}=t,i=n.from,s=n.to,l=e.type.create(a);if(r[1]){let e=i+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;let t=r[0][r[0].length-1];o.insertText(t,i+r[0].length-1);o.replaceWith(e,s,l)}else if(r[0]){let t=e.type.isInline?i:i-1;o.insert(t,e.type.create(a)).delete(o.mapping.map(i),o.mapping.map(s))}o.scrollIntoView()}})}function textblockTypeInputRule(e){return new b({find:e.find,handler:({state:t,range:n,match:r})=>{let a=t.doc.resolve(n.from),o=callOrReturn(e.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function textInputRule(e){return new b({find:e.find,handler:({state:t,range:n,match:r})=>{let a=e.replace,o=n.from,i=n.to;if(r[1]){let e=r[0].lastIndexOf(r[1]);a+=r[0].slice(e+r[1].length);let t=(o+=e)-i;if(t>0){a=r[0].slice(e-t,e)+a;o=i}}t.tr.insertText(a,o,i)}})}function wrappingInputRule(e){return new b({find:e.find,handler:({state:t,range:n,match:r,chain:a})=>{let o=callOrReturn(e.getAttributes,void 0,r)||{},i=t.tr.delete(n.from,n.to),l=i.doc.resolve(n.from).blockRange(),c=l&&(0,s.oM)(l,e.type,o);if(!c)return null;i.wrap(l,c);if(e.keepMarks&&e.editor){let{selection:n,storedMarks:r}=t,{splittableMarks:a}=e.editor.extensionManager,o=r||n.$to.parentOffset&&n.$from.marks();if(o){let e=o.filter(e=>a.includes(e.type.name));i.ensureMarks(e)}}if(e.keepAttributes){let t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";a().updateAttributes(t,o).run()}let d=i.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&(0,s.n9)(i.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&i.join(n.from-1)}})}class B{constructor(e={}){this.type="node";this.name="node";this.parent=null;this.child=null;this.config={name:this.name,defaultOptions:{}};this.config={...this.config,...e};this.name=this.config.name;e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`);this.options=this.config.defaultOptions;this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name})));this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new B(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new B(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}}function isAndroid(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}class F{constructor(e,t,n){this.isDragging=!1;this.component=e;this.editor=t.editor;this.options={stopEvent:null,ignoreMutation:null,...n};this.extension=t.extension;this.node=t.node;this.decorations=t.decorations;this.innerDecorations=t.innerDecorations;this.view=t.view;this.HTMLAttributes=t.HTMLAttributes;this.getPos=t.getPos;this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,a,o,i,s,l;let{view:c}=this.editor,d=e.target,u=3===d.nodeType?null==(t=d.parentElement)?void 0:t.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||(null==(n=this.contentDOM)?void 0:n.contains(d))||!u)return;let h=0,p=0;if(this.dom!==u){let t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),r=null!=(a=e.offsetX)?a:null==(o=e.nativeEvent)?void 0:o.offsetX,l=null!=(i=e.offsetY)?i:null==(s=e.nativeEvent)?void 0:s.offsetY;h=n.x-t.x+r;p=n.y-t.y+l}null==(l=e.dataTransfer)||l.setDragImage(this.dom,h,p);let m=this.getPos();if("number"!=typeof m)return;let f=r.nh.create(c.state.doc,m),g=c.state.tr.setSelection(f);c.dispatch(g)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});let n=e.target,a=this.dom.contains(n)&&!(null==(t=this.contentDOM)?void 0:t.contains(n));if(!a)return!1;let o=e.type.startsWith("drag"),i="drop"===e.type,s=["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable;if(s&&!i&&!o)return!0;let{isEditable:l}=this.editor,{isDragging:c}=this,d=!!this.node.type.spec.draggable,u=r.nh.isSelectable(this.node),h="copy"===e.type,p="paste"===e.type,m="cut"===e.type,f="mousedown"===e.type;!d&&u&&o&&e.preventDefault();if(d&&o&&!c)return e.preventDefault(),!1;if(d&&l&&!c&&f){let e=n.closest("[data-drag-handle]"),t=e&&(this.dom===e||this.dom.contains(e));if(t){this.isDragging=!0;document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0});document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0});document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0})}}return!c&&!i&&!h&&!p&&!m&&(!f||!u)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(isiOS()||isAndroid())&&this.editor.isFocused){let t=[...Array.from(e.addedNodes),...Array.from(e.removedNodes)];if(t.every(e=>e.isContentEditable))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{let n=this.getPos();return"number"==typeof n&&(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){let e=this.getPos();if("number"!=typeof e)return;let t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function markPasteRule(e){return new E({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:a})=>{let o=callOrReturn(e.getAttributes,void 0,r,a);if(!1===o||null===o)return null;let{tr:i}=t,s=r[r.length-1],l=r[0],c=n.to;if(s){let r=l.search(/\S/),a=n.from+l.indexOf(s),d=a+s.length,u=getMarksBetween(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>a);if(u.length)return null;d<n.to&&i.delete(d,n.to);a>n.from&&i.delete(n.from+r,a);c=n.from+r+s.length;i.addMark(n.from+r,c,e.type.create(o||{}));i.removeStoredMark(e.type)}}})}function escapeForRegEx(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}},20139:function(e,t,n){"use strict";n.d(t,{$Z:function(){return j},$p:function(){return Y},VR:function(){return H},$7:function(){return VueNodeViewRenderer},CS:function(){return X},hG:function(){return useEditor}});var r=n(43873),a=n(42845);function getWindow(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function isElement(e){var t=getWindow(e).Element;return e instanceof t||e instanceof Element}function isHTMLElement(e){var t=getWindow(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function isShadowRoot(e){if("undefined"==typeof ShadowRoot)return!1;var t=getWindow(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var o=Math.max,i=Math.min,s=Math.round;function getUAString(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;if(t&&isHTMLElement(e)){a=e.offsetWidth>0&&s(r.width)/e.offsetWidth||1;o=e.offsetHeight>0&&s(r.height)/e.offsetHeight||1}var i=(isElement(e)?getWindow(e):window).visualViewport,l=!isLayoutViewport()&&n,c=(r.left+(l&&i?i.offsetLeft:0))/a,d=(r.top+(l&&i?i.offsetTop:0))/o,u=r.width/a,h=r.height/o;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c,x:c,y:d}}function getWindowScroll(e){var t=getWindow(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function getHTMLElementScroll(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function getNodeScroll(e){return e!==getWindow(e)&&isHTMLElement(e)?getHTMLElementScroll(e):getWindowScroll(e)}function getNodeName(e){return e?(e.nodeName||"").toLowerCase():null}function getDocumentElement(e){return((isElement(e)?e.ownerDocument:e.document)||window.document).documentElement}function getWindowScrollBarX(e){return getBoundingClientRect(getDocumentElement(e)).left+getWindowScroll(e).scrollLeft}function getComputedStyle(e){return getWindow(e).getComputedStyle(e)}function isScrollParent(e){var t=getComputedStyle(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function isElementScaled(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,r=s(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function getCompositeRect(e,t,n){void 0===n&&(n=!1);var r=isHTMLElement(t),a=isHTMLElement(t)&&isElementScaled(t),o=getDocumentElement(t),i=getBoundingClientRect(e,a,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};if(r||!r&&!n){("body"!==getNodeName(t)||isScrollParent(o))&&(s=getNodeScroll(t));if(isHTMLElement(t)){l=getBoundingClientRect(t,!0);l.x+=t.clientLeft;l.y+=t.clientTop}else o&&(l.x=getWindowScrollBarX(o))}return{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function getLayoutRect(e){var t=getBoundingClientRect(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function getParentNode(e){return"html"===getNodeName(e)?e:e.assignedSlot||e.parentNode||(isShadowRoot(e)?e.host:null)||getDocumentElement(e)}function getScrollParent(e){return["html","body","#document"].indexOf(getNodeName(e))>=0?e.ownerDocument.body:isHTMLElement(e)&&isScrollParent(e)?e:getScrollParent(getParentNode(e))}function listScrollParents(e,t){void 0===t&&(t=[]);var n,r=getScrollParent(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=getWindow(r),i=a?[o].concat(o.visualViewport||[],isScrollParent(r)?r:[]):r,s=t.concat(i);return a?s:s.concat(listScrollParents(getParentNode(i)))}function isTableElement(e){return["table","td","th"].indexOf(getNodeName(e))>=0}function getTrueOffsetParent(e){return isHTMLElement(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function getContainingBlock(e){var t=/firefox/i.test(getUAString()),n=/Trident/i.test(getUAString());if(n&&isHTMLElement(e)){var r=getComputedStyle(e);if("fixed"===r.position)return null}var a=getParentNode(e);isShadowRoot(a)&&(a=a.host);for(;isHTMLElement(a)&&0>["html","body"].indexOf(getNodeName(a));){var o=getComputedStyle(a);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return a;a=a.parentNode}return null}function getOffsetParent(e){for(var t=getWindow(e),n=getTrueOffsetParent(e);n&&isTableElement(n)&&"static"===getComputedStyle(n).position;)n=getTrueOffsetParent(n);return n&&("html"===getNodeName(n)||"body"===getNodeName(n)&&"static"===getComputedStyle(n).position)?t:n||getContainingBlock(e)||t}var l="top",c="bottom",d="right",u="left",h="auto",p=[l,c,d,u],m="start",f="end",g="viewport",b="popper",_=p.reduce(function(e,t){return e.concat([t+"-"+m,t+"-"+f])},[]),E=[].concat(p,[h]).reduce(function(e,t){return e.concat([t,t+"-"+m,t+"-"+f])},[]),w=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function order(e){var t=new Map,n=new Set,r=[];e.forEach(function(e){t.set(e.name,e)});function sort(e){n.add(e.name);[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&sort(r)}});r.push(e)}return e.forEach(function(e){n.has(e.name)||sort(e)}),r}function orderModifiers(e){var t=order(e);return w.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function debounce(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0;n(e())})})),t}}function mergeByName(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var v={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var k={passive:!0};function getBasePlacement(e){return e.split("-")[0]}function getVariation(e){return e.split("-")[1]}function getMainAxisFromPlacement(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function computeOffsets(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?getBasePlacement(a):null,i=a?getVariation(a):null,s=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2;switch(o){case l:t={x:s,y:n.y-r.height};break;case c:t={x:s,y:n.y+n.height};break;case d:t={x:n.x+n.width,y:h};break;case u:t={x:n.x-r.width,y:h};break;default:t={x:n.x,y:n.y}}var p=o?getMainAxisFromPlacement(o):null;if(null!=p){var g="y"===p?"height":"width";switch(i){case m:t[p]=t[p]-(n[g]/2-r[g]/2);break;case f:t[p]=t[p]+(n[g]/2-r[g]/2)}}return t}var S={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:s(n*a)/a||0,y:s(r*a)/a||0}}function mapToStyles(e){var t,n,r=e.popper,a=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,h=e.position,p=e.gpuAcceleration,m=e.adaptive,g=e.roundOffsets,b=e.isFixed,_=s.x,E=void 0===_?0:_,w=s.y,v=void 0===w?0:w,k="function"==typeof g?g({x:E,y:v}):{x:E,y:v};E=k.x;v=k.y;var y=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),N=u,R=l,C=window;if(m){var V=getOffsetParent(r),T="clientHeight",U="clientWidth";if(V===getWindow(r)){V=getDocumentElement(r);if("static"!==getComputedStyle(V).position&&"absolute"===h){T="scrollHeight";U="scrollWidth"}}if(o===l||(o===u||o===d)&&i===f){R=c;v-=(b&&V===C&&C.visualViewport?C.visualViewport.height:V[T])-a.height;v*=p?1:-1}if(o===u||(o===l||o===c)&&i===f){N=d;E-=(b&&V===C&&C.visualViewport?C.visualViewport.width:V[U])-a.width;E*=p?1:-1}}var I=Object.assign({position:h},m&&S),x=!0===g?roundOffsetsByDPR({x:E,y:v},getWindow(r)):{x:E,y:v};return(E=x.x,v=x.y,p)?Object.assign({},I,((n={})[R]=A?"0":"",n[N]=y?"0":"",n.transform=1>=(C.devicePixelRatio||1)?"translate("+E+"px, "+v+"px)":"translate3d("+E+"px, "+v+"px, 0)",n)):Object.assign({},I,((t={})[R]=A?v+"px":"",t[N]=y?E+"px":"",t.transform="",t))}var y={name:"applyStyles",enabled:!0,phase:"write",fn:function applyStyles(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];if(isHTMLElement(a)&&getNodeName(a)){Object.assign(a.style,n);Object.keys(r).forEach(function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})}})},effect:function applyStyles_effect(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});if(isHTMLElement(r)&&getNodeName(r)){Object.assign(r.style,o);Object.keys(a).forEach(function(e){r.removeAttribute(e)})}})}},requires:["computeStyles"]};function distanceAndSkiddingToXY(e,t,n){var r=getBasePlacement(e),a=[u,l].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[u,d].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}var A={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,function(e){return A[e]})}var N={start:"end",end:"start"};function getOppositeVariationPlacement(e){return e.replace(/start|end/g,function(e){return N[e]})}function getViewportRect(e,t){var n=getWindow(e),r=getDocumentElement(e),a=n.visualViewport,o=r.clientWidth,i=r.clientHeight,s=0,l=0;if(a){o=a.width;i=a.height;var c=isLayoutViewport();if(c||!c&&"fixed"===t){s=a.offsetLeft;l=a.offsetTop}}return{width:o,height:i,x:s+getWindowScrollBarX(e),y:l}}function getDocumentRect(e){var t,n=getDocumentElement(e),r=getWindowScroll(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=o(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=o(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+getWindowScrollBarX(e),c=-r.scrollTop;return"rtl"===getComputedStyle(a||n).direction&&(l+=o(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:l,y:c}}function contains(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&isShadowRoot(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function rectToClientRect(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function getInnerBoundingClientRect(e,t){var n=getBoundingClientRect(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType(e,t,n){return t===g?rectToClientRect(getViewportRect(e,n)):isElement(t)?getInnerBoundingClientRect(t,n):rectToClientRect(getDocumentRect(getDocumentElement(e)))}function getClippingParents(e){var t=listScrollParents(getParentNode(e)),n=["absolute","fixed"].indexOf(getComputedStyle(e).position)>=0&&isHTMLElement(e)?getOffsetParent(e):e;return isElement(n)?t.filter(function(e){return isElement(e)&&contains(e,n)&&"body"!==getNodeName(e)}):[]}function getClippingRect(e,t,n,r){var a=[].concat("clippingParents"===t?getClippingParents(e):[].concat(t),[n]),s=a[0],l=a.reduce(function(t,n){var a=getClientRectFromMixedType(e,n,r);return t.top=o(a.top,t.top),t.right=i(a.right,t.right),t.bottom=i(a.bottom,t.bottom),t.left=o(a.left,t.left),t},getClientRectFromMixedType(e,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(e){return Object.assign({},getFreshSideObject(),e)}function expandToHashMap(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function detectOverflow(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.strategy,i=void 0===o?e.strategy:o,s=n.boundary,u=n.rootBoundary,h=n.elementContext,m=void 0===h?b:h,f=n.altBoundary,_=n.padding,E=void 0===_?0:_,w=mergePaddingObject("number"!=typeof E?E:expandToHashMap(E,p)),v=e.rects.popper,k=e.elements[void 0!==f&&f?m===b?"reference":b:m],S=getClippingRect(isElement(k)?k:k.contextElement||getDocumentElement(e.elements.popper),void 0===s?"clippingParents":s,void 0===u?g:u,i),y=getBoundingClientRect(e.elements.reference),A=computeOffsets({reference:y,element:v,strategy:"absolute",placement:a}),N=rectToClientRect(Object.assign({},v,A)),R=m===b?N:y,C={top:S.top-R.top+w.top,bottom:R.bottom-S.bottom+w.bottom,left:S.left-R.left+w.left,right:R.right-S.right+w.right},V=e.modifiersData.offset;if(m===b&&V){var T=V[a];Object.keys(C).forEach(function(e){var t=[d,c].indexOf(e)>=0?1:-1,n=[l,c].indexOf(e)>=0?"y":"x";C[e]+=T[n]*t})}return C}function computeAutoPlacement(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?E:l,d=getVariation(r),u=d?s?_:_.filter(function(e){return getVariation(e)===d}):p,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var m=h.reduce(function(t,n){return t[n]=detectOverflow(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[getBasePlacement(n)],t},{});return Object.keys(m).sort(function(e,t){return m[e]-m[t]})}function getExpandedFallbackPlacements(e){if(getBasePlacement(e)===h)return[];var t=getOppositePlacement(e);return[getOppositeVariationPlacement(e),t,getOppositeVariationPlacement(t)]}function getAltAxis(e){return"x"===e?"y":"x"}function within(e,t,n){return o(e,i(t,n))}function withinMaxClamp(e,t,n){var r=within(e,t,n);return r>n?n:r}function getSideOffsets(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function isAnySideFullyClipped(e){return[l,d,c,u].some(function(t){return e[t]>=0})}var R=function popperGenerator(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?v:a;return function createPopper(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},v,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:a,setOptions:function setOptions(n){var i="function"==typeof n?n(a.options):n;cleanupModifierEffects();a.options=Object.assign({},o,a.options,i);a.scrollParents={reference:isElement(e)?listScrollParents(e):e.contextElement?listScrollParents(e.contextElement):[],popper:listScrollParents(t)};var s=orderModifiers(mergeByName([].concat(r,a.options.modifiers)));return a.orderedModifiers=s.filter(function(e){return e.enabled}),runModifierEffects(),l.update()},forceUpdate:function forceUpdate(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(areValidElements(t,n)){a.rects={reference:getCompositeRect(t,getOffsetParent(n),"fixed"===a.options.strategy),popper:getLayoutRect(n)};a.reset=!1;a.placement=a.options.placement;a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++){if(!0===a.reset){a.reset=!1;r=-1;continue}var o=a.orderedModifiers[r],i=o.fn,c=o.options,d=void 0===c?{}:c,u=o.name;"function"==typeof i&&(a=i({state:a,options:d,name:u,instance:l})||a)}}}},update:debounce(function(){return new Promise(function(e){l.forceUpdate();e(a)})}),destroy:function destroy(){cleanupModifierEffects();s=!0}};if(!areValidElements(e,t))return l;l.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)});function runModifierEffects(){a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:l,options:void 0===n?{}:n});i.push(o||function(){})}})}function cleanupModifierEffects(){i.forEach(function(e){return e()});i=[]}return l}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function fn(){},effect:function effect(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,s=void 0===i||i,l=getWindow(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,k)}),s&&l.addEventListener("resize",n.update,k),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,k)});s&&l.removeEventListener("resize",n.update,k)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function popperOffsets(e){var t=e.state,n=e.name;t.modifiersData[n]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function computeStyles(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=n.adaptive,o=n.roundOffsets,i=void 0===o||o,s={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===a||a,roundOffsets:i}))));null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i}))));t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},y,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function offset(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=E.reduce(function(e,n){return e[n]=distanceAndSkiddingToXY(n,t.rects,o),e},{}),s=i[t.placement],l=s.x,c=s.y;if(null!=t.modifiersData.popperOffsets){t.modifiersData.popperOffsets.x+=l;t.modifiersData.popperOffsets.y+=c}t.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function flip(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,p=n.fallbackPlacements,f=n.padding,g=n.boundary,b=n.rootBoundary,_=n.altBoundary,E=n.flipVariations,w=void 0===E||E,v=n.allowedAutoPlacements,k=t.options.placement,S=getBasePlacement(k)===k,y=p||(S||!w?[getOppositePlacement(k)]:getExpandedFallbackPlacements(k)),A=[k].concat(y).reduce(function(e,n){return e.concat(getBasePlacement(n)===h?computeAutoPlacement(t,{placement:n,boundary:g,rootBoundary:b,padding:f,flipVariations:w,allowedAutoPlacements:v}):n)},[]),N=t.rects.reference,R=t.rects.popper,C=new Map,V=!0,T=A[0],U=0;U<A.length;U++){var I=A[U],x=getBasePlacement(I),B=getVariation(I)===m,F=[l,c].indexOf(x)>=0,M=F?"width":"height",O=detectOverflow(t,{placement:I,boundary:g,rootBoundary:b,altBoundary:_,padding:f}),L=F?B?d:u:B?c:l;N[M]>R[M]&&(L=getOppositePlacement(L));var D=getOppositePlacement(L),z=[];o&&z.push(O[x]<=0);s&&z.push(O[L]<=0,O[D]<=0);if(z.every(function(e){return e})){T=I;V=!1;break}C.set(I,z)}if(V)for(var P=w?3:1,_loop=function(e){var t=A.find(function(t){var n=C.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return T=t,"break"},G=P;G>0;G--){var Z=_loop(G);if("break"===Z)break}if(t.placement!==T){t.modifiersData[r]._skip=!0;t.placement=T;t.reset=!0}}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function preventOverflow(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,s=n.altAxis,h=n.boundary,p=n.rootBoundary,f=n.altBoundary,g=n.padding,b=n.tether,_=void 0===b||b,E=n.tetherOffset,w=void 0===E?0:E,v=detectOverflow(t,{boundary:h,rootBoundary:p,padding:g,altBoundary:f}),k=getBasePlacement(t.placement),S=getVariation(t.placement),y=!S,A=getMainAxisFromPlacement(k),N=getAltAxis(A),R=t.modifiersData.popperOffsets,C=t.rects.reference,V=t.rects.popper,T="function"==typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,U="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(R){if(void 0===a||a){var B,F="y"===A?l:u,M="y"===A?c:d,O="y"===A?"height":"width",L=R[A],D=L+v[F],z=L-v[M],P=_?-V[O]/2:0,G=S===m?C[O]:V[O],Z=S===m?-V[O]:-C[O],W=t.elements.arrow,j=_&&W?getLayoutRect(W):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),H=Y[F],X=Y[M],Q=within(0,C[O],j[O]),J=y?C[O]/2-P-Q-H-U.mainAxis:G-Q-H-U.mainAxis,K=y?-C[O]/2+P+Q+X+U.mainAxis:Z+Q+X+U.mainAxis,$=t.elements.arrow&&getOffsetParent(t.elements.arrow),q=$?"y"===A?$.clientTop||0:$.clientLeft||0:0,ee=null!=(B=null==I?void 0:I[A])?B:0,et=within(_?i(D,L+J-ee-q):D,L,_?o(z,L+K-ee):z);R[A]=et;x[A]=et-L}if(void 0!==s&&s){var en,er="x"===A?l:u,ea="x"===A?c:d,eo=R[N],ei="y"===N?"height":"width",es=eo+v[er],el=eo-v[ea],ec=-1!==[l,u].indexOf(k),ed=null!=(en=null==I?void 0:I[N])?en:0,eu=ec?es:eo-C[ei]-V[ei]-ed+U.altAxis,eh=ec?eo+C[ei]+V[ei]-ed-U.altAxis:el,ep=_&&ec?withinMaxClamp(eu,eo,eh):within(_?eu:es,eo,_?eh:el);R[N]=ep;x[N]=ep-eo}t.modifiersData[r]=x}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function arrow(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=getBasePlacement(n.placement),h=getMainAxisFromPlacement(s),m=[u,d].indexOf(s)>=0?"height":"width";if(o&&i){var f=function(e,t){return mergePaddingObject("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:expandToHashMap(e,p))}(a.padding,n),g=getLayoutRect(o),b="y"===h?l:u,_="y"===h?c:d,E=n.rects.reference[m]+n.rects.reference[h]-i[h]-n.rects.popper[m],w=i[h]-n.rects.reference[h],v=getOffsetParent(o),k=v?"y"===h?v.clientHeight||0:v.clientWidth||0:0,S=f[b],y=k-g[m]-f[_],A=k/2-g[m]/2+(E/2-w/2),N=within(S,A,y);n.modifiersData[r]=((t={})[h]=N,t.centerOffset=N-A,t)}},effect:function arrow_effect(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;if(null!=r){if("string"==typeof r){r=t.elements.popper.querySelector(r);if(!r)return}contains(t.elements.popper,r)&&(t.elements.arrow=r)}},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function hide(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=detectOverflow(t,{elementContext:"reference"}),s=detectOverflow(t,{altBoundary:!0}),l=getSideOffsets(i,r),c=getSideOffsets(s,a,o),d=isAnySideFullyClipped(l),u=isAnySideFullyClipped(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u};t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),C="tippy-content",V="tippy-arrow",T="tippy-svg-arrow",U={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function(){return document.body};function getValueAtIndexOrReturn(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function isType(e,t){var n=({}).toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function invokeWithArgsOrReturn(e,t){return"function"==typeof e?e.apply(void 0,t):e}function tippy_esm_debounce(e,t){var n;return 0===t?e:function(r){clearTimeout(n);n=setTimeout(function(){e(r)},t)}}function splitBySpaces(e){return e.split(/\s+/).filter(Boolean)}function normalizeToArray(e){return[].concat(e)}function pushIfUnique(e,t){-1===e.indexOf(t)&&e.push(t)}function unique(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function tippy_esm_getBasePlacement(e){return e.split("-")[0]}function arrayFrom(e){return[].slice.call(e)}function removeUndefinedProps(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function div(){return document.createElement("div")}function tippy_esm_isElement(e){return["Element","Fragment"].some(function(t){return isType(e,t)})}function isNodeList(e){return isType(e,"NodeList")}function isMouseEvent(e){return isType(e,"MouseEvent")}function isReferenceElement(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function getArrayOfElements(e){return tippy_esm_isElement(e)?[e]:isNodeList(e)?arrayFrom(e):Array.isArray(e)?e:arrayFrom(document.querySelectorAll(e))}function setTransitionDuration(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function setVisibilityState(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function getOwnerDocument(e){var t,n=normalizeToArray(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function isCursorOutsideInteractiveBorder(e,t){var n=t.clientX,r=t.clientY;return e.every(function(e){var t=e.popperRect,a=e.popperState,o=e.props.interactiveBorder,i=tippy_esm_getBasePlacement(a.placement),s=a.modifiersData.offset;if(!s)return!0;var l="bottom"===i?s.top.y:0,c="top"===i?s.bottom.y:0,d="right"===i?s.left.x:0,u="left"===i?s.right.x:0,h=t.top-r+l>o,p=r-t.bottom-c>o,m=t.left-n+d>o,f=n-t.right-u>o;return h||p||m||f})}function updateTransitionEndListener(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[r](t,n)})}function actualContains(e,t){for(var n,r=t;r;){if(e.contains(r))return!0;r=null==r.getRootNode||null==(n=r.getRootNode())?void 0:n.host}return!1}var I={isTouch:!1},x=0;function onDocumentTouchStart(){if(!I.isTouch){I.isTouch=!0;window.performance&&document.addEventListener("mousemove",onDocumentMouseMove)}}function onDocumentMouseMove(){var e=performance.now();if(e-x<20){I.isTouch=!1;document.removeEventListener("mousemove",onDocumentMouseMove)}x=e}function onWindowBlur(){var e=document.activeElement;if(isReferenceElement(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,U);window.addEventListener("blur",onWindowBlur)}var B="undefined"!=typeof window&&"undefined"!=typeof document&&!!window.msCrypto,F=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function onAfterUpdate(){},onBeforeUpdate:function onBeforeUpdate(){},onCreate:function onCreate(){},onDestroy:function onDestroy(){},onHidden:function onHidden(){},onHide:function onHide(){},onMount:function onMount(){},onShow:function onShow(){},onShown:function onShown(){},onTrigger:function onTrigger(){},onUntrigger:function onUntrigger(){},onClickOutside:function onClickOutside(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),M=Object.keys(F);function getExtendedPassedProps(e){var t=(e.plugins||[]).reduce(function(t,n){var r,a=n.name,o=n.defaultValue;return a&&(t[a]=void 0!==e[a]?e[a]:null!=(r=F[a])?r:o),t},{});return Object.assign({},e,t)}function getDataAttributeProps(e,t){return(t?Object.keys(getExtendedPassedProps(Object.assign({},F,{plugins:t}))):M).reduce(function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{})}function evaluateProps(e,t){var n=Object.assign({},t,{content:invokeWithArgsOrReturn(t.content,[e])},t.ignoreAttributes?{}:getDataAttributeProps(e,t.plugins));return n.aria=Object.assign({},F.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function dangerouslySetInnerHTML(e,t){e[function(){return"innerHTML"}()]=t}function createArrowElement(e){var t=div();if(!0===e)t.className=V;else{t.className=T;tippy_esm_isElement(e)?t.appendChild(e):dangerouslySetInnerHTML(t,e)}return t}function setContent(e,t){if(tippy_esm_isElement(t.content)){dangerouslySetInnerHTML(e,"");e.appendChild(t.content)}else"function"!=typeof t.content&&(t.allowHTML?dangerouslySetInnerHTML(e,t.content):e.textContent=t.content)}function getChildren(e){var t=e.firstElementChild,n=arrayFrom(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(C)}),arrow:n.find(function(e){return e.classList.contains(V)||e.classList.contains(T)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function render(e){var t=div(),n=div();n.className="tippy-box";n.setAttribute("data-state","hidden");n.setAttribute("tabindex","-1");var r=div();r.className=C;r.setAttribute("data-state","hidden");setContent(r,e.props);t.appendChild(n);n.appendChild(r);onUpdate(e.props,e.props);function onUpdate(n,r){var a=getChildren(t),o=a.box,i=a.content,s=a.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme");"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation");r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia");o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth;r.role?o.setAttribute("role",r.role):o.removeAttribute("role");(n.content!==r.content||n.allowHTML!==r.allowHTML)&&setContent(i,e.props);if(r.arrow)if(s){if(n.arrow!==r.arrow){o.removeChild(s);o.appendChild(createArrowElement(r.arrow))}}else o.appendChild(createArrowElement(r.arrow));else s&&o.removeChild(s)}return{popper:t,onUpdate:onUpdate}}render.$$tippy=!0;var O=1,L=[],D=[];function createTippy(e,t){var n,r,a,o,i,s,l,c=evaluateProps(e,Object.assign({},F,getExtendedPassedProps(removeUndefinedProps(t)))),d=!1,u=!1,h=!1,p=!1,m=[],f=tippy_esm_debounce(onMouseMove,c.interactiveDebounce),g=O++,b=unique(c.plugins),_={id:g,reference:e,popper:div(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:clearDelayTimeouts,setProps:setProps,setContent:setContent,show:show,hide:hide,hideWithInteractivity:hideWithInteractivity,enable:enable,disable:disable,unmount:unmount,destroy:destroy};if(!c.render)return _;var E=c.render(_),w=E.popper,v=E.onUpdate;w.setAttribute("data-tippy-root","");w.id="tippy-"+_.id;_.popper=w;e._tippy=_;w._tippy=_;var k=b.map(function(e){return e.fn(_)}),S=e.hasAttribute("aria-expanded");addListeners();handleAriaExpandedAttribute();handleStyles();invokeHook("onCreate",[_]);c.showOnCreate&&scheduleShow();w.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()});w.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&getDocument().addEventListener("mousemove",f)});return _;function getNormalizedTouchSettings(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function getIsCustomTouchBehavior(){return"hold"===getNormalizedTouchSettings()[0]}function getIsDefaultRenderFn(){var e;return!!(null!=(e=_.props.render)&&e.$$tippy)}function getCurrentTarget(){return l||e}function getDocument(){var e=getCurrentTarget().parentNode;return e?getOwnerDocument(e):document}function getDefaultTemplateChildren(){return getChildren(w)}function getDelay(e){return _.state.isMounted&&!_.state.isVisible||I.isTouch||o&&"focus"===o.type?0:getValueAtIndexOrReturn(_.props.delay,+!e,F.delay)}function handleStyles(e){void 0===e&&(e=!1);w.style.pointerEvents=_.props.interactive&&!e?"":"none";w.style.zIndex=""+_.props.zIndex}function invokeHook(e,t,n){void 0===n&&(n=!0);k.forEach(function(n){n[e]&&n[e].apply(n,t)});if(n){var r;(r=_.props)[e].apply(r,t)}}function handleAriaContentAttribute(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,r=w.id;normalizeToArray(_.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var a=t&&t.replace(r,"").trim();a?e.setAttribute(n,a):e.removeAttribute(n)}})}}function handleAriaExpandedAttribute(){!S&&_.props.aria.expanded&&normalizeToArray(_.props.triggerTarget||e).forEach(function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===getCurrentTarget()?"true":"false"):e.removeAttribute("aria-expanded")})}function cleanupInteractiveMouseListeners(){getDocument().removeEventListener("mousemove",f);L=L.filter(function(e){return e!==f})}function onDocumentPress(t){if(!I.isTouch||!h&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!(_.props.interactive&&actualContains(w,n))){if(normalizeToArray(_.props.triggerTarget||e).some(function(e){return actualContains(e,n)})){if(I.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else invokeHook("onClickOutside",[_,t]);if(!0===_.props.hideOnClick){_.clearDelayTimeouts();_.hide();u=!0;setTimeout(function(){u=!1});_.state.isMounted||removeDocumentPress()}}}}function onTouchMove(){h=!0}function onTouchStart(){h=!1}function addDocumentPress(){var e=getDocument();e.addEventListener("mousedown",onDocumentPress,!0);e.addEventListener("touchend",onDocumentPress,U);e.addEventListener("touchstart",onTouchStart,U);e.addEventListener("touchmove",onTouchMove,U)}function removeDocumentPress(){var e=getDocument();e.removeEventListener("mousedown",onDocumentPress,!0);e.removeEventListener("touchend",onDocumentPress,U);e.removeEventListener("touchstart",onTouchStart,U);e.removeEventListener("touchmove",onTouchMove,U)}function onTransitionedOut(e,t){onTransitionEnd(e,function(){!_.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()})}function onTransitionedIn(e,t){onTransitionEnd(e,t)}function onTransitionEnd(e,t){var n=getDefaultTemplateChildren().box;function listener(e){if(e.target===n){updateTransitionEndListener(n,"remove",listener);t()}}if(0===e)return t();updateTransitionEndListener(n,"remove",i);updateTransitionEndListener(n,"add",listener);i=listener}function on(t,n,r){void 0===r&&(r=!1);normalizeToArray(_.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r);m.push({node:e,eventType:t,handler:n,options:r})})}function addListeners(){if(getIsCustomTouchBehavior()){on("touchstart",onTrigger,{passive:!0});on("touchend",onMouseLeave,{passive:!0})}splitBySpaces(_.props.trigger).forEach(function(e){if("manual"!==e){on(e,onTrigger);switch(e){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(B?"focusout":"blur",onBlurOrFocusOut);break;case"focusin":on("focusout",onBlurOrFocusOut)}}})}function removeListeners(){m.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,a=e.options;t.removeEventListener(n,r,a)});m=[]}function onTrigger(e){var t,n=!1;if(!(!_.state.isEnabled||isEventListenerStopped(e))&&!u){var r=(null==(t=o)?void 0:t.type)==="focus";o=e;l=e.currentTarget;handleAriaExpandedAttribute();!_.state.isVisible&&isMouseEvent(e)&&L.forEach(function(t){return t(e)});"click"===e.type&&(0>_.props.trigger.indexOf("mouseenter")||d)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:scheduleShow(e);"click"===e.type&&(d=!n);n&&!r&&scheduleHide(e)}}function onMouseMove(e){var t=e.target,n=getCurrentTarget().contains(t)||w.contains(t);if("mousemove"!==e.type||!n){var r=getNestedPopperTree().concat(w).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:c}:null}).filter(Boolean);if(isCursorOutsideInteractiveBorder(r,e)){cleanupInteractiveMouseListeners();scheduleHide(e)}}}function onMouseLeave(e){var t=isEventListenerStopped(e)||_.props.trigger.indexOf("click")>=0&&d;if(!t){if(_.props.interactive)return void _.hideWithInteractivity(e);scheduleHide(e)}}function onBlurOrFocusOut(e){(!(0>_.props.trigger.indexOf("focusin"))||e.target===getCurrentTarget())&&(_.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||scheduleHide(e))}function isEventListenerStopped(e){return!!I.isTouch&&getIsCustomTouchBehavior()!==e.type.indexOf("touch")>=0}function createPopperInstance(){destroyPopperInstance();var t=_.props,n=t.popperOptions,r=t.placement,a=t.offset,o=t.getReferenceClientRect,i=t.moveTransition,l=getIsDefaultRenderFn()?getChildren(w).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||getCurrentTarget()}:e,d=[{name:"offset",options:{offset:a}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!i}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function fn(e){var t=e.state;if(getIsDefaultRenderFn()){var n=getDefaultTemplateChildren().box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)});t.attributes.popper={}}}}];getIsDefaultRenderFn()&&l&&d.push({name:"arrow",options:{element:l,padding:3}});d.push.apply(d,(null==n?void 0:n.modifiers)||[]);_.popperInstance=R(c,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:d}))}function destroyPopperInstance(){if(_.popperInstance){_.popperInstance.destroy();_.popperInstance=null}}function mount(){var e,t=_.props.appendTo,n=getCurrentTarget();(e=_.props.interactive&&t===TIPPY_DEFAULT_APPEND_TO||"parent"===t?n.parentNode:invokeWithArgsOrReturn(t,[n])).contains(w)||e.appendChild(w);_.state.isMounted=!0;createPopperInstance()}function getNestedPopperTree(){return arrayFrom(w.querySelectorAll("[data-tippy-root]"))}function scheduleShow(e){_.clearDelayTimeouts();e&&invokeHook("onTrigger",[_,e]);addDocumentPress();var t=getDelay(!0),r=getNormalizedTouchSettings(),a=r[0],o=r[1];I.isTouch&&"hold"===a&&o&&(t=o);t?n=setTimeout(function(){_.show()},t):_.show()}function scheduleHide(e){_.clearDelayTimeouts();invokeHook("onUntrigger",[_,e]);if(!_.state.isVisible)return void removeDocumentPress();if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0)||!d){var t=getDelay(!1);t?r=setTimeout(function(){_.state.isVisible&&_.hide()},t):a=requestAnimationFrame(function(){_.hide()})}}function enable(){_.state.isEnabled=!0}function disable(){_.hide();_.state.isEnabled=!1}function clearDelayTimeouts(){clearTimeout(n);clearTimeout(r);cancelAnimationFrame(a)}function setProps(t){if(!_.state.isDestroyed){invokeHook("onBeforeUpdate",[_,t]);removeListeners();var n=_.props,r=evaluateProps(e,Object.assign({},n,removeUndefinedProps(t),{ignoreAttributes:!0}));_.props=r;addListeners();if(n.interactiveDebounce!==r.interactiveDebounce){cleanupInteractiveMouseListeners();f=tippy_esm_debounce(onMouseMove,r.interactiveDebounce)}n.triggerTarget&&!r.triggerTarget?normalizeToArray(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded");handleAriaExpandedAttribute();handleStyles();v&&v(n,r);if(_.popperInstance){createPopperInstance();getNestedPopperTree().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})}invokeHook("onAfterUpdate",[_,t])}}function setContent(e){_.setProps({content:e})}function show(){var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,r=I.isTouch&&!_.props.touch,a=getValueAtIndexOrReturn(_.props.duration,0,F.duration);if(!(e||t||n||r||getCurrentTarget().hasAttribute("disabled"))){invokeHook("onShow",[_],!1);if(!1!==_.props.onShow(_)){_.state.isVisible=!0;getIsDefaultRenderFn()&&(w.style.visibility="visible");handleStyles();addDocumentPress();_.state.isMounted||(w.style.transition="none");if(getIsDefaultRenderFn()){var o=getDefaultTemplateChildren();setTransitionDuration([o.box,o.content],0)}s=function onFirstUpdate(){var e;if(_.state.isVisible&&!p){p=!0;w.offsetHeight;w.style.transition=_.props.moveTransition;if(getIsDefaultRenderFn()&&_.props.animation){var t=getDefaultTemplateChildren(),n=t.box,r=t.content;setTransitionDuration([n,r],a);setVisibilityState([n,r],"visible")}handleAriaContentAttribute();handleAriaExpandedAttribute();pushIfUnique(D,_);null==(e=_.popperInstance)||e.forceUpdate();invokeHook("onMount",[_]);_.props.animation&&getIsDefaultRenderFn()&&onTransitionedIn(a,function(){_.state.isShown=!0;invokeHook("onShown",[_])})}};mount()}}}function hide(){var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,r=getValueAtIndexOrReturn(_.props.duration,1,F.duration);if(!e&&!t&&!n){invokeHook("onHide",[_],!1);if(!1!==_.props.onHide(_)){_.state.isVisible=!1;_.state.isShown=!1;p=!1;d=!1;getIsDefaultRenderFn()&&(w.style.visibility="hidden");cleanupInteractiveMouseListeners();removeDocumentPress();handleStyles(!0);if(getIsDefaultRenderFn()){var a=getDefaultTemplateChildren(),o=a.box,i=a.content;if(_.props.animation){setTransitionDuration([o,i],r);setVisibilityState([o,i],"hidden")}}handleAriaContentAttribute();handleAriaExpandedAttribute();_.props.animation?getIsDefaultRenderFn()&&onTransitionedOut(r,_.unmount):_.unmount()}}}function hideWithInteractivity(e){getDocument().addEventListener("mousemove",f);pushIfUnique(L,f);f(e)}function unmount(){_.state.isVisible&&_.hide();if(_.state.isMounted){destroyPopperInstance();getNestedPopperTree().forEach(function(e){e._tippy.unmount()});w.parentNode&&w.parentNode.removeChild(w);D=D.filter(function(e){return e!==_});_.state.isMounted=!1;invokeHook("onHidden",[_])}}function destroy(){if(!_.state.isDestroyed){_.clearDelayTimeouts();_.unmount();removeListeners();delete e._tippy;_.state.isDestroyed=!0;invokeHook("onDestroy",[_])}}}function tippy(e,t){void 0===t&&(t={});var n=F.plugins.concat(t.plugins||[]);bindGlobalEventListeners();var r=Object.assign({},t,{plugins:n}),a=getArrayOfElements(e).reduce(function(e,t){var n=t&&createTippy(t,r);return n&&e.push(n),e},[]);return tippy_esm_isElement(e)?a[0]:a}tippy.defaultProps=F;tippy.setDefaultProps=function(e){Object.keys(e).forEach(function(t){F[t]=e[t]})};tippy.currentInput=I;Object.assign({},y,{effect:function effect(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper);t.styles=n;t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});tippy.setDefaultProps({render:render});var z=tippy;class P{constructor({editor:e,element:t,view:n,tippyOptions:a={},updateDelay:o=250,shouldShow:i}){this.preventHide=!1;this.shouldShow=({view:e,state:t,from:n,to:a})=>{let{doc:o,selection:i}=t,{empty:s}=i,l=!o.textBetween(n,a).length&&(0,r.eE)(t.selection),c=this.element.contains(document.activeElement);return!!(e.hasFocus()||c)&&!s&&!l&&!!this.editor.isEditable};this.mousedownHandler=()=>{this.preventHide=!0};this.dragstartHandler=()=>{this.hide()};this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))};this.blurHandler=({event:e})=>{var t;if(this.preventHide){this.preventHide=!1;return}(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||this.hide()};this.tippyBlurHandler=e=>{this.blurHandler({event:e})};this.handleDebouncedUpdate=(e,t)=>{let n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));if(n||r){this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer);this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay)}};this.updateHandler=(e,t,n,a)=>{var o,i,s;let{state:l,composing:c}=e,{selection:d}=l;if(c||!t&&!n)return;this.createTooltip();let{ranges:u}=d,h=Math.min(...u.map(e=>e.$from.pos)),p=Math.max(...u.map(e=>e.$to.pos)),m=null==(o=this.shouldShow)?void 0:o.call(this,{editor:this.editor,view:e,state:l,oldState:a,from:h,to:p});if(!m)return void this.hide();null==(i=this.tippy)||i.setProps({getReferenceClientRect:(null==(s=this.tippyOptions)?void 0:s.getReferenceClientRect)||(()=>{if((0,r.BQ)(l.selection)){let t=e.nodeDOM(h),n=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");n&&(t=n.firstChild);if(t)return t.getBoundingClientRect()}return(0,r.MG)(e,h,p)})});this.show()};this.editor=e;this.element=t;this.view=n;this.updateDelay=o;i&&(this.shouldShow=i);this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0});this.view.dom.addEventListener("dragstart",this.dragstartHandler);this.editor.on("focus",this.focusHandler);this.editor.on("blur",this.blurHandler);this.tippyOptions=a;this.element.remove();this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;if(!this.tippy&&t){this.tippy=z(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions});this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler)}}update(e,t){let{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);let a=!(null==t?void 0:t.selection.eq(e.state.selection)),o=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,a,o,t)}show(){var e;null==(e=this.tippy)||e.show()}hide(){var e;null==(e=this.tippy)||e.hide()}destroy(){var e,t;(null==(e=this.tippy)?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler);null==(t=this.tippy)||t.destroy();this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0});this.view.dom.removeEventListener("dragstart",this.dragstartHandler);this.editor.off("focus",this.focusHandler);this.editor.off("blur",this.blurHandler)}}let BubbleMenuPlugin=e=>new a.k_({key:"string"==typeof e.pluginKey?new a.hs(e.pluginKey):e.pluginKey,view:t=>new P({view:t,...e})});r.YY.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[BubbleMenuPlugin({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var G=n(7118);class Z{constructor({editor:e,element:t,view:n,tippyOptions:r={},shouldShow:a}){this.preventHide=!1;this.shouldShow=({view:e,state:t})=>{let{selection:n}=t,{$anchor:r,empty:a}=n,o=1===r.depth,i=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent;return!!e.hasFocus()&&!!a&&!!o&&!!i&&!!this.editor.isEditable};this.mousedownHandler=()=>{this.preventHide=!0};this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))};this.blurHandler=({event:e})=>{var t;if(this.preventHide){this.preventHide=!1;return}(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||this.hide()};this.tippyBlurHandler=e=>{this.blurHandler({event:e})};this.editor=e;this.element=t;this.view=n;a&&(this.shouldShow=a);this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0});this.editor.on("focus",this.focusHandler);this.editor.on("blur",this.blurHandler);this.tippyOptions=r;this.element.remove();this.element.style.visibility="visible"}createTooltip(){let{element:e}=this.editor.options,t=!!e.parentElement;if(!this.tippy&&t){this.tippy=z(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions});this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler)}}update(e,t){var n,a,o;let{state:i}=e,{doc:s,selection:l}=i,{from:c,to:d}=l,u=t&&t.doc.eq(s)&&t.selection.eq(l);if(u)return;this.createTooltip();let h=null==(n=this.shouldShow)?void 0:n.call(this,{editor:this.editor,view:e,state:i,oldState:t});if(!h)return void this.hide();null==(a=this.tippy)||a.setProps({getReferenceClientRect:(null==(o=this.tippyOptions)?void 0:o.getReferenceClientRect)||(()=>(0,r.MG)(e,c,d))});this.show()}show(){var e;null==(e=this.tippy)||e.show()}hide(){var e;null==(e=this.tippy)||e.hide()}destroy(){var e,t;(null==(e=this.tippy)?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler);null==(t=this.tippy)||t.destroy();this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0});this.editor.off("focus",this.focusHandler);this.editor.off("blur",this.blurHandler)}}let FloatingMenuPlugin=e=>new a.k_({key:"string"==typeof e.pluginKey?new a.hs(e.pluginKey):e.pluginKey,view:t=>new Z({view:t,...e})});r.YY.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[FloatingMenuPlugin({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});(0,G.defineComponent)({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){let n=(0,G.ref)(null);return(0,G.onMounted)(()=>{let{updateDelay:t,editor:r,pluginKey:a,shouldShow:o,tippyOptions:i}=e;r.registerPlugin(BubbleMenuPlugin({updateDelay:t,editor:r,element:n.value,pluginKey:a,shouldShow:o,tippyOptions:i}))}),(0,G.onBeforeUnmount)(()=>{let{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)}),()=>{var e;return(0,G.h)("div",{ref:n},null==(e=t.default)?void 0:e.call(t))}}});function useDebouncedRef(e){return(0,G.customRef)((t,n)=>({get:()=>(t(),e),set(t){e=t;requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class W extends r.KE{constructor(e={}){super(e);this.contentComponent=null;this.appContext=null;this.reactiveState=useDebouncedRef(this.view.state);this.reactiveExtensionStorage=useDebouncedRef(this.extensionStorage);this.on("beforeTransaction",({nextState:e})=>{this.reactiveState.value=e;this.reactiveExtensionStorage.value=this.extensionStorage});return(0,G.markRaw)(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){let n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){let t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}}let j=(0,G.defineComponent)({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){let t=(0,G.ref)(),n=(0,G.getCurrentInstance)();return(0,G.watchEffect)(()=>{let r=e.editor;r&&r.options.element&&t.value&&(0,G.nextTick)(()=>{if(!t.value||!r.options.element.firstChild)return;let e=(0,G.unref)(t.value);t.value.append(...r.options.element.childNodes);r.contentComponent=n.ctx._;n&&(r.appContext={...n.appContext,provides:n.provides});r.setOptions({element:e});r.createNodeViews()})}),(0,G.onBeforeUnmount)(()=>{let t=e.editor;if(t){t.contentComponent=null;t.appContext=null}}),{rootEl:t}},render(){return(0,G.h)("div",{ref:e=>{this.rootEl=e}})}});(0,G.defineComponent)({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){let n=(0,G.ref)(null);return(0,G.onMounted)(()=>{let{pluginKey:t,editor:r,tippyOptions:a,shouldShow:o}=e;r.registerPlugin(FloatingMenuPlugin({pluginKey:t,editor:r,element:n.value,tippyOptions:a,shouldShow:o}))}),(0,G.onBeforeUnmount)(()=>{let{pluginKey:t,editor:n}=e;n.unregisterPlugin(t)}),()=>{var e;return(0,G.h)("div",{ref:n},null==(e=t.default)?void 0:e.call(t))}}});let Y=(0,G.defineComponent)({name:"NodeViewContent",props:{as:{type:String,default:"div"}},render(){return(0,G.h)(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),H=(0,G.defineComponent)({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return(0,G.h)(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},null==(t=(e=this.$slots).default)?void 0:t.call(e))}}),useEditor=(e={})=>{let t=(0,G.shallowRef)();return(0,G.onMounted)(()=>{t.value=new W(e)}),(0,G.onBeforeUnmount)(()=>{var e;null==(e=t.value)||e.destroy()}),t};class X{constructor(e,{props:t={},editor:n}){this.editor=n;this.component=(0,G.markRaw)(e);this.el=document.createElement("div");this.props=(0,G.reactive)(t);this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var e,t,n,r;return(null==(t=null==(e=this.renderedComponent.vNode)?void 0:e.component)?void 0:t.exposed)?this.renderedComponent.vNode.component.exposed:null==(r=null==(n=this.renderedComponent.vNode)?void 0:n.component)?void 0:r.proxy}renderComponent(){let e=(0,G.h)(this.component,this.props);this.editor.appContext&&(e.appContext=this.editor.appContext);"undefined"!=typeof document&&this.el&&(0,G.render)(e,this.el);let destroy=()=>{this.el&&(0,G.render)(null,this.el);this.el=null;e=null};return{vNode:e,destroy,el:this.el?this.el.firstElementChild:null}}updateProps(e={}){Object.entries(e).forEach(([e,t])=>{this.props[e]=t});this.renderComponent()}destroy(){this.renderedComponent.destroy()}}class Q extends r.Yv{mount(){let e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()},t=this.onDragStart.bind(this);this.decorationClasses=(0,G.ref)(this.getDecorationClasses());let n=(0,G.defineComponent)({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:e=>{var n,r;return(0,G.provide)("onDragStart",t),(0,G.provide)("decorationClasses",this.decorationClasses),null==(r=(n=this.component).setup)?void 0:r.call(n,e,{expose:()=>void 0})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this);this.editor.on("selectionUpdate",this.handleSelectionUpdate);this.renderer=new X(n,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element||!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")}handleSelectionUpdate(){let{from:e,to:t}=this.editor.state.selection,n=this.getPos();if("number"==typeof n)if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){let rerenderComponent=e=>{this.decorationClasses.value=this.getDecorationClasses();this.renderer.updateProps(e)};if("function"==typeof this.options.update){let r=this.node,a=this.decorations,o=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:r,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:o,innerDecorations:n,updateProps:()=>rerenderComponent({node:e,decorations:t,innerDecorations:n})})}return e.type===this.node.type&&(e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,rerenderComponent({node:e,decorations:t,innerDecorations:n}),!0))}selectNode(){this.renderer.updateProps({selected:!0});this.renderer.element&&this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1});this.renderer.element&&this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy();this.editor.off("selectionUpdate",this.handleSelectionUpdate)}}function VueNodeViewRenderer(e,t){return n=>n.editor.contentComponent?new Q("function"==typeof e&&"__vccOpts"in e?e.__vccOpts:e,n,t):{}}},83868:function(e,t,n){"use strict";n.d(t,{MLh:function(){return useEventListener},Ubj:function(){return useMediaQuery},X2F:function(){return onClickOutside},hR7:function(){return useCurrentElement},lWr:function(){return useWindowSize}});var r=n(6106),a=n(7118);let o=r.oc?window:void 0;r.oc&&window.document;r.oc&&window.navigator;r.oc&&window.location;function unrefElement(e){var t;let n=(0,a.toValue)(e);return null!=(t=null==n?void 0:n.$el)?t:n}function useEventListener(...e){let t=(0,a.computed)(()=>{let t=(0,r.$r)((0,a.toValue)(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0});return(0,r.T3)(()=>{var n,i;return[null!=(n=null==(i=t.value)?void 0:i.map(e=>unrefElement(e)))?n:[o].filter(e=>null!=e),(0,r.$r)((0,a.toValue)(t.value?e[1]:e[0])),(0,r.$r)((0,a.unref)(t.value?e[2]:e[1])),(0,a.toValue)(t.value?e[3]:e[2])]},([e,t,n,a],o,i)=>{if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length)||!(null==n?void 0:n.length))return;let s=(0,r.Gv)(a)?{...a}:a,l=e.flatMap(e=>t.flatMap(t=>n.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,s))));i(()=>{l.forEach(e=>e())})},{flush:"post"})}let i=!1;function onClickOutside(e,t,n={}){let{window:s=o,ignore:l=[],capture:c=!0,detectIframe:d=!1,controls:u=!1}=n;if(!s)return u?{stop:r.lQ,cancel:r.lQ,trigger:r.lQ}:r.lQ;if(r.un&&!i){i=!0;let e={passive:!0};Array.from(s.document.body.children).forEach(t=>t.addEventListener("click",r.lQ,e));s.document.documentElement.addEventListener("click",r.lQ,e)}let h=!0,shouldIgnore=e=>(0,a.toValue)(l).some(t=>{if("string"==typeof t)return Array.from(s.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{let n=unrefElement(t);return n&&(e.target===n||e.composedPath().includes(n))}});function hasMultipleRoots(e){let t=(0,a.toValue)(e);return t&&16===t.$.subTree.shapeFlag}function checkMultipleRoots(e,t){let n=(0,a.toValue)(e),r=n.$.subTree&&n.$.subTree.children;return null!=r&&!!Array.isArray(r)&&r.some(e=>e.el===t.target||t.composedPath().includes(e.el))}let listener=n=>{let r=unrefElement(e);if(!(null==n.target||!(r instanceof Element)&&hasMultipleRoots(e)&&checkMultipleRoots(e,n))&&!(!r||r===n.target||n.composedPath().includes(r))){"detail"in n&&0===n.detail&&(h=!shouldIgnore(n));if(!h){h=!0;return}t(n)}},p=!1,m=[useEventListener(s,"click",e=>{if(!p){p=!0;setTimeout(()=>{p=!1},0);listener(e)}},{passive:!0,capture:c}),useEventListener(s,"pointerdown",t=>{let n=unrefElement(e);h=!shouldIgnore(t)&&!!(n&&!t.composedPath().includes(n))},{passive:!0}),d&&useEventListener(s,"blur",n=>{setTimeout(()=>{var r;let a=unrefElement(e);(null==(r=s.document.activeElement)?void 0:r.tagName)!=="IFRAME"||(null==a?void 0:a.contains(s.document.activeElement))||t(n)},0)},{passive:!0})].filter(Boolean),stop=()=>m.forEach(e=>e());return u?{stop,cancel:()=>{h=!1},trigger:e=>{h=!0;listener(e);h=!1}}:stop}function useMounted(){let e=(0,a.shallowRef)(!1),t=(0,a.getCurrentInstance)();return t&&(0,a.onMounted)(()=>{e.value=!0},t),e}function useSupported(e){let t=useMounted();return(0,a.computed)(()=>(t.value,!!e()))}let s=Symbol("vueuse-ssr-width");function useSSRWidth(){let e=(0,a.hasInjectionContext)()?(0,r.HA)(s,null):null;return"number"==typeof e?e:void 0}function useMediaQuery(e,t={}){let{window:n=o,ssrWidth:i=useSSRWidth()}=t,s=useSupported(()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia),l=(0,a.shallowRef)("number"==typeof i),c=(0,a.shallowRef)(),d=(0,a.shallowRef)(!1);return(0,a.watchEffect)(()=>{if(l.value){l.value=!s.value;d.value=(0,a.toValue)(e).split(",").some(e=>{let t=e.includes("not all"),n=e.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),a=e.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),o=!!(n||a);return n&&o&&(o=i>=(0,r.MK)(n[1])),a&&o&&(o=i<=(0,r.MK)(a[1])),t?!o:o});return}if(s.value){c.value=n.matchMedia((0,a.toValue)(e));d.value=c.value.matches}}),useEventListener(c,"change",e=>{d.value=e.matches},{passive:!0}),(0,a.computed)(()=>d.value)}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self);function useCurrentElement(e){let t=(0,a.getCurrentInstance)(),n=(0,r.bW)(()=>null,()=>e?unrefElement(e):t.proxy.$el);return(0,a.onUpdated)(n.trigger),(0,a.onMounted)(n.trigger),n}r.D_;function useWindowSize(e={}){let{window:t=o,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:s=!0,includeScrollbar:l=!0,type:c="inner"}=e,d=(0,a.shallowRef)(n),u=(0,a.shallowRef)(i),update=()=>{if(t)if("outer"===c){d.value=t.outerWidth;u.value=t.outerHeight}else if("visual"===c&&t.visualViewport){let{width:e,height:n,scale:r}=t.visualViewport;d.value=Math.round(e*r);u.value=Math.round(n*r)}else if(l){d.value=t.innerWidth;u.value=t.innerHeight}else{d.value=t.document.documentElement.clientWidth;u.value=t.document.documentElement.clientHeight}};update();(0,r.rd)(update);let h={passive:!0};return useEventListener("resize",update,h),t&&"visual"===c&&t.visualViewport&&useEventListener(t.visualViewport,"resize",update,h),s&&(0,a.watch)(useMediaQuery("(orientation: portrait)"),()=>update()),{width:d,height:u}}},6106:function(e,t,n){"use strict";n.d(t,{$r:function(){return toArray},D_:function(){return identity},Gv:function(){return isObject},HA:function(){return injectLocal},MK:function(){return pxValue},T3:function(){return watchImmediate},TG:function(){return until},TO:function(){return useTimeoutFn},bW:function(){return computedWithControl},lQ:function(){return noop},oc:function(){return o},rd:function(){return tryOnMounted},un:function(){return s}});var r=n(7118);function computedWithControl(e,t,n={}){let a,o,i,s=!0,update=()=>{s=!0;o()};(0,r.watch)(e,update,{flush:"sync",...n});let l="function"==typeof t?t:t.get,c="function"==typeof t?void 0:t.set,d=(0,r.customRef)((e,t)=>(a=e,o=t,{get(){if(s){i=l(i);s=!1}return a(),i},set(e){null==c||c(e)}}));return d.trigger=update,d}function tryOnScopeDispose(e,t){return!!(0,r.getCurrentScope)()&&((0,r.onScopeDispose)(e,t),!0)}let a=new WeakMap,injectLocal=(...e)=>{var t;let n=e[0],o=null==(t=(0,r.getCurrentInstance)())?void 0:t.proxy,i=null!=o?o:(0,r.getCurrentScope)();if(null==i&&!(0,r.hasInjectionContext)())throw Error("injectLocal must be called in setup");return i&&a.has(i)&&n in a.get(i)?a.get(i)[n]:(0,r.inject)(...e)},o="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&WorkerGlobalScope;let i=Object.prototype.toString,isObject=e=>"[object Object]"===i.call(e),noop=()=>{},s=getIsIOS();function getIsIOS(){var e,t,n;return o&&!!(null==(e=window)||null==(e=e.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=window)||null==(t=t.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==(n=window)?void 0:n.navigator.userAgent))}function promiseTimeout(e,t=!1,n="Timeout"){return new Promise((r,a)=>{t?setTimeout(()=>a(n),e):setTimeout(r,e)})}function identity(e){return e}function pxValue(e){return e.endsWith("rem")?16*Number.parseFloat(e):Number.parseFloat(e)}function toArray(e){return Array.isArray(e)?e:[e]}function cacheStringFunction(e){let t=Object.create(null);return n=>t[n]||(t[n]=e(n))}let l=/\B([A-Z])/g;cacheStringFunction(e=>e.replace(l,"-$1").toLowerCase());let c=/-(\w)/g;cacheStringFunction(e=>e.replace(c,(e,t)=>t?t.toUpperCase():""));function getLifeCycleTarget(e){return e||(0,r.getCurrentInstance)()}function tryOnMounted(e,t=!0,n){getLifeCycleTarget(n)?(0,r.onMounted)(e,n):t?e():(0,r.nextTick)(e)}function createUntil(e,t=!1){function toMatch(n,{flush:a="sync",deep:o=!1,timeout:i,throwOnTimeout:s}={}){let l=null,c=[new Promise(i=>{l=(0,r.watch)(e,e=>{if(n(e)!==t){l?l():(0,r.nextTick)(()=>null==l?void 0:l());i(e)}},{flush:a,deep:o,immediate:!0})})];return null!=i&&c.push(promiseTimeout(i,s).then(()=>(0,r.toValue)(e)).finally(()=>null==l?void 0:l())),Promise.race(c)}function toBe(n,a){if(!(0,r.isRef)(n))return toMatch(e=>e===n,a);let{flush:o="sync",deep:i=!1,timeout:s,throwOnTimeout:l}=null!=a?a:{},c=null,d=[new Promise(a=>{c=(0,r.watch)([e,n],([e,n])=>{if(t!==(e===n)){c?c():(0,r.nextTick)(()=>null==c?void 0:c());a(e)}},{flush:o,deep:i,immediate:!0})})];return null!=s&&d.push(promiseTimeout(s,l).then(()=>(0,r.toValue)(e)).finally(()=>(null==c||c(),(0,r.toValue)(e)))),Promise.race(d)}function toBeTruthy(e){return toMatch(e=>!!e,e)}function toBeNull(e){return toBe(null,e)}function toBeUndefined(e){return toBe(void 0,e)}function toBeNaN(e){return toMatch(Number.isNaN,e)}function toContains(e,t){return toMatch(t=>{let n=Array.from(t);return n.includes(e)||n.includes((0,r.toValue)(e))},t)}function changed(e){return changedTimes(1,e)}function changedTimes(e=1,t){let n=-1;return toMatch(()=>(n+=1)>=e,t)}return Array.isArray((0,r.toValue)(e))?{toMatch,toContains,changed,changedTimes,get not(){return createUntil(e,!t)}}:{toMatch,toBe,toBeTruthy,toBeNull,toBeNaN,toBeUndefined,changed,changedTimes,get not(){return createUntil(e,!t)}}}function until(e){return createUntil(e)}function useTimeoutFn(e,t,n={}){let a,{immediate:i=!0,immediateCallback:s=!1}=n,l=(0,r.shallowRef)(!1);function clear(){if(a){clearTimeout(a);a=void 0}}function stop(){l.value=!1;clear()}function start(...n){s&&e();clear();l.value=!0;a=setTimeout(()=>{l.value=!1;a=void 0;e(...n)},(0,r.toValue)(t))}if(i){l.value=!0;o&&start()}return tryOnScopeDispose(stop),{isPending:(0,r.shallowReadonly)(l),start,stop}}function watchImmediate(e,t,n){return(0,r.watch)(e,t,{...n,immediate:!0})}},99418:function(e,t,n){"use strict";n.d(t,{A:function(){return Q}});let{entries:r,setPrototypeOf:a,isFrozen:o,getPrototypeOf:i,getOwnPropertyDescriptor:s}=Object,{freeze:l,seal:c,create:d}=Object,{apply:u,construct:h}="undefined"!=typeof Reflect&&Reflect;l||(l=function freeze(e){return e});c||(c=function seal(e){return e});u||(u=function apply(e,t,n){return e.apply(t,n)});h||(h=function construct(e,t){return new e(...t)});let p=unapply(Array.prototype.forEach),m=unapply(Array.prototype.lastIndexOf),f=unapply(Array.prototype.pop),g=unapply(Array.prototype.push),b=unapply(Array.prototype.splice),_=unapply(String.prototype.toLowerCase),E=unapply(String.prototype.toString),w=unapply(String.prototype.match),v=unapply(String.prototype.replace),k=unapply(String.prototype.indexOf),S=unapply(String.prototype.trim),y=unapply(Object.prototype.hasOwnProperty),A=unapply(RegExp.prototype.test),N=unconstruct(TypeError);function unapply(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return u(e,t,r)}}function unconstruct(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(e,n)}}function addToSet(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;a&&a(e,null);let r=t.length;for(;r--;){let a=t[r];if("string"==typeof a){let e=n(a);if(e!==a){o(t)||(t[r]=e);a=e}}e[a]=!0}return e}function cleanArray(e){for(let t=0;t<e.length;t++)y(e,t)||(e[t]=null);return e}function clone(e){let t=d(null);for(let[n,a]of r(e))y(e,n)&&(Array.isArray(a)?t[n]=cleanArray(a):a&&"object"==typeof a&&a.constructor===Object?t[n]=clone(a):t[n]=a);return t}function lookupGetter(e,t){for(;null!==e;){let n=s(e,t);if(n){if(n.get)return unapply(n.get);if("function"==typeof n.value)return unapply(n.value)}e=i(e)}return function fallbackValue(){return null}}let R=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),I=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x=l(["#text"]),B=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),O=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),L=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),D=c(/<%[\w\W]*|[\w\W]*%>/gm),z=c(/\$\{[\w\W]*/gm),P=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),G=c(/^aria-[\-\w]+$/),Z=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=c(/^(?:\w+script|data):/i),j=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=c(/^html$/i);var H=Object.freeze({__proto__:null,ARIA_ATTR:G,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:c(/^[a-z][.\w]*(-[.\w]+)+$/i),DATA_ATTR:P,DOCTYPE_NAME:Y,ERB_EXPR:D,IS_ALLOWED_URI:Z,IS_SCRIPT_OR_DATA:W,MUSTACHE_EXPR:L,TMPLIT_EXPR:z});let X={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},_createTrustedTypesPolicy=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){console.warn("TrustedTypes policy "+a+" could not be created.");return null}},_createHooksMap=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return"undefined"==typeof window?null:window}(),DOMPurify=e=>createDOMPurify(e);DOMPurify.version="3.2.5";DOMPurify.removed=[];if(!t||!t.document||t.document.nodeType!==X.document||!t.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:n}=t,a=n,o=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:c,Element:u,NodeFilter:h,NamedNodeMap:L=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:D,DOMParser:z,trustedTypes:P}=t,G=u.prototype,W=lookupGetter(G,"cloneNode"),j=lookupGetter(G,"remove"),Q=lookupGetter(G,"nextSibling"),J=lookupGetter(G,"childNodes"),K=lookupGetter(G,"parentNode");if("function"==typeof s){let e=n.createElement("template");e.content&&e.content.ownerDocument&&(n=e.content.ownerDocument)}let $="",{implementation:q,createNodeIterator:ee,createDocumentFragment:et,getElementsByTagName:en}=n,{importNode:er}=a,ea=_createHooksMap();DOMPurify.isSupported="function"==typeof r&&"function"==typeof K&&q&&void 0!==q.createHTMLDocument;let{MUSTACHE_EXPR:eo,ERB_EXPR:ei,TMPLIT_EXPR:es,DATA_ATTR:el,ARIA_ATTR:ec,IS_SCRIPT_OR_DATA:ed,ATTR_WHITESPACE:eu,CUSTOM_ELEMENT:eh}=H,{IS_ALLOWED_URI:ep}=H,em=null,ef=addToSet({},[...R,...C,...V,...U,...x]),eg=null,eb=addToSet({},[...B,...F,...M,...O]),e_=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eE=null,ew=null,ev=!0,ek=!0,eS=!1,ey=!0,eA=!1,eN=!0,eR=!1,eC=!1,eV=!1,eT=!1,eU=!1,eI=!1,ex=!0,eB=!1,eF=!0,eM=!1,eO={},eL=null,eD=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ez=null,eP=addToSet({},["audio","video","img","source","image","track"]),eG=null,eZ=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eW="http://www.w3.org/1998/Math/MathML",ej="http://www.w3.org/2000/svg",eY="http://www.w3.org/1999/xhtml",eH=eY,eX=!1,eQ=null,eJ=addToSet({},[eW,ej,eY],E),eK=addToSet({},["mi","mo","mn","ms","mtext"]),e$=addToSet({},["annotation-xml"]),eq=addToSet({},["title","style","font","a","script"]),e0=null,e1=["application/xhtml+xml","text/html"],e2=null,e9=null,e5=n.createElement("form"),isRegexOrFunction=function(e){return e instanceof RegExp||e instanceof Function},_parseConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e9||e9!==t){t&&"object"==typeof t||(t={});t=clone(t);e2="application/xhtml+xml"===(e0=-1===e1.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?E:_;em=y(t,"ALLOWED_TAGS")?addToSet({},t.ALLOWED_TAGS,e2):ef;eg=y(t,"ALLOWED_ATTR")?addToSet({},t.ALLOWED_ATTR,e2):eb;eQ=y(t,"ALLOWED_NAMESPACES")?addToSet({},t.ALLOWED_NAMESPACES,E):eJ;eG=y(t,"ADD_URI_SAFE_ATTR")?addToSet(clone(eZ),t.ADD_URI_SAFE_ATTR,e2):eZ;ez=y(t,"ADD_DATA_URI_TAGS")?addToSet(clone(eP),t.ADD_DATA_URI_TAGS,e2):eP;eL=y(t,"FORBID_CONTENTS")?addToSet({},t.FORBID_CONTENTS,e2):eD;eE=y(t,"FORBID_TAGS")?addToSet({},t.FORBID_TAGS,e2):{};ew=y(t,"FORBID_ATTR")?addToSet({},t.FORBID_ATTR,e2):{};eO=!!y(t,"USE_PROFILES")&&t.USE_PROFILES;ev=!1!==t.ALLOW_ARIA_ATTR;ek=!1!==t.ALLOW_DATA_ATTR;eS=t.ALLOW_UNKNOWN_PROTOCOLS||!1;ey=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR;eA=t.SAFE_FOR_TEMPLATES||!1;eN=!1!==t.SAFE_FOR_XML;eR=t.WHOLE_DOCUMENT||!1;eT=t.RETURN_DOM||!1;eU=t.RETURN_DOM_FRAGMENT||!1;eI=t.RETURN_TRUSTED_TYPE||!1;eV=t.FORCE_BODY||!1;ex=!1!==t.SANITIZE_DOM;eB=t.SANITIZE_NAMED_PROPS||!1;eF=!1!==t.KEEP_CONTENT;eM=t.IN_PLACE||!1;ep=t.ALLOWED_URI_REGEXP||Z;eH=t.NAMESPACE||eY;eK=t.MATHML_TEXT_INTEGRATION_POINTS||eK;e$=t.HTML_INTEGRATION_POINTS||e$;e_=t.CUSTOM_ELEMENT_HANDLING||{};t.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(e_.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck);t.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(e_.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck);t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(e_.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements);eA&&(ek=!1);eU&&(eT=!0);if(eO){em=addToSet({},x);eg=[];if(!0===eO.html){addToSet(em,R);addToSet(eg,B)}if(!0===eO.svg){addToSet(em,C);addToSet(eg,F);addToSet(eg,O)}if(!0===eO.svgFilters){addToSet(em,V);addToSet(eg,F);addToSet(eg,O)}if(!0===eO.mathMl){addToSet(em,U);addToSet(eg,M);addToSet(eg,O)}}if(t.ADD_TAGS){em===ef&&(em=clone(em));addToSet(em,t.ADD_TAGS,e2)}if(t.ADD_ATTR){eg===eb&&(eg=clone(eg));addToSet(eg,t.ADD_ATTR,e2)}t.ADD_URI_SAFE_ATTR&&addToSet(eG,t.ADD_URI_SAFE_ATTR,e2);if(t.FORBID_CONTENTS){eL===eD&&(eL=clone(eL));addToSet(eL,t.FORBID_CONTENTS,e2)}eF&&(em["#text"]=!0);eR&&addToSet(em,["html","head","body"]);if(em.table){addToSet(em,["tbody"]);delete eE.tbody}if(t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');$=(e=t.TRUSTED_TYPES_POLICY).createHTML("")}else{void 0===e&&(e=_createTrustedTypesPolicy(P,o));null!==e&&"string"==typeof $&&($=e.createHTML(""))}l&&l(t);e9=t}},e3=addToSet({},[...C,...V,...T]),e4=addToSet({},[...U,...I]),_checkValidNamespace=function(e){let t=K(e);t&&t.tagName||(t={namespaceURI:eH,tagName:"template"});let n=_(e.tagName),r=_(t.tagName);return!!eQ[e.namespaceURI]&&(e.namespaceURI===ej?t.namespaceURI===eY?"svg"===n:t.namespaceURI===eW?"svg"===n&&("annotation-xml"===r||eK[r]):!!e3[n]:e.namespaceURI===eW?t.namespaceURI===eY?"math"===n:t.namespaceURI===ej?"math"===n&&e$[r]:!!e4[n]:e.namespaceURI===eY?(t.namespaceURI!==ej||!!e$[r])&&(t.namespaceURI!==eW||!!eK[r])&&!e4[n]&&(eq[n]||!e3[n]):"application/xhtml+xml"===e0&&!!eQ[e.namespaceURI])},_forceRemove=function(e){g(DOMPurify.removed,{element:e});try{K(e).removeChild(e)}catch(t){j(e)}},_removeAttribute=function(e,t){try{g(DOMPurify.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(DOMPurify.removed,{attribute:null,from:t})}t.removeAttribute(e);if("is"===e)if(eT||eU)try{_forceRemove(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},_initDocument=function(t){let r=null,a=null;if(eV)t="<remove></remove>"+t;else{let e=w(t,/^[\r\n\t ]+/);a=e&&e[0]}"application/xhtml+xml"===e0&&eH===eY&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");let o=e?e.createHTML(t):t;if(eH===eY)try{r=new z().parseFromString(o,e0)}catch(e){}if(!r||!r.documentElement){r=q.createDocument(eH,"template",null);try{r.documentElement.innerHTML=eX?$:o}catch(e){}}let i=r.body||r.documentElement;return(t&&a&&i.insertBefore(n.createTextNode(a),i.childNodes[0]||null),eH===eY)?en.call(r,eR?"html":"body")[0]:eR?r.documentElement:i},_createNodeIterator=function(e){return ee.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},_isClobbered=function(e){return e instanceof D&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof L)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},_isNode=function(e){return"function"==typeof c&&e instanceof c};function _executeHooks(e,t,n){p(e,e=>{e.call(DOMPurify,t,n,e9)})}let _sanitizeElements=function(e){let t=null;_executeHooks(ea.beforeSanitizeElements,e,null);if(_isClobbered(e))return _forceRemove(e),!0;let n=e2(e.nodeName);_executeHooks(ea.uponSanitizeElement,e,{tagName:n,allowedTags:em});if(e.hasChildNodes()&&!_isNode(e.firstElementChild)&&A(/<[/\w!]/g,e.innerHTML)&&A(/<[/\w!]/g,e.textContent)||e.nodeType===X.progressingInstruction||eN&&e.nodeType===X.comment&&A(/<[/\w]/g,e.data))return _forceRemove(e),!0;if(!em[n]||eE[n]){if(!eE[n]&&_isBasicCustomElement(n)&&(e_.tagNameCheck instanceof RegExp&&A(e_.tagNameCheck,n)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(n)))return!1;if(eF&&!eL[n]){let t=K(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t){let r=n.length;for(let a=r-1;a>=0;--a){let r=W(n[a],!0);r.__removalCount=(e.__removalCount||0)+1;t.insertBefore(r,Q(e))}}}return _forceRemove(e),!0}if(e instanceof u&&!_checkValidNamespace(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&A(/<\/no(script|embed|frames)/i,e.innerHTML))return _forceRemove(e),!0;if(eA&&e.nodeType===X.text){t=e.textContent;p([eo,ei,es],e=>{t=v(t,e," ")});if(e.textContent!==t){g(DOMPurify.removed,{element:e.cloneNode()});e.textContent=t}}return _executeHooks(ea.afterSanitizeElements,e,null),!1},_isValidAttribute=function(e,t,r){if(ex&&("id"===t||"name"===t)&&(r in n||r in e5))return!1;if(ek&&!ew[t]&&A(el,t));else if(ev&&A(ec,t));else if(!eg[t]||ew[t]){if(!(_isBasicCustomElement(e)&&(e_.tagNameCheck instanceof RegExp&&A(e_.tagNameCheck,e)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(e))&&(e_.attributeNameCheck instanceof RegExp&&A(e_.attributeNameCheck,t)||e_.attributeNameCheck instanceof Function&&e_.attributeNameCheck(t))||"is"===t&&e_.allowCustomizedBuiltInElements&&(e_.tagNameCheck instanceof RegExp&&A(e_.tagNameCheck,r)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(r))))return!1}else if(eG[t]);else if(A(ep,v(r,eu,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===k(r,"data:")&&ez[e]);else if(eS&&!A(ed,v(r,eu,"")));else if(r)return!1;return!0},_isBasicCustomElement=function(e){return"annotation-xml"!==e&&w(e,eh)},_sanitizeAttributes=function(t){_executeHooks(ea.beforeSanitizeAttributes,t,null);let{attributes:n}=t;if(!n||_isClobbered(t))return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:eg,forceKeepAttr:void 0},a=n.length;for(;a--;){let{name:o,namespaceURI:i,value:s}=n[a],l=e2(o),c="value"===o?s:S(s);r.attrName=l;r.attrValue=c;r.keepAttr=!0;r.forceKeepAttr=void 0;_executeHooks(ea.uponSanitizeAttribute,t,r);c=r.attrValue;if(eB&&("id"===l||"name"===l)){_removeAttribute(o,t);c="user-content-"+c}if(eN&&A(/((--!?|])>)|<\/(style|title)/i,c)){_removeAttribute(o,t);continue}if(r.forceKeepAttr)continue;_removeAttribute(o,t);if(!r.keepAttr)continue;if(!ey&&A(/\/>/i,c)){_removeAttribute(o,t);continue}eA&&p([eo,ei,es],e=>{c=v(c,e," ")});let d=e2(t.nodeName);if(_isValidAttribute(d,l,c)){if(e&&"object"==typeof P&&"function"==typeof P.getAttributeType)if(i);else switch(P.getAttributeType(d,l)){case"TrustedHTML":c=e.createHTML(c);break;case"TrustedScriptURL":c=e.createScriptURL(c)}try{i?t.setAttributeNS(i,o,c):t.setAttribute(o,c);_isClobbered(t)?_forceRemove(t):f(DOMPurify.removed)}catch(e){}}}_executeHooks(ea.afterSanitizeAttributes,t,null)},_sanitizeShadowDOM=function _sanitizeShadowDOM(e){let t=null,n=_createNodeIterator(e);_executeHooks(ea.beforeSanitizeShadowDOM,e,null);for(;t=n.nextNode();){_executeHooks(ea.uponSanitizeShadowNode,t,null);_sanitizeElements(t);_sanitizeAttributes(t);t.content instanceof i&&_sanitizeShadowDOM(t.content)}_executeHooks(ea.afterSanitizeShadowDOM,e,null)};return DOMPurify.sanitize=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,l=null;(eX=!t)&&(t="\x3c!--\x3e");if("string"!=typeof t&&!_isNode(t))if("function"==typeof t.toString){t=t.toString();if("string"!=typeof t)throw N("dirty is not a string, aborting")}else throw N("toString is not a function");if(!DOMPurify.isSupported)return t;eC||_parseConfig(n);DOMPurify.removed=[];"string"==typeof t&&(eM=!1);if(eM){if(t.nodeName){let e=e2(t.nodeName);if(!em[e]||eE[e])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)(o=(r=_initDocument("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType===X.element&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!eT&&!eA&&!eR&&-1===t.indexOf("<"))return e&&eI?e.createHTML(t):t;r=_initDocument(t);if(!r)return eT?null:eI?$:""}r&&eV&&_forceRemove(r.firstChild);let d=_createNodeIterator(eM?t:r);for(;s=d.nextNode();){_sanitizeElements(s);_sanitizeAttributes(s);s.content instanceof i&&_sanitizeShadowDOM(s.content)}if(eM)return t;if(eT){if(eU){l=et.call(r.ownerDocument);for(;r.firstChild;)l.appendChild(r.firstChild)}else l=r;return(eg.shadowroot||eg.shadowrootmode)&&(l=er.call(a,l,!0)),l}let u=eR?r.outerHTML:r.innerHTML;return eR&&em["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&A(Y,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),eA&&p([eo,ei,es],e=>{u=v(u,e," ")}),e&&eI?e.createHTML(u):u},DOMPurify.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_parseConfig(e);eC=!0},DOMPurify.clearConfig=function(){e9=null;eC=!1},DOMPurify.isValidAttribute=function(e,t,n){return e9||_parseConfig({}),_isValidAttribute(e2(e),e2(t),n)},DOMPurify.addHook=function(e,t){"function"==typeof t&&g(ea[e],t)},DOMPurify.removeHook=function(e,t){if(void 0!==t){let n=m(ea[e],t);return -1===n?void 0:b(ea[e],n,1)[0]}return f(ea[e])},DOMPurify.removeHooks=function(e){ea[e]=[]},DOMPurify.removeAllHooks=function(){ea=_createHooksMap()},DOMPurify}var Q=createDOMPurify()},16991:function(e,t,n){"use strict";n.d(t,{N:function(){return uniqueId}});let r=0;function uniqueId(e=""){let t=++r;return`${e}${t}`}},95101:function(e,t,n){"use strict";n.d(t,{s:function(){return debounce}});function debounce(e,t,{signal:n,edges:r}={}){let a,o=null,i=null!=r&&r.includes("leading"),s=null==r||r.includes("trailing"),invoke=()=>{if(null!==o){e.apply(a,o);a=void 0;o=null}},l=null,schedule=()=>{null!=l&&clearTimeout(l);l=setTimeout(()=>{l=null;(()=>{s&&invoke();cancel()})()},t)},cancel=()=>{(()=>{if(null!==l){clearTimeout(l);l=null}})();a=void 0;o=null},debounced=function(...e){if(n?.aborted)return;a=this;o=e;let t=null==l;schedule();i&&t&&invoke()};return debounced.schedule=schedule,debounced.cancel=cancel,debounced.flush=()=>{invoke()},n?.addEventListener("abort",cancel,{once:!0}),debounced}},38720:function(e,t,n){"use strict";n.d(t,{n:function(){return throttle}});var r=n(95101);function throttle(e,t,{signal:n,edges:a=["leading","trailing"]}={}){let o=null,i=(0,r.s)(e,t,{signal:n,edges:a}),throttled=function(...e){if(null==o)o=Date.now();else if(Date.now()-o>=t){o=Date.now();i.cancel()}i(...e)};return throttled.cancel=i.cancel,throttled.flush=i.flush,throttled}},97352:function(e,t,n){"use strict";n.d(t,{K:function(){return keydownHandler},w:function(){return keymap}});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),i="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),s=0;s<10;s++)r[48+s]=r[96+s]=String(s);for(var s=1;s<=24;s++)r[s+111]="F"+s;for(var s=65;s<=90;s++){r[s]=String.fromCharCode(s+32);a[s]=String.fromCharCode(s)}for(var l in r)a.hasOwnProperty(l)||(a[l]=r[l]);function keyName(e){var t=!(o&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||i&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?a:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}var c=n(42845);let d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function normalizeKeyName(e){let t,n,r,a,o=e.split(/-(?!$)/),i=o[o.length-1];"Space"==i&&(i=" ");for(let e=0;e<o.length-1;e++){let i=o[e];if(/^(cmd|meta|m)$/i.test(i))a=!0;else if(/^a(lt)?$/i.test(i))t=!0;else if(/^(c|ctrl|control)$/i.test(i))n=!0;else if(/^s(hift)?$/i.test(i))r=!0;else if(/^mod$/i.test(i))d?a=!0:n=!0;else throw Error("Unrecognized modifier name: "+i)}return t&&(i="Alt-"+i),n&&(i="Ctrl-"+i),a&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function normalize(e){let t=Object.create(null);for(let n in e)t[normalizeKeyName(n)]=e[n];return t}function modifiers(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function keymap(e){return new c.k_({props:{handleKeyDown:keydownHandler(e)}})}function keydownHandler(e){let t=normalize(e);return function(e,n){let a=keyName(n),o,i=t[modifiers(a,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==a.length&&" "!=a){if(n.shiftKey){let r=t[modifiers(a,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=a){let r=t[modifiers(o,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}},57505:function(e,t,n){"use strict";n.d(t,{S4:function(){return S},ZF:function(){return I},FK:function(){return a},CU:function(){return i},sX:function(){return v},bP:function(){return f},u$:function(){return p},vI:function(){return s},Sj:function(){return k},Ji:function(){return l}});function OrderedMap(e){this.content=e}OrderedMap.prototype={constructor:OrderedMap,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return -1},get:function(e){var t=this.find(e);return -1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,a=r.find(e),o=r.content.slice();if(-1==a)o.push(n||e,t);else{o[a+1]=t;n&&(o[a]=n)}return new OrderedMap(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new OrderedMap(n)},addToStart:function(e,t){return new OrderedMap([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new OrderedMap(n)},addBefore:function(e,t,n){var r=this.remove(t),a=r.content.slice(),o=r.find(e);return a.splice(-1==o?a.length:o,0,t,n),new OrderedMap(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=OrderedMap.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};OrderedMap.from=function(e){if(e instanceof OrderedMap)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new OrderedMap(t)};var r=OrderedMap;function findDiffStart(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let a=e.child(r),o=t.child(r);if(a==o){n+=a.nodeSize;continue}if(!a.sameMarkup(o))return n;if(a.isText&&a.text!=o.text){for(let e=0;a.text[e]==o.text[e];e++)n++;return n}if(a.content.size||o.content.size){let e=findDiffStart(a.content,o.content,n+1);if(null!=e)return e}n+=a.nodeSize}}function findDiffEnd(e,t,n,r){for(let a=e.childCount,o=t.childCount;;){if(0==a||0==o)return a==o?null:{a:n,b:r};let i=e.child(--a),s=t.child(--o),l=i.nodeSize;if(i==s){n-=l;r-=l;continue}if(!i.sameMarkup(s))return{a:n,b:r};if(i.isText&&i.text!=s.text){let e=0,t=Math.min(i.text.length,s.text.length);for(;e<t&&i.text[i.text.length-e-1]==s.text[s.text.length-e-1];){e++;n--;r--}return{a:n,b:r}}if(i.content.size||s.content.size){let e=findDiffEnd(i.content,s.content,n-1,r-1);if(e)return e}n-=l;r-=l}}class a{constructor(e,t){this.content=e;this.size=t||0;if(null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,a){for(let o=0,i=0;i<t;o++){let s=this.content[o],l=i+s.nodeSize;if(l>e&&!1!==n(s,r+i,a||null,o)&&s.content.size){let a=i+1;s.nodesBetween(Math.max(0,e-a),Math.min(s.content.size,t-a),n,r+a)}i=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let a="",o=!0;return this.nodesBetween(e,t,(i,s)=>{let l=i.isText?i.text.slice(Math.max(e,s)-s,t-s):i.isLeaf?r?"function"==typeof r?r(i):r:i.type.spec.leafText?i.type.spec.leafText(i):"":"";i.isBlock&&(i.isLeaf&&l||i.isTextblock)&&n&&(o?o=!1:a+=n);a+=l},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;if(t.isText&&t.sameMarkup(n)){r[r.length-1]=t.withText(t.text+n.text);o=1}for(;o<e.content.length;o++)r.push(e.content[o]);return new a(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let a=0,o=0;o<t;a++){let i=this.content[a],s=o+i.nodeSize;if(s>e){(o<e||s>t)&&(i=i.isText?i.cut(Math.max(0,e-o),Math.min(i.text.length,t-o)):i.cut(Math.max(0,e-o-1),Math.min(i.content.size,t-o-1)));n.push(i);r+=i.nodeSize}o=s}return new a(n,r)}cutByIndex(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,o)}addToStart(e){return new a([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new a(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t);n+=r.nodeSize}}findDiffStart(e,t=0){return findDiffStart(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return findDiffEnd(this,e,t,n)}findIndex(e,t=-1){if(0==e)return retIndex(0,e);if(e==this.size)return retIndex(this.content.length,e);if(e>this.size||e<0)throw RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let a=r+this.child(n).nodeSize;if(a>=e){if(a==e||t>0)return retIndex(n+1,a);return retIndex(n,r)}r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return a.empty;let t,n=0;for(let r=0;r<e.length;r++){let a=e[r];n+=a.nodeSize;if(r&&a.isText&&e[r-1].sameMarkup(a)){t||(t=e.slice(0,r));t[t.length-1]=a.withText(t[t.length-1].text+a.text)}else t&&t.push(a)}return new a(t||e,n)}static from(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}a.empty=new a([],0);let o={index:0,offset:0};function retIndex(e,t){return o.index=e,o.offset=t,o}function compareDeep(e,t){if(e===t)return!0;if(!(e&&"object"==typeof e)||!(t&&"object"==typeof t))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!compareDeep(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!compareDeep(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class i{constructor(e,t){this.type=e;this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let a=e[r];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,r));else{if(a.type.excludes(this.type))return e;if(!n&&a.type.rank>this.type.rank){t||(t=e.slice(0,r));t.push(this);n=!0}t&&t.push(a)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return i.none;if(e instanceof i)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}i.none=[];class s extends Error{}class l{constructor(e,t,n){this.content=e;this.openStart=t;this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=insertInto(this.content,e+this.openStart,t);return n&&new l(n,this.openStart,this.openEnd)}removeBetween(e,t){return new l(removeRange(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return l.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw RangeError("Invalid input for Slice.fromJSON");return new l(a.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new l(e,n,r)}}l.empty=new l(a.empty,0,0);function removeRange(e,t,n){let{index:r,offset:a}=e.findIndex(t),o=e.maybeChild(r),{index:i,offset:s}=e.findIndex(n);if(a==t||o.isText){if(s!=n&&!e.child(i).isText)throw RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=i)throw RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(removeRange(o.content,t-a-1,n-a-1)))}function insertInto(e,t,n,r){let{index:a,offset:o}=e.findIndex(t),i=e.maybeChild(a);if(o==t||i.isText)return r&&!r.canReplace(a,a,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=insertInto(i.content,t-o-1,n);return s&&e.replaceChild(a,i.copy(s))}function replace(e,t,n){if(n.openStart>e.depth)throw new s("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new s("Inconsistent open depths");return replaceOuter(e,t,n,0)}function replaceOuter(e,t,n,r){let a=e.index(r),o=e.node(r);if(a==t.index(r)&&r<e.depth-n.openStart){let i=replaceOuter(e,t,n,r+1);return o.copy(o.content.replaceChild(a,i))}if(!n.content.size)return dist_close(o,replaceTwoWay(e,t,r));if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:a,end:i}=prepareSliceForReplace(n,e);return dist_close(o,replaceThreeWay(e,a,i,t,r))}{let r=e.parent,a=r.content;return dist_close(r,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}}function checkJoin(e,t){if(!t.type.compatibleContent(e.type))throw new s("Cannot join "+t.type.name+" onto "+e.type.name)}function joinable(e,t,n){let r=e.node(n);return checkJoin(r,t.node(n)),r}function addNode(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function addRange(e,t,n,r){let a=(t||e).node(n),o=0,i=t?t.index(n):a.childCount;if(e){o=e.index(n);if(e.depth>n)o++;else if(e.textOffset){addNode(e.nodeAfter,r);o++}}for(let e=o;e<i;e++)addNode(a.child(e),r);t&&t.depth==n&&t.textOffset&&addNode(t.nodeBefore,r)}function dist_close(e,t){return e.type.checkContent(t),e.copy(t)}function replaceThreeWay(e,t,n,r,o){let i=e.depth>o&&joinable(e,t,o+1),s=r.depth>o&&joinable(n,r,o+1),l=[];addRange(null,e,o,l);if(i&&s&&t.index(o)==n.index(o)){checkJoin(i,s);addNode(dist_close(i,replaceThreeWay(e,t,n,r,o+1)),l)}else{i&&addNode(dist_close(i,replaceTwoWay(e,t,o+1)),l);addRange(t,n,o,l);s&&addNode(dist_close(s,replaceTwoWay(n,r,o+1)),l)}return addRange(r,null,o,l),new a(l)}function replaceTwoWay(e,t,n){let r=[];return addRange(null,e,n,r),e.depth>n&&addNode(dist_close(joinable(e,t,n+1),replaceTwoWay(e,t,n+1)),r),addRange(t,null,n,r),new a(r)}function prepareSliceForReplace(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class c{constructor(e,t,n){this.pos=e;this.path=t;this.parentOffset=n;this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){e=this.resolveDepth(e);if(!e)throw RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){e=this.resolveDepth(e);if(!e)throw RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return i.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r;r=e}let a=n.marks;for(var o=0;o<a.length;o++)!1!==a[o].type.spec.inclusive||r&&a[o].isInSet(r.marks)||(a=a[o--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)!1!==n[a].type.spec.inclusive||r&&n[a].isInSet(r.marks)||(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new p(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw RangeError("Position "+t+" out of range");let n=[],r=0,a=t;for(let t=e;;){let{index:e,offset:o}=t.content.findIndex(a),i=a-o;n.push(t,e,r+o);if(!i)break;t=t.child(e);if(t.isText)break;a=i-1;r+=o+1}return new c(t,n,a)}static resolveCached(e,t){let n=h.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else h.set(e,n=new d);let r=n.elts[n.i]=c.resolve(e,t);return n.i=(n.i+1)%u,r}}class d{constructor(){this.elts=[];this.i=0}}let u=12,h=new WeakMap;class p{constructor(e,t,n){this.$from=e;this.$to=t;this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let m=Object.create(null);class f{constructor(e,t,n,r=i.none){this.type=e;this.attrs=t;this.marks=r;this.content=n||a.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&compareDeep(this.attrs,t||e.defaultAttrs||m)&&i.sameSet(this.marks,n||i.none)}copy(e=null){return e==this.content?this:new f(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new f(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return l.empty;let r=this.resolve(e),a=this.resolve(t),o=n?0:r.sharedDepth(t),i=r.start(o);return new l(r.node(o).content.cut(r.pos-i,a.pos-i),r.depth-o,a.depth-o)}replace(e,t,n){return replace(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);t=t.maybeChild(n);if(!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return c.resolveCached(this,e)}resolveNoCache(e){return c.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=a.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let a=this.contentMatchAt(e).matchType(n),o=a&&a.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);this.type.checkAttrs(this.attrs);let e=i.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs);e=n.addToSet(e)}if(!i.sameSet(e,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){let n;if(!t)throw RangeError("Invalid input for Node.fromJSON");if(t.marks){if(!Array.isArray(t.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=a.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}f.prototype.text=void 0;class g extends f{constructor(e,t,n,r){super(e,t,null,r);if(!n)throw RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new g(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new g(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wrapMarks(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class b{constructor(e){this.validEnd=e;this.next=[];this.wrapCache=[]}static parse(e,t){let n=new _(e,t);if(null==n.next)return b.empty;let r=parseExpr(n);n.next&&n.err("Unexpected trailing text");let a=dfa(nfa(r));return checkForDeadEnds(a,n),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let a=t;r&&a<n;a++)r=r.matchType(e.child(a).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function search(o,i){let s=o.matchFragment(e,n);if(s&&(!t||s.validEnd))return a.from(i.map(e=>e.createAndFill()));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!(t.isText||t.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let e=search(n,i.concat(t));if(e)return e}}return null}return search(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),a=r.match;if(a.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<a.next.length;e++){let{type:o,next:i}=a.next[e];if(!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in t)&&(!r.type||i.validEnd)){n.push({match:o.contentMatch,type:o,via:r});t[o.name]=!0}}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function scan(t){e.push(t);for(let n=0;n<t.next.length;n++)-1==e.indexOf(t.next[n].next)&&scan(t.next[n].next)}return scan(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}}b.empty=new b(!0);class _{constructor(e,t){this.string=e;this.nodeTypes=t;this.inline=null;this.pos=0;this.tokens=e.split(/\s*(?=\b|\W|$)/);""==this.tokens[this.tokens.length-1]&&this.tokens.pop();""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(e){let t=[];do t.push(parseExprSeq(e));while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function parseExprSeq(e){let t=[];do t.push(parseExprSubscript(e));while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function parseExprSubscript(e){let t=parseExprAtom(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=parseExprRange(e,t);else break;return t}function parseNum(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function parseExprRange(e,t){let n=parseNum(e),r=n;return e.eat(",")&&(r="}"!=e.next?parseNum(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function resolveName(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let a=[];for(let e in n){let r=n[e];r.isInGroup(t)&&a.push(r)}return 0==a.length&&e.err("No node type or group '"+t+"' found"),a}function parseExprAtom(e){if(e.eat("(")){let t=parseExpr(e);return e.eat(")")||e.err("Missing closing paren"),t}if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=resolveName(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}}function nfa(e){let t=[[]];connect(compile(e,0),node());return t;function node(){return t.push([])-1}function edge(e,n,r){let a={term:r,to:n};return t[e].push(a),a}function connect(e,t){e.forEach(e=>e.to=t)}function compile(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(compile(n,t)),[]);if("seq"==e.type)for(let n=0;;n++){let r=compile(e.exprs[n],t);if(n==e.exprs.length-1)return r;connect(r,t=node())}else if("star"==e.type){let n=node();return edge(t,n),connect(compile(e.expr,n),n),[edge(n)]}else if("plus"==e.type){let n=node();return connect(compile(e.expr,t),n),connect(compile(e.expr,n),n),[edge(n)]}else if("opt"==e.type)return[edge(t)].concat(compile(e.expr,t));else if("range"==e.type){let n=t;for(let t=0;t<e.min;t++){let t=node();connect(compile(e.expr,n),t);n=t}if(-1==e.max)connect(compile(e.expr,n),n);else for(let t=e.min;t<e.max;t++){let t=node();edge(n,t);connect(compile(e.expr,n),t);n=t}return[edge(n)]}else if("name"==e.type)return[edge(t,void 0,e.value)];else throw Error("Unknown expr type")}}function cmp(e,t){return t-e}function nullFrom(e,t){let n=[];scan(t);return n.sort(cmp);function scan(t){let r=e[t];if(1==r.length&&!r[0].term)return scan(r[0].to);n.push(t);for(let e=0;e<r.length;e++){let{term:t,to:a}=r[e];t||-1!=n.indexOf(a)||scan(a)}}}function dfa(e){let t=Object.create(null);return explore(nullFrom(e,0));function explore(n){let r=[];n.forEach(t=>{e[t].forEach(({term:t,to:n})=>{let a;if(t){for(let e=0;e<r.length;e++)r[e][0]==t&&(a=r[e][1]);nullFrom(e,n).forEach(e=>{a||r.push([t,a=[]]);-1==a.indexOf(e)&&a.push(e)})}})});let a=t[n.join(",")]=new b(n.indexOf(e.length-1)>-1);for(let e=0;e<r.length;e++){let n=r[e][1].sort(cmp);a.next.push({type:r[e][0],next:t[n.join(",")]||explore(n)})}return a}}function checkForDeadEnds(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],a=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:i}=e.next[t];o.push(n.name);a&&!(n.isText||n.hasRequiredAttrs())&&(a=!1);-1==r.indexOf(i)&&r.push(i)}a&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function computeAttrs(e,t){let n=Object.create(null);for(let r in e){let a=t&&t[r];if(void 0===a){let t=e[r];if(t.hasDefault)a=t.default;else throw RangeError("No value supplied for attribute "+r)}n[r]=a}return n}function checkAttrs(e,t,n,r){for(let r in t)if(!(r in e))throw RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function initAttrs(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new w(e,r,t[r]);return n}class E{constructor(e,t,n){this.name=e;this.schema=t;this.spec=n;this.markSet=null;this.groups=n.group?n.group.split(" "):[];this.attrs=initAttrs(e,n.attrs);this.defaultAttrs=defaultAttrs(this.attrs);this.contentMatch=null;this.inlineContent=null;this.isBlock=!(n.inline||"text"==e);this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==b.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,t,n){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new f(this,this.computeAttrs(e),a.from(t),i.setFrom(n))}createChecked(e=null,t,n){return t=a.from(t),this.checkContent(t),new f(this,this.computeAttrs(e),t,i.setFrom(n))}createAndFill(e=null,t,n){e=this.computeAttrs(e);t=a.from(t);if(t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(a.empty,!0);return o?new f(this,e,t.append(o),i.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){checkAttrs(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){let t;if(null==this.markSet)return e;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:i.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new E(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw RangeError("The text node type should not have attributes");return n}}function validateType(e,t,n){let r=n.split("|");return n=>{let a=null===n?"null":typeof n;if(0>r.indexOf(a))throw RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${a}`)}}class w{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default");this.default=n.default;this.validate="string"==typeof n.validate?validateType(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class v{constructor(e,t,n,r){this.name=e;this.rank=t;this.schema=n;this.spec=r;this.attrs=initAttrs(e,r.attrs);this.excluded=null;let a=defaultAttrs(this.attrs);this.instance=a?new i(this,a):null}create(e=null){return!e&&this.instance?this.instance:new i(this,computeAttrs(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,a)=>n[e]=new v(e,r++,t,a)),n}removeFromSet(e){for(var t=0;t<e.length;t++)if(e[t].type==this){e=e.slice(0,t).concat(e.slice(t+1));t--}return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){checkAttrs(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class k{constructor(e){this.linebreakReplacement=null;this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=r.from(e.nodes),t.marks=r.from(e.marks||{}),this.nodes=E.compile(this.spec.nodes,this);this.marks=v.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",a=t.spec.marks;t.contentMatch=n[r]||(n[r]=b.parse(r,this.nodes));t.inlineContent=t.contentMatch.inlineContent;if(t.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==a?null:a?gatherMarks(this,a.split(" ")):""!=a&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:gatherMarks(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this);this.markFromJSON=this.markFromJSON.bind(this);this.topNodeType=this.nodes[this.spec.topNode||"doc"];this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else if(e instanceof E){if(e.schema!=this)throw RangeError("Node type from different schema used ("+e.name+")")}else throw RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new g(n,n.defaultAttrs,e,i.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return f.fromJSON(this,e)}markFromJSON(e){return i.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw RangeError("Unknown node type: "+e);return t}}function gatherMarks(e,t){let n=[];for(let r=0;r<t.length;r++){let a=t[r],o=e.marks[a],i=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==a||r.spec.group&&r.spec.group.split(" ").indexOf(a)>-1)&&n.push(i=r)}if(!i)throw SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function isTagRule(e){return null!=e.tag}function isStyleRule(e){return null!=e.style}class S{constructor(e,t){this.schema=e;this.rules=t;this.tags=[];this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(isTagRule(e))this.tags.push(e);else if(isStyleRule(e)){let t=/[^=]*/.exec(e.style)[0];0>n.indexOf(t)&&n.push(t);this.styles.push(e)}});this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new U(this,t,!1);return n.addAll(e,i.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new U(this,t,!0);return n.addAll(e,i.none,t.from,t.to),l.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(matches(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let a=r?this.styles.indexOf(r)+1:0;a<this.styles.length;a++){let r=this.styles[a],o=r.style;if(0==o.indexOf(e)&&(!r.context||n.matchesContext(r.context))&&(!(o.length>e.length)||61==o.charCodeAt(e.length)&&o.slice(e.length+1)==t)){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function insert(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r],a=null==e.priority?50:e.priority;if(a<n)break}t.splice(r,0,e)}for(let t in e.marks){let n=e.marks[t].spec.parseDOM;n&&n.forEach(e=>{insert(e=copy(e));e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let n=e.nodes[t].spec.parseDOM;n&&n.forEach(e=>{insert(e=copy(e));e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new S(e,S.schemaRules(e)))}}let y={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},A={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},N={ol:!0,ul:!0},R=1,C=2,V=4;function wsOptionsFor(e,t,n){return null!=t?(t?R:0)|("full"===t?C:0):e&&"pre"==e.whitespace?R|C:n&~V}class T{constructor(e,t,n,r,a,o){this.type=e;this.attrs=t;this.marks=n;this.solid=r;this.options=o;this.content=[];this.activeMarks=i.none;this.match=a||(o&V?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(a.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let t=this.type.contentMatch,n;return(n=t.findWrapping(e.type))?(this.match=t,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&R)){let e=this.content[this.content.length-1],t;if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let t=a.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!y.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class U{constructor(e,t,n){this.parser=e;this.options=t;this.isOpen=n;this.open=0;let r=t.topNode,a,o=wsOptionsFor(null,t.preserveWhitespace,0)|(n?V:0);a=r?new T(r.type,r.attrs,i.none,!0,t.topMatch||r.type.contentMatch,o):n?new T(null,null,i.none,!0,null,o):new T(e.schema.topNodeType,null,i.none,!0,null,o);this.nodes=[a];this.find=t.findPositions;this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top;if(r.options&C||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&R)n=r.options&C?n.replace(/\r\n?/g,"\n"):n.replace(/\r?\n|\r/g," ");else{n=n.replace(/[ \t\r\n\u000c]+/g," ");if(/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],a=e.previousSibling;(!t||a&&"BR"==a.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}}n&&this.insertNode(this.parser.schema.text(n),t);this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=e.nodeName.toLowerCase(),a;N.hasOwnProperty(r)&&this.parser.normalizeLists&&normalizeList(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));if(o?o.ignore:A.hasOwnProperty(r)){this.findInside(e);this.ignoreFallback(e,t)}else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let n,a=this.top,i=this.needsBlock;if(y.hasOwnProperty(r)){if(a.content.length&&a.content[0].isInline&&this.open){this.open--;a=this.top}n=!0;a.type||(this.needsBlock=!0)}else if(!e.firstChild)return void this.leafFallback(e,t);let s=o&&o.skip?t:this.readStyles(e,t);s&&this.addAll(e,s);n&&this.sync(a);this.needsBlock=i}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,o,n,!1===o.consuming?a:void 0)}}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],a=n.getPropertyValue(r);if(a)for(let e;;){let n=this.parser.matchStyle(r,a,this,e);if(!n)break;if(n.ignore)return null;t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs));if(!1===n.consuming)e=n;else break}}return t}addElementByRule(e,t,n,r){let a,o;if(t.node){o=this.parser.schema.nodes[t.node];if(o.isLeaf)this.insertNode(o.create(t.attrs),n)||this.leafFallback(e,n);else{let e=this.enter(o,t.attrs||null,n,t.preserveWhitespace);if(e){a=!0;n=e}}}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let i=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent){this.findInside(e);t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n))}else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement);this.findAround(e,r,!0);this.addAll(r,n);this.findAround(e,r,!1)}a&&this.sync(i)&&this.open--}addAll(e,t,n,r){let a=n||0;for(let o=n?e.childNodes[n]:e.firstChild,i=null==r?null:e.childNodes[r];o!=i;o=o.nextSibling,++a){this.findAtPoint(e,a);this.addDOM(o,t)}this.findAtPoint(e,a)}findPlace(e,t){let n,r;for(let t=this.open;t>=0;t--){let a=this.nodes[t],o=a.findWrapping(e);if(o&&(!n||n.length>o.length)){n=o;r=a;if(!o.length)break}if(a.solid)break}if(!n)return null;this.sync(r);for(let e=0;e<n.length;e++)t=this.enterInner(n[e],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let r=i.none;for(let a of n.concat(e.marks))(t.type?t.type.allowsMarkType(a.type):markMayApply(a.type,e.type))&&(r=a.addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,n,r){let a=this.findPlace(e.create(t),n);return a&&(a=this.enterInner(e,t,n,!0,r)),a}enterInner(e,t,n,r=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let s=wsOptionsFor(e,a,o.options);o.options&V&&0==o.content.length&&(s|=V);let l=i.none;return n=n.filter(t=>(o.type?!o.type.allowsMarkType(t.type):!markMayApply(t.type,e))||(l=t.addToSet(l),!1)),this.nodes.push(new T(e,t,l,r,null,s)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e){this.open=t;return!0}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+ +!r,match=(e,o)=>{for(;e>=0;e--){let i=t[e];if(""==i){if(e==t.length-1||0==e)continue;for(;o>=a;o--)if(match(e-1,o))return!0;return!1}{let e=o>0||0==o&&r?this.nodes[o].type:n&&o>=a?n.node(o-a).type:null;if(!e||e.name!=i&&!e.isInGroup(i))return!1;o--}}return!0};return match(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function normalizeList(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;if(e&&N.hasOwnProperty(e)&&n){n.appendChild(t);t=n}else"li"==e?n=t:e&&(n=null)}}function matches(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function copy(e){let t={};for(let n in e)t[n]=e[n];return t}function markMayApply(e,t){let n=t.schema.nodes;for(let r in n){let a=n[r];if(!a.allowsMarkType(e))continue;let o=[],scan=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:a}=e.edge(n);if(r==t||0>o.indexOf(a)&&scan(a))return!0}};if(scan(a.contentMatch))return!0}}class I{constructor(e,t){this.nodes=e;this.marks=t}serializeFragment(e,t={},n){n||(n=doc(t).createDocumentFragment());let r=n,a=[];return e.forEach(e=>{if(a.length||e.marks.length){let n=0,o=0;for(;n<a.length&&o<e.marks.length;){let t=e.marks[o];if(!this.marks[t.type.name]){o++;continue}if(!t.eq(a[n][0])||!1===t.type.spec.spanning)break;n++;o++}for(;n<a.length;)r=a.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],i=this.serializeMark(n,e.isInline,t);if(i){a.push([n,r]);r.appendChild(i.dom);r=i.contentDOM||i.dom}}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=renderSpec(doc(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let a=this.serializeMark(e.marks[r],e.isInline,t);if(a){(a.contentDOM||a.dom).appendChild(n);n=a.dom}}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&renderSpec(doc(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return renderSpec(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new I(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=gatherToDOM(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function doc(e){return e.document||window.document}let x=new WeakMap;function suspiciousAttributes(e){let t=x.get(e);return void 0===t&&x.set(e,t=suspiciousAttributesInner(e)),t}function suspiciousAttributesInner(e){let t=null;function scan(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0]){t||(t=[]);t.push(e)}else for(let t=0;t<e.length;t++)scan(e[t]);else for(let t in e)scan(e[t])}return scan(e),t}function renderSpec(e,t,n,r){let a;if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o=t[0],i;if("string"!=typeof o)throw RangeError("Invalid array passed to renderSpec");if(r&&(i=suspiciousAttributes(r))&&i.indexOf(t)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");if(s>0){n=o.slice(0,s);o=o.slice(s+1)}let l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):l.setAttribute(e,c[e])}}for(let o=d;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>d)throw RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=renderSpec(e,i,n,r);l.appendChild(t);if(o){if(a)throw RangeError("Multiple content holes");a=o}}}return{dom:l,contentDOM:a}}},42845:function(e,t,n){"use strict";n.d(t,{$t:function(){return k},LN:function(){return i},U3:function(){return c},hs:function(){return A},i5:function(){return p},k_:function(){return S},nh:function(){return u}});var r=n(57505),a=n(38262);let o=Object.create(null);class i{constructor(e,t,n){this.$anchor=e;this.$head=t;this.ranges=n||[new s(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r.Ji.empty){let n=t.content.lastChild,a=null;for(let e=0;e<t.openEnd;e++){a=n;n=n.lastChild}let o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:c}=i[s],d=e.mapping.slice(o);e.replaceRange(d.map(l.pos),d.map(c.pos),s?r.Ji.empty:t);0==s&&selectionToInsertionEnd(e,o,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){let{$from:o,$to:i}=r[a],s=e.mapping.slice(n),l=s.map(o.pos),c=s.map(i.pos);if(a)e.deleteRange(l,c);else{e.replaceRangeWith(l,c,t);selectionToInsertionEnd(e,n,t.isInline?-1:1)}}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new c(e):findSelectionIn(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let a=t<0?findSelectionIn(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):findSelectionIn(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new p(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new p(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new p(e)}static fromJSON(e,t){if(!t||!t.type)throw RangeError("Invalid input for Selection.fromJSON");let n=o[t.type];if(!n)throw RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in o)throw RangeError("Duplicate use of selection JSON ID "+e);return o[e]=t,t.prototype.jsonID=e,t}getBookmark(){return c.between(this.$anchor,this.$head).getBookmark()}}i.prototype.visible=!0;class s{constructor(e,t){this.$from=e;this.$to=t}}let l=!1;function checkTextSelection(e){if(!l&&!e.parent.inlineContent){l=!0;console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")")}}class c extends i{constructor(e,t=e){checkTextSelection(e);checkTextSelection(t);super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return i.near(n);let r=e.resolve(t.map(this.anchor));return new c(r.parent.inlineContent?r:n,n)}replace(e,t=r.Ji.empty){super.replace(e,t);if(t==r.Ji.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof c&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new d(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new c(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;(!n||r)&&(n=r>=0?1:-1);if(!t.parent.inlineContent){let e=i.findFrom(t,n,!0)||i.findFrom(t,-n,!0);if(!e)return i.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(i.findFrom(e,-n,!0)||i.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0&&(e=t)),new c(e,t)}}i.jsonID("text",c);class d{constructor(e,t){this.anchor=e;this.head=t}map(e){return new d(e.map(this.anchor),e.map(this.head))}resolve(e){return c.between(e.resolve(this.anchor),e.resolve(this.head))}}class u extends i{constructor(e){let t=e.nodeAfter;super(e,e.node(0).resolve(e.pos+t.nodeSize));this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),a=e.resolve(r);return n?i.near(a):new u(a)}content(){return new r.Ji(r.FK.from(this.node),0,0)}eq(e){return e instanceof u&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new h(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new u(e.resolve(t.anchor))}static create(e,t){return new u(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}u.prototype.visible=!1;i.jsonID("node",u);class h{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new d(n,n):new h(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&u.isSelectable(n)?new u(t):i.near(t)}}class p extends i{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r.Ji.empty){if(t==r.Ji.empty){e.delete(0,e.doc.content.size);let t=i.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new p(e)}map(e){return new p(e)}eq(e){return e instanceof p}getBookmark(){return m}}i.jsonID("all",p);let m={map(){return this},resolve:e=>new p(e)};function findSelectionIn(e,t,n,r,a,o=!1){if(t.inlineContent)return c.create(e,n);for(let i=r-(a>0?0:1);a>0?i<t.childCount:i>=0;i+=a){let r=t.child(i);if(r.isAtom){if(!o&&u.isSelectable(r))return u.create(e,n-(a<0?r.nodeSize:0))}else{let t=findSelectionIn(e,r,n+a,a<0?r.childCount:0,a,o);if(t)return t}n+=r.nodeSize*a}return null}function selectionToInsertionEnd(e,t,n){let r,o=e.steps.length-1;if(o<t)return;let s=e.steps[o];if(s instanceof a.Ln||s instanceof a.Wg){e.mapping.maps[o].forEach((e,t,n,a)=>{null==r&&(r=a)});e.setSelection(i.near(e.doc.resolve(r),n))}}let f=1,g=2,b=4;class _ extends a.dL{constructor(e){super(e.doc);this.curSelectionFor=0;this.updated=0;this.meta=Object.create(null);this.time=Date.now();this.curSelection=e.selection;this.storedMarks=e.storedMarks}get selection(){if(this.curSelectionFor<this.steps.length){this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor));this.curSelectionFor=this.steps.length}return this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|f)&~g,this.storedMarks=null,this}get selectionSet(){return(this.updated&f)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=g,this}ensureMarks(e){return r.CU.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&g)>0}addStep(e,t){super.addStep(e,t);this.updated=this.updated&~g;this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.CU.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{null==n&&(n=t);n=null==n?t:n;if(!e)return this.deleteRange(t,n);let a=this.storedMarks;if(!a){let e=this.doc.resolve(t);a=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,a)),this.selection.empty||this.setSelection(i.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=b,this}get scrolledIntoView(){return(this.updated&b)>0}}function bind(e,t){return t&&e?e.bind(t):e}class E{constructor(e,t,n){this.name=e;this.init=bind(t.init,n);this.apply=bind(t.apply,n)}}let w=[new E("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new E("selection",{init:(e,t)=>e.selection||i.atStart(t.doc),apply:e=>e.selection}),new E("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new E("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class v{constructor(e,t){this.schema=e;this.plugins=[];this.pluginsByKey=Object.create(null);this.fields=w.slice();t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e);this.pluginsByKey[e.key]=e;e.spec.state&&this.fields.push(new E(e.key,e.spec.state,e))})}}class k{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let i=this.config.plugins[o];if(i.spec.appendTransaction){let s=r?r[o].n:0,l=r?r[o].state:this,c=s<t.length&&i.spec.appendTransaction.call(i,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,o)){c.setMeta("appendedTransaction",e);if(!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c);n=n.applyInner(c);a=!0}r&&(r[o]={state:n,n:t.length})}}if(!a)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let t=new k(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let a=n[r];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new _(this)}static create(e){let t=new v(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new k(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new v(this.schema,e.plugins),n=t.fields,r=new k(t);for(let t=0;t<n.length;t++){let a=n[t].name;r[a]=this.hasOwnProperty(a)?this[a]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON()));if(e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],a=r.spec.state;a&&a.toJSON&&(t[n]=a.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw RangeError("Required config field 'schema' missing");let a=new v(e.schema,e.plugins),o=new k(a);return a.fields.forEach(a=>{if("doc"==a.name)o.doc=r.bP.fromJSON(e.schema,t.doc);else if("selection"==a.name)o.selection=i.fromJSON(o.doc,t.selection);else if("storedMarks"==a.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let i=n[r],s=i.spec.state;if(i.key==a.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,r)){o[a.name]=s.fromJSON.call(i,e,t[r],o);return}}o[a.name]=a.init(e,o)}}),o}}function bindProps(e,t,n){for(let r in e){let a=e[r];a instanceof Function?a=a.bind(t):"handleDOMEvents"==r&&(a=bindProps(a,t,{}));n[r]=a}return n}class S{constructor(e){this.spec=e;this.props={};e.props&&bindProps(e.props,this,this.props);this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}let y=Object.create(null);function createKey(e){return e in y?e+"$"+ ++y[e]:(y[e]=0,e+"$")}class A{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}},38262:function(e,t,n){"use strict";n.d(t,{$L:function(){return replaceStep},Ln:function(){return w},N0:function(){return joinPoint},Um:function(){return dropPoint},Wg:function(){return v},X9:function(){return h},dL:function(){return N},jP:function(){return liftTarget},n9:function(){return canJoin},oM:function(){return findWrapping},zy:function(){return canSplit}});var r=n(57505);let a=65535,o=65536;function makeRecover(e,t){return e+t*o}function recoverIndex(e){return e&a}function recoverOffset(e){return(e-(e&a))/o}let i=1,s=2,l=4,c=8;class d{constructor(e,t,n){this.pos=e;this.delInfo=t;this.recover=n}get deleted(){return(this.delInfo&c)>0}get deletedBefore(){return(this.delInfo&(i|l))>0}get deletedAfter(){return(this.delInfo&(s|l))>0}get deletedAcross(){return(this.delInfo&l)>0}}class u{constructor(e,t=!1){this.ranges=e;this.inverted=t;if(!e.length&&u.empty)return u.empty}recover(e){let t=0,n=recoverIndex(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+recoverOffset(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?r:0);if(h>e)break;let p=this.ranges[u+a],m=this.ranges[u+o],f=h+p;if(e<=f){let a=p?e==h?-1:e==f?1:t:t,o=h+r+(a<0?0:m);if(n)return o;let g=e==(t<0?h:f)?null:makeRecover(u/3,e-h),b=e==h?s:e==f?i:l;(t<0?e!=h:e!=f)&&(b|=c);return new d(o,b,g)}r+=m-p}return n?e+r:new d(e+r,0,null)}touches(e,t){let n=0,r=recoverIndex(t),a=this.inverted?2:1,o=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let i=this.ranges[t]-(this.inverted?n:0);if(i>e)break;let s=this.ranges[t+a],l=i+s;if(e<=l&&t==3*r)return!0;n+=this.ranges[t+o]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,a=0;r<this.ranges.length;r+=3){let o=this.ranges[r],i=o-(this.inverted?a:0),s=o+(this.inverted?0:a),l=this.ranges[r+t],c=this.ranges[r+n];e(i,i+l,s,s+c);a+=c-l}}invert(){return new u(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?u.empty:new u(e<0?[0,-e,0]:[0,0,e])}}u.empty=new u([]);class h{constructor(e=[],t,n=0,r=e.length){this.maps=e;this.mirror=t;this.from=n;this.to=r}slice(e=0,t=this.maps.length){return new h(this.maps,this.mirror,e,t)}copy(){return new h(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e);null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]);this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new h;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let a=this.maps[n].mapResult(e,t);if(null!=a.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t;e=this.maps[t].recover(a.recover);continue}}r|=a.delInfo;e=a.pos}return n?e:new d(e,r,null)}}let p=Object.create(null);class m{getMap(){return u.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw RangeError("Invalid input for Step.fromJSON");let n=p[t.stepType];if(!n)throw RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in p)throw RangeError("Duplicate use of step JSON ID "+e);return p[e]=t,t.prototype.jsonID=e,t}}class f{constructor(e,t){this.doc=e;this.failed=t}static ok(e){return new f(e,null)}static fail(e){return new f(null,e)}static fromReplace(e,t,n,a){try{return f.ok(e.replace(t,n,a))}catch(e){if(e instanceof r.vI)return f.fail(e.message);throw e}}}function mapFragment(e,t,n){let a=[];for(let r=0;r<e.childCount;r++){let o=e.child(r);o.content.size&&(o=o.copy(mapFragment(o.content,t,o)));o.isInline&&(o=t(o,n,r));a.push(o)}return r.FK.fromArray(a)}class g extends m{constructor(e,t,n){super();this.from=e;this.to=t;this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),o=new r.Ji(mapFragment(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,a),t.openStart,t.openEnd);return f.fromReplace(e,this.from,this.to,o)}invert(){return new b(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new g(t.pos,n.pos,this.mark)}merge(e){return e instanceof g&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new g(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new g(t.from,t.to,e.markFromJSON(t.mark))}}m.jsonID("addMark",g);class b extends m{constructor(e,t,n){super();this.from=e;this.to=t;this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new r.Ji(mapFragment(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return f.fromReplace(e,this.from,this.to,n)}invert(){return new g(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new b(t.pos,n.pos,this.mark)}merge(e){return e instanceof b&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new b(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new b(t.from,t.to,e.markFromJSON(t.mark))}}m.jsonID("removeMark",b);class _ extends m{constructor(e,t){super();this.pos=e;this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return f.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return f.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new _(this.pos,t.marks[n]);return new _(this.pos,this.mark)}}return new E(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new _(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _(t.pos,e.markFromJSON(t.mark))}}m.jsonID("addNodeMark",_);class E extends m{constructor(e,t){super();this.pos=e;this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return f.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return f.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new _(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new E(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new E(t.pos,e.markFromJSON(t.mark))}}m.jsonID("removeNodeMark",E);class w extends m{constructor(e,t,n,r=!1){super();this.from=e;this.to=t;this.slice=n;this.structure=r}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?f.fail("Structure replace would overwrite content"):f.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new u([this.from,this.to-this.from,this.slice.size])}invert(e){return new w(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new w(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof w)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart)if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;else{let t=this.slice.size+e.slice.size==0?r.Ji.empty:new r.Ji(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new w(e.from,this.to,t,this.structure)}{let t=this.slice.size+e.slice.size==0?r.Ji.empty:new r.Ji(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new w(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new w(t.from,t.to,r.Ji.fromJSON(e,t.slice),!!t.structure)}}m.jsonID("replace",w);class v extends m{constructor(e,t,n,r,a,o,i=!1){super();this.from=e;this.to=t;this.gapFrom=n;this.gapTo=r;this.slice=a;this.insert=o;this.structure=i}apply(e){if(this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to)))return f.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return f.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?f.fromReplace(e,this.from,this.to,n):f.fail("Content does not fit in gap")}getMap(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new v(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||a>n.pos?null:new v(t.pos,n.pos,r,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new v(t.from,t.to,t.gapFrom,t.gapTo,r.Ji.fromJSON(e,t.slice),t.insert,!!t.structure)}}m.jsonID("replaceAround",v);function contentBetween(e,t,n){let r=e.resolve(t),a=n-t,o=r.depth;for(;a>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;){o--;a--}if(a>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;a>0;){if(!e||e.isLeaf)return!0;e=e.firstChild;a--}}return!1}function addMark(e,t,n,r){let a,o,i=[],s=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),u=Math.min(l+e.nodeSize,n),h=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(h)||(a&&a.to==c&&a.mark.eq(d[e])?a.to=u:i.push(a=new b(c,u,d[e])));o&&o.to==c?o.to=u:s.push(o=new g(c,u,r))}});i.forEach(t=>e.step(t));s.forEach(t=>e.step(t))}function removeMark(e,t,n,a){let o=[],i=0;e.doc.nodesBetween(t,n,(e,s)=>{if(!e.isInline)return;i++;let l=null;if(a instanceof r.sX){let t=e.marks,n;for(;n=a.isInSet(t);){(l||(l=[])).push(n);t=n.removeFromSet(t)}}else a?a.isInSet(e.marks)&&(l=[a]):l=e.marks;if(l&&l.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<l.length;e++){let n=l[e],a;for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&n.eq(o[e].style)&&(a=t)}if(a){a.to=r;a.step=i}else o.push({style:n,from:Math.max(s,t),to:r,step:i})}}});o.forEach(t=>e.step(new b(t.from,t.to,t.style)))}function clearIncompatible(e,t,n,a=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],l=t+1;for(let t=0;t<i.childCount;t++){let c=i.child(t),d=l+c.nodeSize,u=a.matchType(c.type);if(u){a=u;for(let t=0;t<c.marks.length;t++)n.allowsMarkType(c.marks[t].type)||e.step(new b(l,d,c.marks[t]));if(o&&c.isText&&"pre"!=n.whitespace){let e,t=/\r?\n|\r/g,a;for(;e=t.exec(c.text);){a||(a=new r.Ji(r.FK.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0));s.push(new w(l+e.index,l+e.index+e[0].length,a))}}}else s.push(new w(l,d,r.Ji.empty));l=d}if(!a.validEnd){let t=a.fillBefore(r.FK.empty,!0);e.replace(l,l,new r.Ji(t,0,0))}for(let t=s.length-1;t>=0;t--)e.step(s[t])}function canCut(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function liftTarget(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),a=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(a,o,t))return n;if(0==n||r.type.spec.isolating||!canCut(r,a,o))break}return null}function lift(e,t,n){let{$from:a,$to:o,depth:i}=t,s=a.before(i+1),l=o.after(i+1),c=s,d=l,u=r.FK.empty,h=0;for(let e=i,t=!1;e>n;e--)if(t||a.index(e)>0){t=!0;u=r.FK.from(a.node(e).copy(u));h++}else c--;let p=r.FK.empty,m=0;for(let e=i,t=!1;e>n;e--)if(t||o.after(e+1)<o.end(e)){t=!0;p=r.FK.from(o.node(e).copy(p));m++}else d++;e.step(new v(c,d,s,l,new r.Ji(u.append(p),h,m),u.size-h,!0))}function findWrapping(e,t,n=null,r=e){let a=findWrappingOutside(e,t),o=a&&findWrappingInside(r,t);return o?a.map(withAttrs).concat({type:t,attrs:n}).concat(o.map(withAttrs)):null}function withAttrs(e){return{type:e,attrs:null}}function findWrappingOutside(e,t){let{parent:n,startIndex:r,endIndex:a}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let i=o.length?o[0]:t;return n.canReplaceWith(r,a,i)?o:null}function findWrappingInside(e,t){let{parent:n,startIndex:r,endIndex:a}=e,o=n.child(r),i=t.contentMatch.findWrapping(o.type);if(!i)return null;let s=(i.length?i[i.length-1]:t).contentMatch;for(let e=r;s&&e<a;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?i:null}function wrap(e,t,n){let a=r.FK.empty;for(let e=n.length-1;e>=0;e--){if(a.size){let t=n[e].type.contentMatch.matchFragment(a);if(!t||!t.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}a=r.FK.from(n[e].type.create(n[e].attrs,a))}let o=t.start,i=t.end;e.step(new v(o,i,o,i,new r.Ji(a,0,0),n.length,!0))}function setBlockType(e,t,n,a,o){if(!a.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let s="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(a,s)&&canChangeType(e.doc,e.mapping.slice(i).map(n),a)){let o=null;if(a.schema.linebreakReplacement){let e="pre"==a.whitespace,t=!!a.contentMatch.matchType(a.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&replaceLinebreaks(e,t,n,i);clearIncompatible(e,e.mapping.slice(i).map(n,1),a,void 0,null===o);let l=e.mapping.slice(i),c=l.map(n,1),d=l.map(n+t.nodeSize,1);return e.step(new v(c,d,c+1,d-1,new r.Ji(r.FK.from(a.create(s,null,t.marks)),0,0),1,!0)),!0===o&&replaceNewlines(e,t,n,i),!1}})}function replaceNewlines(e,t,n,r){t.forEach((a,o)=>{if(a.isText){let i,s=/\r?\n|\r/g;for(;i=s.exec(a.text);){let a=e.mapping.slice(r).map(n+1+o+i.index);e.replaceWith(a,a+1,t.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(e,t,n,r){t.forEach((a,o)=>{if(a.type==a.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+o);e.replaceWith(a,a+1,t.type.schema.text("\n"))}})}function canChangeType(e,t,n){let r=e.resolve(t),a=r.index();return r.parent.canReplaceWith(a,a+1,n)}function setNodeMarkup(e,t,n,a,o){let i=e.doc.nodeAt(t);if(!i)throw RangeError("No node at given position");n||(n=i.type);let s=n.create(a,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw RangeError("Invalid content for node type "+n.name);e.step(new v(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new r.Ji(r.FK.from(s),0,0),1,!0))}function canSplit(e,t,n=1,r){let a=e.resolve(t),o=a.depth-n,i=r&&r[r.length-1]||a.parent;if(o<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!i.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let e=a.depth-1,t=n-2;e>o;e--,t--){let n=a.node(e),o=a.index(e);if(n.type.spec.isolating)return!1;let i=n.content.cutByIndex(o,n.childCount),s=r&&r[t+1];s&&(i=i.replaceChild(0,s.type.create(s.attrs)));let l=r&&r[t]||n;if(!n.canReplace(o+1,n.childCount)||!l.type.validContent(i))return!1}let s=a.indexAfter(o),l=r&&r[0];return a.node(o).canReplaceWith(s,s,l?l.type:a.node(o+1).type)}function split(e,t,n=1,a){let o=e.doc.resolve(t),i=r.FK.empty,s=r.FK.empty;for(let e=o.depth,t=o.depth-n,l=n-1;e>t;e--,l--){i=r.FK.from(o.node(e).copy(i));let t=a&&a[l];s=r.FK.from(t?t.type.create(t.attrs,s):o.node(e).copy(s))}e.step(new w(t,t,new r.Ji(i.append(s),n,n),!0))}function canJoin(e,t){let n=e.resolve(t),r=n.index();return joinable(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function canAppendWithSubstitutedLinebreaks(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let a=0;a<t.childCount;a++){let o=t.child(a),i=o.type==r?e.type.schema.nodes.text:o.type;n=n.matchType(i);if(!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function joinable(e,t){return!!(e&&t&&!e.isLeaf&&canAppendWithSubstitutedLinebreaks(e,t))}function joinPoint(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let a,o,i=r.index(e);if(e==r.depth){a=r.nodeBefore;o=r.nodeAfter}else if(n>0){a=r.node(e+1);i++;o=r.node(e).maybeChild(i)}else{a=r.node(e).maybeChild(i-1);o=r.node(e+1)}if(a&&!a.isTextblock&&joinable(a,o)&&r.node(e).canReplace(i,i+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function join(e,t,n){let a=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(o);e&&!t?a=!1:!e&&t&&(a=!0)}let l=e.steps.length;if(!1===a){let r=e.doc.resolve(t+n);replaceLinebreaks(e,r.node(),r.before(),l)}s.inlineContent&&clearIncompatible(e,t+n-1,s,i.node().contentMatchAt(i.index()),null==a);let c=e.mapping.slice(l),d=c.map(t-n);e.step(new w(d,c.map(t+n,-1),r.Ji.empty,!0));if(!0===a){let t=e.doc.resolve(d);replaceNewlines(e,t.node(),t.before(),e.steps.length)}return e}function insertPoint(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)break}return null}function dropPoint(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let a=n.content;for(let e=0;e<n.openStart;e++)a=a.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,o=r.index(t)+ +(n>0),i=r.node(t),s=!1;if(1==e)s=i.canReplace(o,o,a);else{let e=i.contentMatchAt(o).findWrapping(a.firstChild.type);s=e&&i.canReplaceWith(o,o,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function replaceStep(e,t,n=t,a=r.Ji.empty){if(t==n&&!a.size)return null;let o=e.resolve(t),i=e.resolve(n);return fitsTrivially(o,i,a)?new w(t,n,a):new k(o,i,a).fit()}function fitsTrivially(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class k{constructor(e,t,n){this.$from=e;this.$to=t;this.unplaced=n;this.frontier=[];this.placed=r.FK.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=r.FK.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let o=this.placed,i=n.depth,s=a.depth;for(;i&&s&&1==o.childCount;){o=o.firstChild.content;i--;s--}let l=new r.Ji(o,i,s);return e>-1?new v(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new w(n.pos,a.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let a=t.firstChild;t.childCount>1&&(r=0);if(a.type.spec.isolating&&r<=n){e=n;break}t=a.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e=null,a=(n?(e=contentAt(this.unplaced.content,n-1).firstChild).content:this.unplaced.content).firstChild;for(let o=this.depth;o>=0;o--){let{type:i,match:s}=this.frontier[o],l,c=null;if(1==t&&(a?s.matchType(a.type)||(c=s.fillBefore(r.FK.from(a),!1)):e&&i.compatibleContent(e.type)))return{sliceDepth:n,frontierDepth:o,parent:e,inject:c};if(2==t&&a&&(l=s.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:o,parent:e,wrap:l};if(e&&s.matchType(e.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=contentAt(e,t);return!!a.childCount&&!a.firstChild.isLeaf&&(this.unplaced=new r.Ji(e,t+1,Math.max(n,a.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,a=contentAt(e,t);if(a.childCount<=1&&t>0){let o=e.size-t<=t+a.size;this.unplaced=new r.Ji(dropFromFragment(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new r.Ji(dropFromFragment(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:a,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,s=n?n.content:i.content,l=i.openStart-e,c=0,d=[],{match:u,type:h}=this.frontier[t];if(a){for(let e=0;e<a.childCount;e++)d.push(a.child(e));u=u.matchFragment(a)}let p=s.size+e-(i.content.size-i.openEnd);for(;c<s.childCount;){let e=s.child(c),t=u.matchType(e.type);if(!t)break;c++;if(c>1||0==l||e.content.size){u=t;d.push(closeNodeStart(e.mark(h.allowedMarks(e.marks)),1==c?l:0,c==s.childCount?p:-1))}}let m=c==s.childCount;m||(p=-1);this.placed=addToFragment(this.placed,t,r.FK.from(d));this.frontier[t].match=u;m&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=s;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)});t=e.content}this.unplaced=m?0==e?r.Ji.empty:new r.Ji(dropFromFragment(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new r.Ji(dropFromFragment(i.content,e,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return -1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){t:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=contentAfterFits(e,t,r,n,a);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],a=contentAfterFits(e,n,r,t,!0);if(!a||a.childCount)continue t}return{depth:t,fit:o,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=addToFragment(this.placed,t.depth,t.fit));e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e);this.placed=addToFragment(this.placed,this.depth,r.FK.from(e.create(t,n)));this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(r.FK.empty,!0);e.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,e))}}function dropFromFragment(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(dropFromFragment(e.firstChild.content,t-1,n)))}function addToFragment(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(addToFragment(e.lastChild.content,t-1,n)))}function contentAt(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function closeNodeStart(e,t,n){if(t<=0)return e;let a=e.content;t>1&&(a=a.replaceChild(0,closeNodeStart(a.firstChild,t-1,1==a.childCount?n-1:0)));if(t>0){a=e.type.contentMatch.fillBefore(a).append(a);n<=0&&(a=a.append(e.type.contentMatch.matchFragment(a).fillBefore(r.FK.empty,!0)))}return e.copy(a)}function contentAfterFits(e,t,n,r,a){let o=e.node(t),i=a?e.indexAfter(t):e.index(t);if(i==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,i);return s&&!invalidMarks(n,o.content,i)?s:null}function invalidMarks(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function definesContent(e){return e.spec.defining||e.spec.definingForContent}function replaceRange(e,t,n,a){if(!a.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(fitsTrivially(o,i,a))return e.step(new w(t,n,a));let s=coveredDepths(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?l=e:o.before(e)==t&&s.splice(1,0,-e)}let c=s.indexOf(l),d=[],u=a.openStart;for(let e=a.content,t=0;;t++){let n=e.firstChild;d.push(n);if(t==a.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=d[e],n=definesContent(t.type);if(n&&!t.sameMarkup(o.node(Math.abs(l)-1)))u=e;else if(n||!t.type.isTextblock)break}for(let t=a.openStart;t>=0;t--){let l=(t+u+1)%(a.openStart+1),h=d[l];if(h)for(let t=0;t<s.length;t++){let d=s[(t+c)%s.length],u=!0;if(d<0){u=!1;d=-d}let p=o.node(d-1),m=o.index(d-1);if(p.canReplaceWith(m,m,h.type,h.marks))return e.replace(o.before(d),u?i.after(d):n,new r.Ji(closeFragment(a.content,0,a.openStart,l),l,a.openEnd))}}let h=e.steps.length;for(let r=s.length-1;r>=0;r--){e.replace(t,n,a);if(e.steps.length>h)break;let l=s[r];if(!(l<0)){t=o.before(l);n=i.after(l)}}}function closeFragment(e,t,n,a,o){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(closeFragment(r.content,t+1,n,a,r)))}if(t>a){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(r.FK.empty,!0))}return e}function replaceRangeWith(e,t,n,a){if(!a.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=insertPoint(e.doc,t,a.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new r.Ji(r.FK.from(a),0,0))}function deleteRange(e,t,n){let r=e.doc.resolve(t),a=e.doc.resolve(n),o=coveredDepths(r,a);for(let t=0;t<o.length;t++){let n=o[t],i=t==o.length-1;if(i&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),a.end(n));if(n>0&&(i||r.node(n-1).canReplace(r.index(n-1),a.indexAfter(n-1))))return e.delete(r.before(n),a.after(n))}for(let o=1;o<=r.depth&&o<=a.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&a.end(o)-n!=a.depth-o&&r.start(o-1)==a.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),a.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}function coveredDepths(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let a=r;a>=0;a--){let r=e.start(a);if(r<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating)break;(r==t.start(a)||a==e.depth&&a==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&a&&t.start(a-1)==r-1)&&n.push(a)}return n}class S extends m{constructor(e,t,n){super();this.pos=e;this.attr=t;this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return f.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let a=t.type.create(n,null,t.marks);return f.fromReplace(e,this.pos,this.pos+1,new r.Ji(r.FK.from(a),0,+!t.isLeaf))}getMap(){return u.empty}invert(e){return new S(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new S(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new S(t.pos,t.attr,t.value)}}m.jsonID("attr",S);class y extends m{constructor(e,t){super();this.attr=e;this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return f.ok(n)}getMap(){return u.empty}invert(e){return new y(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new y(t.attr,t.value)}}m.jsonID("docAttr",y);let A=class extends Error{};(A=function TransformError(e){let t=Error.call(this,e);return t.__proto__=TransformError.prototype,t}).prototype=Object.create(Error.prototype);A.prototype.constructor=A;A.prototype.name="TransformError";class N{constructor(e){this.doc=e;this.steps=[];this.docs=[];this.mapping=new h}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new A(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc);this.steps.push(e);this.mapping.appendMap(e.getMap());this.doc=t}replace(e,t=e,n=r.Ji.empty){let a=replaceStep(this.doc,e,t,n);return a&&this.step(a),this}replaceWith(e,t,n){return this.replace(e,t,new r.Ji(r.FK.from(n),0,0))}delete(e,t){return this.replace(e,t,r.Ji.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return replaceRange(this,e,t,n),this}replaceRangeWith(e,t,n){return replaceRangeWith(this,e,t,n),this}deleteRange(e,t){return deleteRange(this,e,t),this}lift(e,t){return lift(this,e,t),this}join(e,t=1){return join(this,e,t),this}wrap(e,t){return wrap(this,e,t),this}setBlockType(e,t=e,n,r=null){return setBlockType(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return setNodeMarkup(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new S(e,t,n)),this}setDocAttribute(e,t){return this.step(new y(e,t)),this}addNodeMark(e,t){return this.step(new _(e,t)),this}removeNodeMark(e,t){if(!(t instanceof r.CU)){let n=this.doc.nodeAt(e);if(!n)throw RangeError("No node at position "+e);t=t.isInSet(n.marks);if(!t)return this}return this.step(new E(e,t)),this}split(e,t=1,n){return split(this,e,t,n),this}addMark(e,t,n){return addMark(this,e,t,n),this}removeMark(e,t,n){return removeMark(this,e,t,n),this}clearIncompatible(e,t,n){return clearIncompatible(this,e,t,n),this}}},1575:function(e,t,n){"use strict";n.d(t,{Lz:function(){return eS},NZ:function(){return ed},zF:function(){return ep}});var r=n(42845),a=n(57505),o=n(38262);let domIndex=function(e){for(var t=0;;t++){e=e.previousSibling;if(!e)return t}},parentNode=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},i=null,textRange=function(e,t,n){let r=i||(i=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},clearReusedRange=function(){i=null},isEquivalentPosition=function(e,t,n,r){return n&&(scanFor(e,t,n,r,-1)||scanFor(e,t,n,r,1))},s=/^(img|br|input|textarea|hr)$/i;function scanFor(e,t,n,r,a){for(;;){if(e==n&&t==r)return!0;if(t==(a<0?0:nodeSize(e))){let n=e.parentNode;if(!n||1!=n.nodeType||hasBlockDesc(e)||s.test(e.nodeName)||"false"==e.contentEditable)return!1;t=domIndex(e)+(a<0?0:1);e=n}else{if(1!=e.nodeType)return!1;e=e.childNodes[t+(a<0?-1:0)];if("false"==e.contentEditable)return!1;t=a<0?nodeSize(e):0}}}function nodeSize(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function textNodeBefore$1(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=nodeSize(e=e.childNodes[t-1])}else{if(!e.parentNode||hasBlockDesc(e))return null;t=domIndex(e);e=e.parentNode}}}function textNodeAfter$1(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t];t=0}else{if(!e.parentNode||hasBlockDesc(e))return null;t=domIndex(e)+1;e=e.parentNode}}}function isOnEdge(e,t,n){for(let r=0==t,a=t==nodeSize(e);r||a;){if(e==n)return!0;let t=domIndex(e);e=e.parentNode;if(!e)return!1;r=r&&0==t;a=a&&t==nodeSize(e)}}function hasBlockDesc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}let selectionCollapsed=function(e){return e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function keyEvent(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function deepActiveElement(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function caretFromPoint(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(nodeSize(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(nodeSize(r.startContainer),r.startOffset)}}}let l="undefined"!=typeof navigator?navigator:null,c="undefined"!=typeof document?document:null,d=l&&l.userAgent||"",u=/Edge\/(\d+)/.exec(d),h=/MSIE \d/.exec(d),p=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(d),m=!!(h||p||u),f=h?document.documentMode:p?+p[1]:u?+u[1]:0,g=!m&&/gecko\/(\d+)/i.test(d);g&&(/Firefox\/(\d+)/.exec(d)||[0,0])[1];let b=!m&&/Chrome\/(\d+)/.exec(d),_=!!b,E=b?+b[1]:0,w=!m&&!!l&&/Apple Computer/.test(l.vendor),v=w&&(/Mobile\/\w+/.test(d)||!!l&&l.maxTouchPoints>2),k=v||!!l&&/Mac/.test(l.platform),S=!!l&&/Win/.test(l.platform),y=/Android \d/.test(d),A=!!c&&"webkitFontSmoothing"in c.documentElement.style,N=A?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function getSide(e,t){return"number"==typeof e?e:e[t]}function clientRect(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function scrollRectIntoView(e,t,n){let r=e.someProp("scrollThreshold")||0,a=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let i=n||e.dom;i;i=parentNode(i)){if(1!=i.nodeType)continue;let e=i,n=e==o.body,s=n?windowRect(o):clientRect(e),l=0,c=0;t.top<s.top+getSide(r,"top")?c=-(s.top-t.top+getSide(a,"top")):t.bottom>s.bottom-getSide(r,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+getSide(a,"top")-s.top:t.bottom-s.bottom+getSide(a,"bottom"));t.left<s.left+getSide(r,"left")?l=-(s.left-t.left+getSide(a,"left")):t.right>s.right-getSide(r,"right")&&(l=t.right-s.right+getSide(a,"right"));if(l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c);l&&(e.scrollLeft+=l);let a=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-a,top:t.top-o,right:t.right-a,bottom:t.bottom-o}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(i).position))break}}function storeScrollPos(e){let t,n,r=e.dom.getBoundingClientRect(),a=Math.max(0,r.top);for(let o=(r.left+r.right)/2,i=a+1;i<Math.min(innerHeight,r.bottom);i+=5){let r=e.root.elementFromPoint(o,i);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=a-20){t=r;n=s.top;break}}return{refDOM:t,refTop:n,stack:scrollStack(e.dom)}}function scrollStack(e){let t=[],n=e.ownerDocument;for(let r=e;r;r=parentNode(r)){t.push({dom:r,top:r.scrollTop,left:r.scrollLeft});if(e==n)break}return t}function resetScrollPos({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;restoreScrollStack(n,0==r?0:r-t)}function restoreScrollStack(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:a,left:o}=e[n];r.scrollTop!=a+t&&(r.scrollTop=a+t);r.scrollLeft!=o&&(r.scrollLeft=o)}}let R=null;function focusPreventScroll(e){if(e.setActive)return e.setActive();if(R)return e.focus(R);let t=scrollStack(e);e.focus(null==R?{get preventScroll(){R={preventScroll:!0};return!0}}:void 0);if(!R){R=!1;restoreScrollStack(t,0)}}function findOffsetInNode(e,t){let n,r,a,o=2e8,i,s=0,l=t.top,c=t.top;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=textRange(d).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l);c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<o){a=d;o=e;i=e&&3==a.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t;1==d.nodeType&&e&&(s=u+ +(t.left>=(p.left+p.right)/2));continue}}else if(p.top>t.top&&!n&&p.left<=t.left&&p.right>=t.left){n=d;r={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top}}!a&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=u+1)}}if(!a&&n){a=n;i=r;o=0}return a&&3==a.nodeType?findOffsetInText(a,i):!a||o&&1==a.nodeType?{node:e,offset:s}:findOffsetInNode(a,i)}function findOffsetInText(e,t){let n=e.nodeValue.length,r=document.createRange();for(let a=0;a<n;a++){r.setEnd(e,a+1);r.setStart(e,a);let n=singleRect(r,1);if(n.top!=n.bottom&&inRect(t,n))return{node:e,offset:a+ +(t.left>=(n.left+n.right)/2)}}return{node:e,offset:0}}function inRect(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function targetKludge(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function posFromElement(e,t,n){let{node:r,offset:a}=findOffsetInNode(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,a,o)}function posFromCaret(e,t,n,r){let a=-1;for(let n=t,o=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent){!o&&e.left>r.left||e.top>r.top?a=t.posBefore:(!o&&e.right<r.left||e.bottom<r.top)&&(a=t.posAfter);o=!0}if(!t.contentDOM&&a<0&&!t.node.isText)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}n=t.dom.parentNode}return a>-1?a:e.docView.posFromDOM(t,n,-1)}function elementFromPoint(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=a;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let a=e[r];if(inRect(t,a))return elementFromPoint(n,t,a)}}if((o=(o+1)%r)==a)break}return e}function posAtCoords(e,t){let n,r=e.dom.ownerDocument,a,o=0,i=caretFromPoint(r,t.left,t.top);i&&({node:a,offset:o}=i);let s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!inRect(t,n))return null;s=elementFromPoint(e.dom,t,n);if(!s)return null}if(w)for(let e=s;a&&e;e=parentNode(e))e.draggable&&(a=void 0);s=targetKludge(s,t);if(a){let r;if(g&&1==a.nodeType){o=Math.min(o,a.childNodes.length);if(o<a.childNodes.length){let e=a.childNodes[o],n;"IMG"==e.nodeName&&(n=e.getBoundingClientRect()).right<=t.left&&n.bottom>t.top&&o++}}A&&o&&1==a.nodeType&&1==(r=a.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--;a==e.dom&&o==a.childNodes.length-1&&1==a.lastChild.nodeType&&t.top>a.lastChild.getBoundingClientRect().bottom?n=e.state.doc.content.size:(0==o||1!=a.nodeType||"BR"!=a.childNodes[o-1].nodeName)&&(n=posFromCaret(e,a,o,t))}null==n&&(n=posFromElement(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:n,inside:l?l.posAtStart-l.border:-1}}function nonZero(e){return e.top<e.bottom||e.left<e.right}function singleRect(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(nonZero(e))return e}return Array.prototype.find.call(n,nonZero)||e.getBoundingClientRect()}let C=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(e,t,n){let{node:r,offset:a,atom:o}=e.docView.domFromPos(t,n<0?-1:1),i=A||g;if(3==r.nodeType)if(i&&(C.test(r.nodeValue)||(n<0?!a:a==r.nodeValue.length))){let e=singleRect(textRange(r,a,a),n);if(g&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let t=singleRect(textRange(r,a-1,a-1),-1);if(t.top==e.top){let n=singleRect(textRange(r,a,a+1),-1);if(n.top!=e.top)return flattenV(n,n.left<t.left)}}return e}else{let e=a,t=a,o=n<0?1:-1;if(n<0&&!a){t++;o=-1}else if(n>=0&&a==r.nodeValue.length){e--;o=1}else n<0?e--:t++;return flattenV(singleRect(textRange(r,e,t),o),o<0)}let s=e.state.doc.resolve(t-(o||0));if(!s.parent.inlineContent){if(null==o&&a&&(n<0||a==nodeSize(r))){let e=r.childNodes[a-1];if(1==e.nodeType)return flattenH(e.getBoundingClientRect(),!1)}if(null==o&&a<nodeSize(r)){let e=r.childNodes[a];if(1==e.nodeType)return flattenH(e.getBoundingClientRect(),!0)}return flattenH(r.getBoundingClientRect(),n>=0)}if(null==o&&a&&(n<0||a==nodeSize(r))){let e=r.childNodes[a-1],t=3==e.nodeType?textRange(e,nodeSize(e)-!i):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return flattenV(singleRect(t,1),!1)}if(null==o&&a<nodeSize(r)){let e=r.childNodes[a];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?textRange(e,0,+!i):1==e.nodeType?e:null:null;if(t)return flattenV(singleRect(t,-1),!0)}return flattenV(singleRect(3==r.nodeType?textRange(r):r,-n),n>=0)}function flattenV(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function flattenH(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function withFlushedState(e,t,n){let r=e.state,a=e.root.activeElement;r!=t&&e.updateState(t);a!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r);a!=e.dom&&a&&a.focus()}}function endOfTextblockVertical(e,t,n){let r=t.selection,a="up"==n?r.$from:r.$to;return withFlushedState(e,t,()=>{let{node:t}=e.docView.domFromPos(a.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=coordsAtPos(e,a.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=textRange(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let a=t[e];if(a.bottom>a.top+1&&("up"==n?r.top-a.top>(a.bottom-r.top)*2:a.bottom-r.bottom>(r.bottom-a.top)*2))return!1}}return!0})}let V=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,o=a==r.parent.content.size,i=e.domSelection();return i?V.test(r.parent.textContent)&&i.modify?withFlushedState(e,t,()=>{let{focusNode:t,focusOffset:a,anchorNode:o,anchorOffset:s}=e.domSelectionRange(),l=i.caretBidiLevel;i.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:u}=e.domSelectionRange(),h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&a==u;try{i.collapse(o,s);t&&(t!=o||a!=s)&&i.extend&&i.extend(t,a)}catch(e){}return null!=l&&(i.caretBidiLevel=l),h}):"left"==n||"backward"==n?!a:o:r.pos==r.start()||r.pos==r.end()}let T=null,U=null,I=!1;function endOfTextblock(e,t,n){return T==t&&U==n?I:(T=t,U=n,I="up"==n||"down"==n?endOfTextblockVertical(e,t,n):endOfTextblockHorizontal(e,t,n))}let x=0,B=1,F=2,M=3;class O{constructor(e,t,n,r){this.parent=e;this.children=t;this.dom=n;this.contentDOM=r;this.dirty=x;n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0;this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){let r;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode))if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}else{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}if(e==this.dom&&this.contentDOM)r=t>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let a=this.getDesc(r),o;if(a&&(!t||a.node))if(!n||!(o=a.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return a;else n=!1}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let a=this.getDesc(r);if(a)return a.localPosFromDOM(e,t,n)}return -1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],a=n+r.size;if(n==e&&a!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<a)return r.descAt(e-n-r.border);n=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let a=this.children[n],o=t+a.size;if(o>e||a instanceof Z){r=e-t;break}t=o}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof L&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;;n--,r=!1){e=n?this.children[n-1]:null;if(!e||e.dom.parentNode==this.contentDOM)break}return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?domIndex(e.dom)+1:0}}{let e,r=!0;for(;;n++,r=!1){e=n<this.children.length?this.children[n]:null;if(!e||e.dom.parentNode==this.contentDOM)break}return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?domIndex(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,a=-1;for(let o=n,i=0;;i++){let n=this.children[i],s=o+n.size;if(-1==r&&e<=s){let a=o+n.border;if(e>=a&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,a);e=o;for(let t=i;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=domIndex(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||i==this.children.length-1)){t=s;for(let e=i+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){a=domIndex(n.dom);break}t+=n.size}-1==a&&(a=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let a=Math.min(e,t),o=Math.max(e,t);for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.size;if(a>s&&o<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}let i=this.domFromPos(e,e?-1:1),s=t==e?i:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((g||w)&&e==t){let{node:e,offset:t}=i;if(3==e.nodeType){c=!!(t&&"\n"==e.nodeValue[t-1]);if(c&&t==e.nodeValue.length)for(let t=e,n;t;t=t.parentNode){if(n=t.nextSibling){"BR"==n.nodeName&&(i=s={node:n.parentNode,offset:domIndex(n)+1});break}let e=t.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(g&&l.focusNode&&l.focusNode!=s.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&w)&&isEquivalentPosition(i.node,i.offset,l.anchorNode,l.anchorOffset)&&isEquivalentPosition(s.node,s.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||e==t)&&!c){l.collapse(i.node,i.offset);try{e!=t&&l.extend(s.node,s.offset);d=!0}catch(e){}}if(!d){if(e>t){let e=i;i=s;s=e}let n=document.createRange();n.setEnd(s.node,s.offset);n.setStart(i.node,i.offset);l.removeAllRanges();l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let a=this.children[r],o=n+a.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+a.border,i=o-a.border;if(e>=r&&t<=i){this.dirty=e==n||t==o?F:B;e==r&&t==i&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=M:a.markDirty(e-r,t-r);return}a.dirty=a.dom!=a.contentDOM||a.dom.parentNode!=this.contentDOM||a.children.length?M:F}n=o}this.dirty=F}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?F:B;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class L extends O{constructor(e,t,n,r){let a,o=t.type.toDOM;"function"==typeof o&&(o=o(n,()=>a?a.parent?a.parent.posBeforeChild(a):void 0:r));if(!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o);o=e}o.contentEditable="false";o.classList.add("ProseMirror-widget")}super(e,[],o,null);this.widget=t;this.widget=t;a=this}matchesWidget(e){return this.dirty==x&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom);super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class D extends O{constructor(e,t,n,r){super(e,[],t,null);this.textDOM=n;this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class z extends O{constructor(e,t,n,r){super(e,[],n,r);this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=a.ZF.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new z(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&M||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=M&&this.mark.eq(e)}markDirty(e,t){super.markDirty(e,t);if(this.dirty!=x){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty);this.dirty=x}}slice(e,t,n){let r=z.create(this.parent,this.mark,!0,n),a=this.children,o=this.size;t<o&&(a=replaceNodes(a,t,o,n));e>0&&(a=replaceNodes(a,0,e,n));for(let e=0;e<a.length;e++)a[e].parent=r;return r.children=a,r}}class P extends O{constructor(e,t,n,r,a,o,i,s,l){super(e,[],a,o);this.node=t;this.outerDeco=n;this.innerDeco=r;this.nodeDOM=i}static create(e,t,n,r,o,i){let s=o.nodeViews[t.type.name],l,c=s&&s(t,o,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:i,n,r),d=c&&c.dom,u=c&&c.contentDOM;if(t.isText)if(d){if(3!=d.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(t.text);else if(!d){let e=a.ZF.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:d,contentDOM:u}=e)}if(!u&&!t.isText&&"BR"!=d.nodeName){d.hasAttribute("contenteditable")||(d.contentEditable="false");t.type.spec.draggable&&(d.draggable=!0)}let h=d;return(d=applyOuterDeco(d,n,t),c)?l=new W(e,t,n,r,d,u||null,h,c,o,i+1):t.isText?new G(e,t,n,r,d,h,o):new P(e,t,n,r,d,u||null,h,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};"pre"==this.node.type.whitespace&&(e.preserveWhitespace="full");if(this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>a.FK.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return this.dirty==x&&e.eq(this.node)&&sameOuterDeco(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return+!this.node.isLeaf}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Y(this,i&&i.node,e);iterDeco(this.node,this.innerDeco,(t,o,i)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&l.syncToMarks(o==this.node.childCount?a.CU.none:this.node.child(o).marks,n,e);l.placeWidget(t,e,r)},(t,a,i,c)=>{let d;l.syncToMarks(t.marks,n,e);l.findNodeMatch(t,a,i,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,a,i,d,e)||l.updateNextNode(t,a,i,e,c,r)||l.addNode(t,a,i,e,r);r+=t.nodeSize});l.syncToMarks([],n,e);this.node.isTextblock&&l.addTextblockHacks();l.destroyRest();if(l.changed||this.dirty==F){i&&this.protectLocalComposition(e,i);renderDescs(this.contentDOM,this.children,e);v&&iosHacks(this.dom)}}localCompositionInfo(e,t){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof r.U3)||n<t||a>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(!this.node.inlineContent)return{node:o,pos:-1,text:""};{let e=o.nodeValue,r=findTextInFragment(this.node.content,e,n-t,a-t);return r<0?null:{node:o,pos:r,text:e}}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new D(this,a,t,r);e.input.compositionNodes.push(o);this.children=replaceNodes(this.children,n,n+r.length,e,o)}update(e,t,n,r){return this.dirty!=M&&!!e.sameMarkup(this.node)&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t);this.node=e;this.innerDeco=n;this.contentDOM&&this.updateChildren(r,this.posAtStart);this.dirty=x}updateOuterDeco(e){if(sameOuterDeco(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,t),computeOuterDeco(e,this.node,t));if(this.dom!=n){n.pmViewDesc=void 0;this.dom.pmViewDesc=this}this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode");(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){if(1==this.nodeDOM.nodeType){this.nodeDOM.classList.remove("ProseMirror-selectednode");(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}}get domAtom(){return this.node.isAtom}}function docViewDesc(e,t,n,r,a){applyOuterDeco(r,t,e);let o=new P(void 0,e,t,n,r,r,r,a,0);return o.contentDOM&&o.updateChildren(a,0),o}class G extends P{constructor(e,t,n,r,a,o,i){super(e,t,n,r,a,null,o,i,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){if(this.dirty==M||this.dirty!=x&&!this.inParent()||!e.sameMarkup(this.node))return!1;this.updateOuterDeco(t);if((this.dirty!=x||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue){this.nodeDOM.nodeValue=e.text;r.trackWrites==this.nodeDOM&&(r.trackWrites=null)}return this.node=e,this.dirty=x,!0}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),a=document.createTextNode(r.text);return new G(this.parent,r,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,t){super.markDirty(e,t);this.dom!=this.nodeDOM&&(0==e||t==this.nodeDOM.nodeValue.length)&&(this.dirty=M)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Z extends O{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==x&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class W extends P{constructor(e,t,n,r,a,o,i,s,l,c){super(e,t,n,r,a,o,i,l,c);this.spec=s}update(e,t,n,r){if(this.dirty==M)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,n);return a&&this.updateInner(e,t,n,r),a}return(!!this.contentDOM||!!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy();super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(e,t,n){let r=e.firstChild,a=!1;for(let o=0;o<t.length;o++){let i=t[o],s=i.dom;if(s.parentNode==e){for(;s!=r;){r=rm(r);a=!0}r=r.nextSibling}else{a=!0;e.insertBefore(s,r)}if(i instanceof z){let t=r?r.previousSibling:e.lastChild;renderDescs(i.contentDOM,i.children,n);r=t?t.nextSibling:e.firstChild}}for(;r;){r=rm(r);a=!0}a&&n.trackWrites==e&&(n.trackWrites=null)}let OuterDecoLevel=function(e){e&&(this.nodeName=e)};OuterDecoLevel.prototype=Object.create(null);let j=[new OuterDecoLevel];function computeOuterDeco(e,t,n){if(0==e.length)return j;let r=n?j[0]:new OuterDecoLevel,a=[r];for(let o=0;o<e.length;o++){let i=e[o].type.attrs;if(i){i.nodeName&&a.push(r=new OuterDecoLevel(i.nodeName));for(let e in i){let o=i[e];if(null!=o){n&&1==a.length&&a.push(r=new OuterDecoLevel(t.isInline?"span":"div"));"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o)}}}}return a}function patchOuterDeco(e,t,n,r){if(n==j&&r==j)return t;let a=t;for(let t=0;t<r.length;t++){let o=r[t],i=n[t];if(t){let t;if(i&&i.nodeName==o.nodeName&&a!=e&&(t=a.parentNode)&&t.nodeName.toLowerCase()==o.nodeName)a=t;else{(t=document.createElement(o.nodeName)).pmIsDeco=!0;t.appendChild(a);i=j[0];a=t}}patchAttributes(a,i||j[0],o)}return a}function patchAttributes(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==a.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<a.length;t++)-1==r.indexOf(a[t])&&e.classList.add(a[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}function applyOuterDeco(e,t,n){return patchOuterDeco(e,e,j,computeOuterDeco(t,n,1!=e.nodeType))}function sameOuterDeco(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function rm(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Y{constructor(e,t,n){this.lock=t;this.view=n;this.index=0;this.stack=[];this.changed=!1;this.top=e;this.preMatch=preMatch(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e);this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;r<o&&(r==a-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<a;){this.destroyRest();this.top.dirty=x;this.index=this.stack.pop();this.top=this.stack.pop();a--}for(;a<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[a])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1){if(r>this.index){this.changed=!0;this.destroyBetween(this.index,r)}this.top=this.top.children[this.index]}else{let r=z.create(this.top,e[a],t,n);this.top.children.splice(this.index,0,r);this.top=r;this.changed=!0}this.index=0;a++}}findNodeMatch(e,t,n,r){let a=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))a=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){a=r;break}}return!(a<0)&&(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,n,r,a){let o=this.top.children[r];return o.dirty==M&&o.dom==o.contentDOM&&(o.dirty=F),!!o.update(e,t,n,a)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return -1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t){for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e}return -1}e=t}}updateNextNode(e,t,n,r,a,o){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof P){let l=this.preMatch.matched.get(s);if(null!=l&&l!=a)return!1;let c=s.dom,d,u=this.isLocked(c)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=M&&sameOuterDeco(t,s.outerDeco));if(!u&&s.update(e,t,n,r)){this.destroyBetween(this.index,i);s.dom!=c&&(this.changed=!0);this.index++;return!0}if(!u&&(d=this.recreateWrapper(s,e,t,n,r,o))){this.destroyBetween(this.index,i);this.top.children[this.index]=d;if(d.contentDOM){d.dirty=F;d.updateChildren(r,o+1);d.dirty=x}this.changed=!0;this.index++;return!0}break}}return!1}recreateWrapper(e,t,n,r,a,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!sameOuterDeco(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let i=P.create(this.top,t,n,r,a,o);if(i.contentDOM){i.children=e.children;e.children=[];for(let e of i.children)e.parent=i}return e.destroy(),i}addNode(e,t,n,r,a){let o=P.create(this.top,e,t,n,r,a);o.contentDOM&&o.updateChildren(r,a+1);this.top.children.splice(this.index++,0,o);this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let r=new L(this.top,e,t,n);this.top.children.splice(this.index++,0,r);this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof z;)e=(t=e).children[t.children.length-1];if(!e||!(e instanceof G)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text)){(w||_)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t);this.addHackNode("BR",this.top)}}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);if("IMG"==e){n.className="ProseMirror-separator";n.alt=""}"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Z(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r);this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function preMatch(e,t){let n=t,r=n.children.length,a=e.childCount,o=new Map,i=[];n:for(;a>0;){let s;for(;;)if(r){let e=n.children[r-1];if(e instanceof z){n=e;r=e.children.length}else{s=e;r--;break}}else if(n==t)break n;else{r=n.parent.children.indexOf(n);n=n.parent}let l=s.node;if(l){if(l!=e.child(a-1))break;--a;o.set(s,a);i.push(s)}}return{index:a,matched:o,matches:i.reverse()}}function compareSide(e,t){return e.type.side-t.type.side}function iterDeco(e,t,n,r){let a=t.locals(e),o=0;if(0==a.length){for(let n=0;n<e.childCount;n++){let i=e.child(n);r(i,a,t.forChild(o,i),n);o+=i.nodeSize}return}let i=0,s=[],l=null;for(let c=0;;){let d,u,h,p;for(;i<a.length&&a[i].to==o;){let e=a[i++];e.widget&&(d?(u||(u=[d])).push(e):d=e)}if(d)if(u){u.sort(compareSide);for(let e=0;e<u.length;e++)n(u[e],c,!!l)}else n(d,c,!!l);if(l){p=-1;h=l;l=null}else if(c<e.childCount){p=c;h=e.child(c++)}else break;for(let e=0;e<s.length;e++)s[e].to<=o&&s.splice(e--,1);for(;i<a.length&&a[i].from<=o&&a[i].to>o;)s.push(a[i++]);let m=o+h.nodeSize;if(h.isText){let e=m;i<a.length&&a[i].from<e&&(e=a[i].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);if(e<m){l=h.cut(e-o);h=h.cut(0,e-o);m=e;p=-1}}else for(;i<a.length&&a[i].to<m;)i++;let f=h.isInline&&!h.isLeaf?s.filter(e=>!e.inline):s.slice();r(h,f,t.forChild(o,h),p);o=m}}function iosHacks(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important";window.getComputedStyle(e).listStyle;e.style.cssText=t}}function findTextInFragment(e,t,n,r){for(let a=0,o=0;a<e.childCount&&o<=r;){let i=e.child(a++),s=o;o+=i.nodeSize;if(!i.isText)continue;let l=i.text;for(;a<e.childCount;){let t=e.child(a++);o+=t.nodeSize;if(!t.isText)break;l+=t.text}if(o>=n){if(o>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return -1}function replaceNodes(e,t,n,r,a){let o=[];for(let i=0,s=0;i<e.length;i++){let l=e[i],c=s,d=s+=l.size;if(c>=n||d<=t)o.push(l);else{c<t&&o.push(l.slice(0,t-c,r));if(a){o.push(a);a=void 0}d>n&&o.push(l.slice(n-c,l.size,r))}}return o}function selectionFromDOM(e,t=null){let n=e.domSelectionRange(),a=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=a.resolve(s),c,d;if(selectionCollapsed(n)){c=s;for(;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&r.nh.isSelectable(e)&&o.parent&&!(e.isInline&&isOnEdge(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;d=new r.nh(s==e?l:a.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,r=s;for(let a=0;a<n.rangeCount;a++){let o=n.getRangeAt(a);t=Math.min(t,e.docView.posFromDOM(o.startContainer,o.startOffset,1));r=Math.max(r,e.docView.posFromDOM(o.endContainer,o.endOffset,-1))}if(t<0)return null;[c,s]=r==e.state.selection.anchor?[r,t]:[t,r];l=a.resolve(s)}else c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let u=a.resolve(c);if(!d){let n="pointer"==t||e.state.selection.head<l.pos&&!i?1:-1;d=selectionBetween(e,u,l,n)}return d}function editorOwnsSelection(e){return e.editable?e.hasFocus():hasSelection(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function selectionToDOM(e,t=!1){let n=e.state.selection;syncNodeSelection(e,n);if(editorOwnsSelection(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&_){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&isEquivalentPosition(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0;e.domObserver.setCurSelection();return}}e.domObserver.disconnectSelection();if(e.cursorWrapper)selectCursorWrapper(e);else{let{anchor:a,head:o}=n,i,s;if(H&&!(n instanceof r.U3)){n.$from.parent.inlineContent||(i=temporarilyEditableNear(e,n.from));n.empty||n.$from.parent.inlineContent||(s=temporarilyEditableNear(e,n.to))}e.docView.setSelection(a,o,e.root,t);if(H){i&&resetEditable(i);s&&resetEditable(s)}if(n.visible)e.dom.classList.remove("ProseMirror-hideselection");else{e.dom.classList.add("ProseMirror-hideselection");"onselectionchange"in document&&removeClassOnSelectionChange(e)}}e.domObserver.setCurSelection();e.domObserver.connectSelection()}}let H=w||_&&E<63;function temporarilyEditableNear(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),a=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(w&&a&&"false"==a.contentEditable)return setEditable(a);if((!a||"false"==a.contentEditable)&&(!o||"false"==o.contentEditable)){if(a)return setEditable(a);else if(o)return setEditable(o)}}function setEditable(e){e.contentEditable="true";if(w&&e.draggable){e.draggable=!1;e.wasDraggable=!0}return e}function resetEditable(e){e.contentEditable="false";if(e.wasDraggable){e.draggable=!0;e.wasDraggable=null}}function removeClassOnSelectionChange(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,a=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{if(n.anchorNode!=r||n.anchorOffset!=a){t.removeEventListener("selectionchange",e.input.hideSelectionGuard);setTimeout(()=>{(!editorOwnsSelection(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20)}})}function selectCursorWrapper(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,a="IMG"==r.nodeName;a?n.setStart(r.parentNode,domIndex(r)+1):n.setStart(r,0);n.collapse(!0);t.removeAllRanges();t.addRange(n);if(!a&&!e.state.selection.visible&&m&&f<=11){r.disabled=!0;r.disabled=!1}}function syncNodeSelection(e,t){if(t instanceof r.nh){let n=e.docView.descAt(t.from);if(n!=e.lastSelectedViewDesc){clearNodeSelection(e);n&&n.selectNode();e.lastSelectedViewDesc=n}}else clearNodeSelection(e)}function clearNodeSelection(e){if(e.lastSelectedViewDesc){e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode();e.lastSelectedViewDesc=void 0}}function selectionBetween(e,t,n,a){return e.someProp("createSelectionBetween",r=>r(e,t,n))||r.U3.between(t,n,a)}function hasFocusAndSelection(e){return(!e.editable||!!e.hasFocus())&&hasSelection(e)}function hasSelection(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function anchorInRightPlace(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return isEquivalentPosition(t.node,t.offset,n.anchorNode,n.anchorOffset)}function moveSelectionBlock(e,t){let{$anchor:n,$head:a}=e.selection,o=t>0?n.max(a):n.min(a),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&r.LN.findFrom(i,t)}function apply(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function selectHorizontally(e,t,n){let a=e.state.selection;if(a instanceof r.U3){if(n.indexOf("s")>-1){let{$head:n}=a,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return apply(e,new r.U3(a.$anchor,i))}else if(!a.empty)return!1;else if(e.endOfTextblock(t>0?"forward":"backward")){let n=moveSelectionBlock(e.state,t);return!!n&&n instanceof r.nh&&apply(e,n)}else if(!(k&&n.indexOf("m")>-1)){let n=a.$head,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter,i;if(!o||o.isText)return!1;let s=t<0?n.pos-o.nodeSize:n.pos;return!!(o.isAtom||(i=e.docView.descAt(s))&&!i.contentDOM)&&(r.nh.isSelectable(o)?apply(e,new r.nh(t<0?e.state.doc.resolve(n.pos-o.nodeSize):n)):!!A&&apply(e,new r.U3(e.state.doc.resolve(t<0?s:s+o.nodeSize))))}}else{if(a instanceof r.nh&&a.node.isInline)return apply(e,new r.U3(t>0?a.$to:a.$from));let n=moveSelectionBlock(e.state,t);return!!n&&apply(e,n)}}function nodeLen(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function isIgnorable(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function skipIgnoredNodes(e,t){return t<0?skipIgnoredNodesBefore(e):skipIgnoredNodesAfter(e)}function skipIgnoredNodesBefore(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let a,o,i=!1;g&&1==n.nodeType&&r<nodeLen(n)&&isIgnorable(n.childNodes[r],-1)&&(i=!0);for(;;)if(r>0)if(1!=n.nodeType)break;else{let e=n.childNodes[r-1];if(isIgnorable(e,-1)){a=n;o=--r}else if(3==e.nodeType)r=(n=e).nodeValue.length;else break}else if(isBlockNode(n))break;else{let t=n.previousSibling;for(;t&&isIgnorable(t,-1);){a=n.parentNode;o=domIndex(t);t=t.previousSibling}if(t)r=nodeLen(n=t);else{n=n.parentNode;if(n==e.dom)break;r=0}}i?setSelFocus(e,n,r):a&&setSelFocus(e,a,o)}function skipIgnoredNodesAfter(e){let t,n,r=e.domSelectionRange(),a=r.focusNode,o=r.focusOffset;if(!a)return;let i=nodeLen(a);for(;;)if(o<i){if(1!=a.nodeType)break;let e=a.childNodes[o];if(isIgnorable(e,1)){t=a;n=++o}else break}else if(isBlockNode(a))break;else{let r=a.nextSibling;for(;r&&isIgnorable(r,1);){t=r.parentNode;n=domIndex(r)+1;r=r.nextSibling}if(r){o=0;i=nodeLen(a=r)}else{a=a.parentNode;if(a==e.dom)break;o=i=0}}t&&setSelFocus(e,t,n)}function isBlockNode(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function textNodeAfter(e,t){for(;e&&t==e.childNodes.length&&!hasBlockDesc(e);){t=domIndex(e)+1;e=e.parentNode}for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n;t=0}}function textNodeBefore(e,t){for(;e&&!t&&!hasBlockDesc(e);){t=domIndex(e);e=e.parentNode}for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}function setSelFocus(e,t,n){if(3!=t.nodeType){let e,r;if(r=textNodeAfter(t,n)){t=r;n=0}else if(e=textNodeBefore(t,n)){t=e;n=e.nodeValue.length}}let r=e.domSelection();if(!r)return;if(selectionCollapsed(r)){let e=document.createRange();e.setEnd(t,n);e.setStart(t,n);r.removeAllRanges();r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:a}=e;setTimeout(()=>{e.state==a&&selectionToDOM(e)},50)}function findDirection(e,t){let n=e.state.doc.resolve(t);if(!(_||S)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),a=(n.top+n.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),a=(n.top+n.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function selectVertically(e,t,n){let a=e.state.selection;if(a instanceof r.U3&&!a.empty||n.indexOf("s")>-1||k&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=a;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=moveSelectionBlock(e.state,t);if(n&&n instanceof r.nh)return apply(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,s=a instanceof r.i5?r.LN.near(n,t):r.LN.findFrom(n,t);return!!s&&apply(e,s)}return!1}function stopNativeHorizontalDelete(e,t){if(!(e.state.selection instanceof r.U3))return!0;let{$head:n,$anchor:a,empty:o}=e.state.selection;if(!n.sameParent(a))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function switchEditable(e,t,n){e.domObserver.stop();t.contentEditable=n;e.domObserver.start()}function safariDownArrowBug(e){if(!w||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;switchEditable(e,n,"true");setTimeout(()=>switchEditable(e,n,"false"),20)}return!1}function getMods(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function captureKeyDown(e,t){let n=t.keyCode,r=getMods(t);if(8==n||k&&72==n&&"c"==r)return stopNativeHorizontalDelete(e,-1)||skipIgnoredNodes(e,-1);if(46==n&&!t.shiftKey||k&&68==n&&"c"==r)return stopNativeHorizontalDelete(e,1)||skipIgnoredNodes(e,1);if(13==n||27==n)return!0;if(37==n||k&&66==n&&"c"==r){let t=37==n?"ltr"==findDirection(e,e.state.selection.from)?-1:1:-1;return selectHorizontally(e,t,r)||skipIgnoredNodes(e,t)}if(39==n||k&&70==n&&"c"==r){let t=39==n?"ltr"==findDirection(e,e.state.selection.from)?1:-1:1;return selectHorizontally(e,t,r)||skipIgnoredNodes(e,t)}else if(38==n||k&&80==n&&"c"==r)return selectVertically(e,-1,r)||skipIgnoredNodes(e,-1);else if(40==n||k&&78==n&&"c"==r)return safariDownArrowBug(e)||selectVertically(e,1,r)||skipIgnoredNodes(e,1);else if(r==(k?"m":"c")&&(66==n||73==n||89==n||90==n))return!0;return!1}function serializeForClipboard(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--;i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null);r=e.content}let s=e.someProp("clipboardSerializer")||a.ZF.fromSchema(e.state.schema),l=detachedDoc(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let d=c.firstChild,u,h=0;for(;d&&1==d.nodeType&&(u=Q[d.nodeName.toLowerCase()]);){for(let e=u.length-1;e>=0;e--){let t=l.createElement(u[e]);for(;c.firstChild;)t.appendChild(c.firstChild);c.appendChild(t);h++}d=c.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${o} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`),{dom:c,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function parseFromClipboard(e,t,n,r,o){let i,s,l=o.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||l||!n);if(c){e.someProp("transformPastedText",n=>{t=n(t,l||r,e)});if(l)return t?new a.Ji(a.FK.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):a.Ji.empty;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=a.ZF.fromSchema(r);i=document.createElement("div");t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else{e.someProp("transformPastedHTML",t=>{n=t(n,e)});i=readHTML(n);A&&restoreReplacedSpaces(i)}let d=i&&i.querySelector("[data-pm-slice]"),u=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||a.S4.fromSchema(e.state.schema)).parseSlice(i,{preserveWhitespace:!!(c||u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||X.test(e.parentNode.nodeName)?null:{ignore:!0}}));if(u)s=addContext(closeSlice(s,+u[1],+u[2]),u[4]);else{s=a.Ji.maxOpen(normalizeSiblings(s.content,o),!0);if(s.openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=closeSlice(s,e,t)}}return e.someProp("transformPasted",t=>{s=t(s,e)}),s}let X=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),o,i=[];e.forEach(e=>{if(!i)return;let t=r.findWrapping(e.type),n;if(!t)return i=null;if(n=i.length&&o.length&&addToSibling(t,o,e,i[i.length-1],0))i[i.length-1]=n;else{i.length&&(i[i.length-1]=closeRight(i[i.length-1],o.length));let n=withWrappers(e,t);i.push(n);r=r.matchType(n.type);o=t}});if(i)return a.FK.from(i)}return e}function withWrappers(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,a.FK.from(e));return e}function addToSibling(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=addToSibling(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));let s=r.contentMatchAt(r.childCount);if(s.matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(a.FK.from(withWrappers(n,e,o+1))))}}function closeRight(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,closeRight(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(a.FK.empty,!0);return e.copy(n.append(r))}function closeRange(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=closeRange(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(a.FK.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function closeSlice(e,t,n){return t<e.openStart&&(e=new a.Ji(closeRange(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new a.Ji(closeRange(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}let Q={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},J=null;function detachedDoc(){return J||(J=document.implementation.createHTMLDocument("title"))}function maybeWrapTrusted(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:e=>e}).createHTML(e):e}function readHTML(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=detachedDoc().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),a;(a=r&&Q[r[1].toLowerCase()])&&(e=a.map(e=>"<"+e+">").join("")+e+a.map(e=>"</"+e+">").reverse().join(""));n.innerHTML=maybeWrapTrusted(e);if(a)for(let e=0;e<a.length;e++)n=n.querySelector(a[e])||n;return n}function restoreReplacedSpaces(e){let t=e.querySelectorAll(_?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function addContext(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:s}=e;for(let e=r.length-2;e>=0;e-=2){let t=n.nodes[r[e]];if(!t||t.hasRequiredAttrs())break;o=a.FK.from(t.create(r[e+1],o));i++;s++}return new a.Ji(o,i,s)}let K={},$={},q={touchstart:!0,touchmove:!0};class ee{constructor(){this.shiftKey=!1;this.mouseDown=null;this.lastKeyCode=null;this.lastKeyCodeTime=0;this.lastClick={time:0,x:0,y:0,type:""};this.lastSelectionOrigin=null;this.lastSelectionTime=0;this.lastIOSEnter=0;this.lastIOSEnterFallbackTimeout=-1;this.lastFocus=0;this.lastTouch=0;this.lastAndroidDelete=0;this.composing=!1;this.compositionNode=null;this.composingTimeout=-1;this.compositionNodes=[];this.compositionEndedAt=-2e8;this.compositionID=1;this.compositionPendingChanges=0;this.domChangeCount=0;this.eventHandlers=Object.create(null);this.hideSelectionGuard=null}}function initInput(e){for(let t in K){let n=K[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!eventBelongsToView(e,t)||runCustomHandler(e,t)||!e.editable&&t.type in $||n(e,t)},q[t]?{passive:!0}:void 0)}w&&e.dom.addEventListener("input",()=>null);ensureListeners(e)}function setSelectionOrigin(e,t){e.input.lastSelectionOrigin=t;e.input.lastSelectionTime=Date.now()}function destroyInput(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout);clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ensureListeners(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>runCustomHandler(e,t))})}function runCustomHandler(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function eventBelongsToView(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function dispatchEvent(e,t){runCustomHandler(e,t)||!K[t.type]||!e.editable&&t.type in $||K[t.type](e,t)}$.keydown=(e,t)=>{let n=t;e.input.shiftKey=16==n.keyCode||n.shiftKey;if(!inOrNearComposition(e,n)){e.input.lastKeyCode=n.keyCode;e.input.lastKeyCodeTime=Date.now();if(!y||!_||13!=n.keyCode){229!=n.keyCode&&e.domObserver.forceFlush();if(!v||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||captureKeyDown(e,n)?n.preventDefault():setSelectionOrigin(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t;e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{if(e.input.lastIOSEnter==t){e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter")));e.input.lastIOSEnter=0}},200)}}}};$.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)};$.keypress=(e,t)=>{let n=t;if(inOrNearComposition(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||k&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let a=e.state.selection;if(!(a instanceof r.U3)||!a.$from.sameParent(a.$to)){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,a.$from.pos,a.$to.pos,t))||e.dispatch(e.state.tr.insertText(t).scrollIntoView());n.preventDefault()}};function eventCoords(e){return{left:e.clientX,top:e.clientY}}function isNear(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function runHandlerOnContext(e,t,n,r,a){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,t=>r>o.depth?t(e,n,o.nodeAfter,o.before(r),a,!0):t(e,n,o.node(r),o.before(r),a,!1)))return!0;return!1}function updateSelection(e,t,n){e.focused||e.focus();if(e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0);e.dispatch(r)}function selectClickedLeaf(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),a=n.nodeAfter;return!!(a&&a.isAtom&&r.nh.isSelectable(a))&&(updateSelection(e,new r.nh(n),"pointer"),!0)}function selectClickedNode(e,t){if(-1==t)return!1;let n=e.state.selection,a,o;n instanceof r.nh&&(a=n.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(r.nh.isSelectable(t)){o=a&&n.$from.depth>0&&e>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?i.before(n.$from.depth):i.before(e);break}}return null!=o&&(updateSelection(e,r.nh.create(e.state.doc,o),"pointer"),!0)}function handleSingleClick(e,t,n,r,a){return runHandlerOnContext(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(a?selectClickedNode(e,n):selectClickedLeaf(e,n))}function handleDoubleClick(e,t,n,r){return runHandlerOnContext(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function handleTripleClick(e,t,n,r){return runHandlerOnContext(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||defaultTripleClick(e,n,r)}function defaultTripleClick(e,t,n){if(0!=n.button)return!1;let a=e.state.doc;if(-1==t)return!!a.inlineContent&&(updateSelection(e,r.U3.create(a,0,a.content.size),"pointer"),!0);let o=a.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),i=o.before(t);if(n.inlineContent)updateSelection(e,r.U3.create(a,i+1,i+1+n.content.size),"pointer");else{if(!r.nh.isSelectable(n))continue;updateSelection(e,r.nh.create(a,i),"pointer")}return!0}}function forceDOMFlush(e){return endComposition(e)}let et=k?"metaKey":"ctrlKey";K.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=forceDOMFlush(e),a=Date.now(),o="singleClick";a-e.input.lastClick.time<500&&isNear(n,e.input.lastClick)&&!n[et]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick"));e.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:o};let i=e.posAtCoords(eventCoords(n));if(i)if("singleClick"==o){e.input.mouseDown&&e.input.mouseDown.done();e.input.mouseDown=new en(e,i,n,!!r)}else("doubleClick"==o?handleDoubleClick:handleTripleClick)(e,i.pos,i.inside,n)?n.preventDefault():setSelectionOrigin(e,"pointer")};class en{constructor(e,t,n,a){let o,i;this.view=e;this.pos=t;this.event=n;this.flushed=a;this.delayedSelectionSync=!1;this.mightDrag=null;this.startDoc=e.state.doc;this.selectNode=!!n[et];this.allowDefault=n.shiftKey;if(t.inside>-1){o=e.state.doc.nodeAt(t.inside);i=t.inside}else{let n=e.state.doc.resolve(t.pos);o=n.parent;i=n.depth?n.before():0}let s=a?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l&&1==l.dom.nodeType?l.dom:null;let{selection:c}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.nh&&c.from<=i&&c.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&g&&!this.target.hasAttribute("contentEditable"))});if(this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)){this.view.domObserver.stop();this.mightDrag.addAttr&&(this.target.draggable=!0);this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20);this.view.domObserver.start()}e.root.addEventListener("mouseup",this.up=this.up.bind(this));e.root.addEventListener("mousemove",this.move=this.move.bind(this));setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up);this.view.root.removeEventListener("mousemove",this.move);if(this.mightDrag&&this.target){this.view.domObserver.stop();this.mightDrag.addAttr&&this.target.removeAttribute("draggable");this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable");this.view.domObserver.start()}this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view));this.view.input.mouseDown=null}up(e){this.done();if(!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(eventCoords(e)));this.updateAllowDefault(e);if(this.allowDefault||!t)setSelectionOrigin(this.view,"pointer");else if(handleSingleClick(this.view,t.pos,t.inside,e,this.selectNode))e.preventDefault();else if(0==e.button&&(this.flushed||w&&this.mightDrag&&!this.mightDrag.node.isAtom||_&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to)))){updateSelection(this.view,r.LN.near(this.view.state.doc.resolve(t.pos)),"pointer");e.preventDefault()}else setSelectionOrigin(this.view,"pointer")}move(e){this.updateAllowDefault(e);setSelectionOrigin(this.view,"pointer");0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}K.touchstart=e=>{e.input.lastTouch=Date.now();forceDOMFlush(e);setSelectionOrigin(e,"pointer")};K.touchmove=e=>{e.input.lastTouch=Date.now();setSelectionOrigin(e,"pointer")};K.contextmenu=e=>forceDOMFlush(e);function inOrNearComposition(e,t){return!!e.composing||!!(w&&500>Math.abs(t.timeStamp-e.input.compositionEndedAt))&&(e.input.compositionEndedAt=-2e8,!0)}let er=y?5e3:-1;$.compositionstart=$.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof r.U3&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive))){e.markCursor=e.state.storedMarks||n.marks();endComposition(e,!0);e.markCursor=null}else{endComposition(e,!t.selection.empty);if(g&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t;r=-1}}}e.input.composing=!0}scheduleComposeEnd(e,er)};$.compositionend=(e,t)=>{if(e.composing){e.input.composing=!1;e.input.compositionEndedAt=t.timeStamp;e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0;e.input.compositionNode=null;e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush());e.input.compositionID++;scheduleComposeEnd(e,20)}};function scheduleComposeEnd(e,t){clearTimeout(e.input.composingTimeout);t>-1&&(e.input.composingTimeout=setTimeout(()=>endComposition(e),t))}function clearComposition(e){if(e.composing){e.input.composing=!1;e.input.compositionEndedAt=timestampFromCustomEvent()}for(;e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=textNodeBefore$1(t.focusNode,t.focusOffset),r=textNodeAfter$1(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||r==a)return a;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(!(!e||!e.isText(n.nodeValue)))return r}}return n||r}function timestampFromCustomEvent(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function endComposition(e,t=!1){if(!y||!(e.domObserver.flushingSoon>=0)){e.domObserver.forceFlush();clearComposition(e);if(t||e.docView&&e.docView.dirty){let n=selectionFromDOM(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!e.state.selection.empty?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function captureCopy(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t);n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(t);e.dom.blur();r.removeAllRanges();r.addRange(a);setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n);e.focus()},50)}let ea=m&&f<15||v&&N<604;K.copy=$.cut=(e,t)=>{let n=t,r=e.state.selection,a="cut"==n.type;if(r.empty)return;let o=ea?null:n.clipboardData,{dom:i,text:s}=serializeForClipboard(e,r.content());if(o){n.preventDefault();o.clearData();o.setData("text/html",i.innerHTML);o.setData("text/plain",s)}else captureCopy(e,i);a&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function capturePaste(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true");r.style.cssText="position: fixed; left: -10000px; top: 10px";r.focus();let a=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus();r.parentNode&&r.parentNode.removeChild(r);n?doPaste(e,r.value,null,a,t):doPaste(e,r.textContent,r.innerHTML,a,t)},50)}function doPaste(e,t,n,r,o){let i=parseFromClipboard(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,i||a.Ji.empty)))return!0;if(!i)return!1;let s=sliceSingleNode(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$.paste=(e,t)=>{let n=t;if(e.composing&&!y)return;let r=ea?null:n.clipboardData,a=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&doPaste(e,getText(r),r.getData("text/html"),a,n)?n.preventDefault():capturePaste(e,n)};class eo{constructor(e,t,n){this.slice=e;this.move=t;this.node=n}}let ei=k?"altKey":"ctrlKey";K.dragstart=(e,t)=>{let n,a=t,o=e.input.mouseDown;o&&o.done();if(!a.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(eventCoords(a));if(s&&s.pos>=i.from&&s.pos<=(i instanceof r.nh?i.to-1:i.to));else if(o&&o.mightDrag)n=r.nh.create(e.state.doc,o.mightDrag.pos);else if(a.target&&1==a.target.nodeType){let t=e.docView.nearestDesc(a.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(n=r.nh.create(e.state.doc,t.posBefore))}let l=(n||e.state.selection).content(),{dom:c,text:d,slice:u}=serializeForClipboard(e,l);a.dataTransfer.files.length&&_&&!(E>120)||a.dataTransfer.clearData();a.dataTransfer.setData(ea?"Text":"text/html",c.innerHTML);a.dataTransfer.effectAllowed="copyMove";ea||a.dataTransfer.setData("text/plain",d);e.dragging=new eo(u,!a[ei],n)};K.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};$.dragover=$.dragenter=(e,t)=>t.preventDefault();$.drop=(e,t)=>{let n=t,i=e.dragging;e.dragging=null;if(!n.dataTransfer)return;let s=e.posAtCoords(eventCoords(n));if(!s)return;let l=e.state.doc.resolve(s.pos),c=i&&i.slice;c?e.someProp("transformPasted",t=>{c=t(c,e)}):c=parseFromClipboard(e,getText(n.dataTransfer),ea?null:n.dataTransfer.getData("text/html"),!1,l);let d=!!(i&&!n[ei]);if(e.someProp("handleDrop",t=>t(e,n,c||a.Ji.empty,d)))return void n.preventDefault();if(!c)return;n.preventDefault();let u=c?(0,o.Um)(e.state.doc,l.pos,c):l.pos;null==u&&(u=l.pos);let h=e.state.tr;if(d){let{node:e}=i;e?e.replace(h):h.deleteSelection()}let p=h.mapping.map(u),m=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,f=h.doc;m?h.replaceRangeWith(p,p,c.content.firstChild):h.replaceRange(p,p,c);if(h.doc.eq(f))return;let g=h.doc.resolve(p);if(m&&r.nh.isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new r.nh(g));else{let t=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((e,n,r,a)=>t=a);h.setSelection(selectionBetween(e,g,h.doc.resolve(t)))}e.focus();e.dispatch(h.setMeta("uiEvent","drop"))};K.focus=e=>{e.input.lastFocus=Date.now();if(!e.focused){e.domObserver.stop();e.dom.classList.add("ProseMirror-focused");e.domObserver.start();e.focused=!0;setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&selectionToDOM(e)},20)}};K.blur=(e,t)=>{let n=t;if(e.focused){e.domObserver.stop();e.dom.classList.remove("ProseMirror-focused");e.domObserver.start();n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear();e.focused=!1}};K.beforeinput=(e,t)=>{if(_&&y&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;e.dom.blur();e.focus();if(e.someProp("handleKeyDown",t=>t(e,keyEvent(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let e in $)K[e]=$[e];function compareObjs(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class es{constructor(e,t){this.toDOM=e;this.spec=t||eh;this.side=this.spec.side||0}map(e,t,n,r){let{pos:a,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new ed(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof es&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class el{constructor(e,t){this.attrs=e;this.spec=t||eh}map(e,t,n,r){let a=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return a>=o?null:new ed(a,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof el&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof el}destroy(){}}class ec{constructor(e,t){this.attrs=e;this.spec=t||eh}map(e,t,n,r){let a=e.mapResult(t.from+r,1);if(a.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=a.pos?null:new ed(a.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),a;return r==t.from&&!(a=e.child(n)).isText&&r+a.nodeSize==t.to}eq(e){return this==e||e instanceof ec&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class ed{constructor(e,t,n){this.from=e;this.to=t;this.type=n}copy(e,t){return new ed(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ed(e,e,new es(t,n))}static inline(e,t,n,r){return new ed(e,t,new el(n,r))}static node(e,t,n,r){return new ed(e,t,new ec(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof el}get widget(){return this.type instanceof es}}let eu=[],eh={};class ep{constructor(e,t){this.local=e.length?e:eu;this.children=t.length?t:eu}static create(e,t){return t.length?buildTree(t,e,0,eh):em}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,a){for(let o=0;o<this.local.length;o++){let i=this.local[o];i.from<=t&&i.to>=e&&(!a||a(i.spec))&&n.push(i.copy(i.from+r,i.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let i=this.children[o]+1;this.children[o+2].findInner(e-i,t-i,n,r+i,a)}}map(e,t,n){return this==em||0==e.maps.length?this:this.mapInner(e,t,0,0,n||eh)}mapInner(e,t,n,r,a){let o;for(let i=0;i<this.local.length;i++){let s=this.local[i].map(e,n,r);s&&s.type.valid(t,s)?(o||(o=[])).push(s):a.onRemove&&a.onRemove(this.local[i].spec)}return this.children.length?mapChildren(this.children,o||[],e,t,n,r,a):o?new ep(o.sort(byPos),eu):em}add(e,t){return t.length?this==em?ep.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,a=0;e.forEach((e,o)=>{let i=o+n,s;if(s=takeSpansForNode(t,e,i)){r||(r=this.children.slice());for(;a<r.length&&r[a]<o;)a+=3;r[a]==o?r[a+2]=r[a+2].addInner(e,s,i+1):r.splice(a,0,o,o+e.nodeSize,buildTree(s,e,i+1,eh));a+=3}});let o=moveSpans(a?withoutNulls(t):t,-n);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||o.splice(t--,1);return new ep(o.length?this.local.concat(o).sort(byPos):this.local,r||this.children)}remove(e){return 0==e.length||this==em?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let a,o=n[r]+t,i=n[r+1]+t;for(let t=0,n;t<e.length;t++)if((n=e[t])&&n.from>o&&n.to<i){e[t]=null;(a||(a=[])).push(n)}if(!a)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(a,o+1);if(s!=em)n[r+2]=s;else{n.splice(r,3);r-=3}}if(r.length){for(let n=0,a;n<e.length;n++)if(a=e[n]){for(let e=0;e<r.length;e++)if(r[e].eq(a,t)){r==this.local&&(r=this.local.slice());r.splice(e--,1)}}}return n==this.children&&r==this.local?this:r.length||n.length?new ep(r,n):em}forChild(e,t){let n,r;if(this==em)return this;if(t.isLeaf)return ep.empty;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let a=e+1,o=a+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<o&&t.to>a&&t.type instanceof el){let e=Math.max(a,t.from)-a,n=Math.min(o,t.to)-a;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new ep(r.sort(byPos),eu);return n?new ef([e,n]):e}return n||em}eq(e){if(this==e)return!0;if(!(e instanceof ep)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==em)return eu;if(e.inlineContent||!this.local.some(el.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof el||t.push(this.local[e]);return t}forEachSet(e){e(this)}}ep.empty=new ep([],[]);ep.removeOverlap=removeOverlap;let em=ep.empty;class ef{constructor(e){this.members=e}map(e,t){let n=this.members.map(n=>n.map(e,t,eh));return ef.from(n)}forChild(e,t){if(t.isLeaf)return ep.empty;let n=[];for(let r=0;r<this.members.length;r++){let a=this.members[r].forChild(e,t);a!=em&&(a instanceof ef?n=n.concat(a.members):n.push(a))}return ef.from(n)}eq(e){if(!(e instanceof ef)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let a=this.members[r].localsInner(e);if(a.length)if(t){if(n){t=t.slice();n=!1}for(let e=0;e<a.length;e++)t.push(a[e])}else t=a}return t?removeOverlap(n?t:t.sort(byPos)):eu}static from(e){switch(e.length){case 0:return em;case 1:return e[0];default:return new ef(e.every(e=>e instanceof ep)?e:e.reduce((e,t)=>e.concat(t instanceof ep?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function mapChildren(e,t,n,r,a,o,i){let s=e.slice();for(let e=0,t=o;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,a,o)=>{let i=o-a-(n-e);for(let a=0;a<s.length;a+=3){let o=s[a+1];if(o<0||e>o+t-r)continue;let l=s[a]+t-r;if(n>=l)s[a+1]=e<=l?-2:-1;else if(e>=t&&i){s[a]+=i;s[a+1]+=i}}r+=i});t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){l=!0;s[t+1]=-1;continue}let c=n.map(e[t]+o),d=c-a;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(e[t+1]+o,-1)-a,{index:h,offset:p}=r.content.findIndex(d),m=r.maybeChild(h);if(m&&p==d&&p+m.nodeSize==u){let r=s[t+2].mapInner(n,m,c+1,e[t]+o+1,i);if(r!=em){s[t]=d;s[t+1]=u;s[t+2]=r}else{s[t+1]=-2;l=!0}}else l=!0}if(l){let l=buildTree(mapAndGatherRemainingDecorations(s,e,t,n,a,o,i),r,0,i);t=l.local;for(let e=0;e<s.length;e+=3)if(s[e+1]<0){s.splice(e,3);e-=3}for(let e=0,t=0;e<l.children.length;e+=3){let n=l.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,l.children[e],l.children[e+1],l.children[e+2])}}return new ep(t.sort(byPos),s)}function moveSpans(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let a=e[r];n.push(new ed(a.from+t,a.to+t,a.type))}return n}function mapAndGatherRemainingDecorations(e,t,n,r,a,o,i){function gather(e,t){for(let o=0;o<e.local.length;o++){let s=e.local[o].map(r,a,t);s?n.push(s):i.onRemove&&i.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)gather(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&gather(e[n+2],t[n]+o+1);return n}function takeSpansForNode(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,a=null;for(let t=0,o;t<e.length;t++)if((o=e[t])&&o.from>n&&o.to<r){(a||(a=[])).push(o);e[t]=null}return a}function withoutNulls(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function buildTree(e,t,n,r){let a=[],o=!1;t.forEach((t,i)=>{let s=takeSpansForNode(e,t,i+n);if(s){o=!0;let e=buildTree(s,t,n+i+1,r);e!=em&&a.push(i,i+t.nodeSize,e)}});let i=moveSpans(o?withoutNulls(e):e,-n).sort(byPos);for(let e=0;e<i.length;e++)if(!i[e].type.valid(t,i[e])){r.onRemove&&r.onRemove(i[e].spec);i.splice(e--,1)}return i.length||a.length?new ep(i,a):em}function byPos(e,t){return e.from-t.from||e.to-t.to}function removeOverlap(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let a=n+1;a<t.length;a++){let o=t[a];if(o.from==r.from){if(o.to!=r.to){t==e&&(t=e.slice());t[a]=o.copy(o.from,r.to);insertAhead(t,a+1,o.copy(r.to,o.to))}continue}if(o.from<r.to){t==e&&(t=e.slice());t[n]=r.copy(r.from,o.from);insertAhead(t,a,r.copy(o.from,r.to))}break}}return t}function insertAhead(e,t,n){for(;t<e.length&&byPos(n,e[t])>0;)t++;e.splice(t,0,n)}function viewDecorations(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=em&&t.push(r)}),e.cursorWrapper&&t.push(ep.create(e.state.doc,[e.cursorWrapper.deco])),ef.from(t)}let eg={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},eb=m&&f<=11;class e_{constructor(){this.anchorNode=null;this.anchorOffset=0;this.focusNode=null;this.focusOffset=0}set(e){this.anchorNode=e.anchorNode;this.anchorOffset=e.anchorOffset;this.focusNode=e.focusNode;this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class eE{constructor(e,t){this.view=e;this.handleDOMChange=t;this.queue=[];this.flushingSoon=-1;this.observer=null;this.currentSelection=new e_;this.onCharData=null;this.suppressingSelectionUpdates=!1;this.lastChangedTextNode=null;this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);m&&f<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()});eb&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue});this.flushSoon()});this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1;this.flush()},20))}forceFlush(){if(this.flushingSoon>-1){window.clearTimeout(this.flushingSoon);this.flushingSoon=-1;this.flush()}}start(){if(this.observer){this.observer.takeRecords();this.observer.observe(this.view.dom,eg)}this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData);this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0;setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(m&&f<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let n=e.focusNode;n;n=parentNode(n))t.add(n);for(let r=e.anchorNode;r;r=parentNode(r))if(t.has(r)){n=r;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hasFocusAndSelection(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,l=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],l);if(n){o=o<0?n.from:Math.min(n.from,o);i=i<0?n.to:Math.max(n.to,i);n.typeOver&&(s=!0)}}if(g&&l.length){let t=l.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;t&&"LI"==t.nodeName&&(!n||blockParent(e,n)!=t)&&r.remove()}}}let c=null;if(o<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&selectionCollapsed(n)&&(c=selectionFromDOM(e))&&c.eq(r.LN.near(e.state.doc.resolve(0),1))){e.input.lastFocus=0;selectionToDOM(e);this.currentSelection.set(n);e.scrollToSelection()}else if(o>-1||a){if(o>-1){e.docView.markDirty(o,i);checkCSS(e)}this.handleDOMChange(o,i,s,l);e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||selectionToDOM(e);this.currentSelection.set(n)}}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r);3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,a=e.nextSibling;if(m&&f<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||0>Array.prototype.indexOf.call(e.addedNodes,n))&&(r=n);(!o||0>Array.prototype.indexOf.call(e.addedNodes,o))&&(a=o)}let o=r&&r.parentNode==e.target?domIndex(r)+1:0,i=n.localPosFromDOM(e.target,o,-1),s=a&&a.parentNode==e.target?domIndex(a):e.target.childNodes.length;return{from:i,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let ew=new WeakMap,ev=!1;function checkCSS(e){if(!ew.has(e)){ew.set(e,null);if(-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){e.requiresGeckoHackNode=g;if(ev)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.");ev=!0}}}function rangeToSelectionRange(e,t){let n=t.startContainer,r=t.startOffset,a=t.endContainer,o=t.endOffset,i=e.domAtPos(e.state.selection.anchor);return isEquivalentPosition(i.node,i.offset,a,o)&&([n,r,a,o]=[a,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:o}}function safariShadowSelectionRange(e,t){let n;if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return rangeToSelectionRange(e,n)}function read(e){e.preventDefault();e.stopImmediatePropagation();n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",read,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",read,!0),n?rangeToSelectionRange(e,n):null}function blockParent(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function parseBetween(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:l,to:c}=e.docView.parseRange(t,n),d=e.domSelectionRange(),u=d.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)){r=[{node:u,offset:d.anchorOffset}];selectionCollapsed(d)||r.push({node:d.focusNode,offset:d.focusOffset})}if(_&&8===e.input.lastKeyCode)for(let e=s;e>i;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let h=e.state.doc,p=e.someProp("domParser")||a.S4.fromSchema(e.state.schema),m=h.resolve(l),f=null,g=p.parse(o,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=m.parent.type.whitespace||"full",findPositions:r,ruleFromNode,context:m});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e);f={anchor:e+l,head:t+l}}return{doc:g,sel:f,from:l,to:c}}function ruleFromNode(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(w&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(e.parentNode.lastChild==e||w&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}let ek=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(e,t,n,a,o){let i,s,l,c,d,u,h=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);e.input.compositionPendingChanges=0;if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=selectionFromDOM(e,t);if(n&&!e.state.selection.eq(n)){if(_&&y&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView();h&&r.setMeta("composition",h);e.dispatch(r)}return}let p=e.state.doc.resolve(t),g=p.sharedDepth(n);t=p.before(g+1);n=e.state.doc.resolve(n).after(g+1);let b=e.state.selection,E=parseBetween(e,t,n),w=e.state.doc,k=w.slice(E.from,E.to);if(8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime){i=e.state.selection.to;s="end"}else{i=e.state.selection.from;s="start"}e.input.lastKeyCode=null;let S=findDiff(k.content,E.doc.content,E.from,i,s);S&&e.input.domChangeCount++;if((v&&e.input.lastIOSEnter>Date.now()-225||y)&&o.some(e=>1==e.nodeType&&!ek.test(e.nodeName))&&(!S||S.endA>=S.endB)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!S)if(a&&b instanceof r.U3&&!b.empty&&b.$head.sameParent(b.$anchor)&&!e.composing&&!(E.sel&&E.sel.anchor!=E.sel.head))S={start:b.from,endA:b.to,endB:b.to};else{if(E.sel){let t=resolveSelection(e,e.state.doc,E.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);h&&n.setMeta("composition",h);e.dispatch(n)}}return}if(e.state.selection.from<e.state.selection.to&&S.start==S.endB&&e.state.selection instanceof r.U3){if(S.start>e.state.selection.from&&S.start<=e.state.selection.from+2&&e.state.selection.from>=E.from)S.start=e.state.selection.from;else if(S.endA<e.state.selection.to&&S.endA>=e.state.selection.to-2&&e.state.selection.to<=E.to){S.endB+=e.state.selection.to-S.endA;S.endA=e.state.selection.to}}if(m&&f<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>E.from&&" \xa0"==E.doc.textBetween(S.start-E.from-1,S.start-E.from+1)){S.start--;S.endA--;S.endB--}let A=E.doc.resolveNoCache(S.start-E.from),N=E.doc.resolveNoCache(S.endB-E.from),R=w.resolve(S.start),C=A.sameParent(N)&&A.parent.inlineContent&&R.end()>=S.endA;if((v&&e.input.lastIOSEnter>Date.now()-225&&(!C||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!C&&A.pos<E.doc.content.size&&!A.sameParent(N)&&(l=r.LN.findFrom(E.doc.resolve(A.pos+1),1,!0))&&l.head==N.pos)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>S.start&&looksLikeBackspace(w,S.start,S.endA,A,N)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(8,"Backspace")))){y&&_&&e.domObserver.suppressSelectionUpdates();return}_&&y&&S.endB==S.start&&(e.input.lastAndroidDelete=Date.now());if(y&&!C&&A.start()!=N.start()&&0==N.parentOffset&&A.depth==N.depth&&E.sel&&E.sel.anchor==E.sel.head&&E.sel.head==S.endA){S.endB-=2;N=E.doc.resolveNoCache(S.endB-E.from);setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,keyEvent(13,"Enter"))})},20)}let V=S.start,T=S.endA;if(C){if(A.pos==N.pos){if(m&&f<=11&&0==A.parentOffset){e.domObserver.suppressSelectionUpdates();setTimeout(()=>selectionToDOM(e),20)}c=e.state.tr.delete(V,T);d=w.resolve(S.start).marksAcross(w.resolve(S.endA))}else if(S.endA==S.endB&&(u=isMarkChange(A.parent.content.cut(A.parentOffset,N.parentOffset),R.parent.content.cut(R.parentOffset,S.endA-R.start())))){c=e.state.tr;"add"==u.type?c.addMark(V,T,u.mark):c.removeMark(V,T,u.mark)}else if(A.parent.child(A.index()).isText&&A.index()==N.index()-!N.textOffset){let t=A.parent.textBetween(A.parentOffset,N.parentOffset);if(e.someProp("handleTextInput",n=>n(e,V,T,t)))return;c=e.state.tr.insertText(t,V,T)}}c||(c=e.state.tr.replace(V,T,E.doc.slice(S.start-E.from,S.endB-E.from)));if(E.sel){let t=resolveSelection(e,c.doc,E.sel);t&&!(_&&y&&e.composing&&t.empty&&(S.start!=S.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==V||t.head==c.mapping.map(T)-1)||m&&t.empty&&t.head==V)&&c.setSelection(t)}d&&c.ensureMarks(d);h&&c.setMeta("composition",h);e.dispatch(c.scrollIntoView())}function resolveSelection(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:selectionBetween(e,t.resolve(n.anchor),t.resolve(n.head))}function isMarkChange(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,l,c;for(let e=0;e<r.length;e++)o=r[e].removeFromSet(o);for(let e=0;e<n.length;e++)i=n[e].removeFromSet(i);if(1==o.length&&0==i.length){l=o[0];s="add";c=e=>e.mark(l.addToSet(e.marks))}else{if(0!=o.length||1!=i.length)return null;l=i[0];s="remove";c=e=>e.mark(l.removeFromSet(e.marks))}let d=[];for(let e=0;e<t.childCount;e++)d.push(c(t.child(e)));if(a.FK.from(d).eq(e))return{mark:l,type:s}}function looksLikeBackspace(e,t,n,r,a){if(n-t<=a.pos-r.pos||skipClosingAndOpening(r,!0,!1)<a.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let e=o.nodeAfter;return null!=e&&n==t+e.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let i=e.resolve(skipClosingAndOpening(o,!0,!0));return!(!i.parent.isTextblock||i.pos>n||skipClosingAndOpening(i,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function skipClosingAndOpening(e,t,n){let r=e.depth,a=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);){r--;a++;t=!1}if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;){t=t.firstChild;a++}}return a}function findDiff(e,t,n,r,a){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:i,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==a){let e=Math.max(0,o-Math.min(i,s));r-=i+e-o}if(i<o&&e.size<t.size){let e=r<=o&&r>=i?o-r:0;(o-=e)&&o<t.size&&isSurrogatePair(t.textBetween(o-1,o+1))&&(o+=e?1:-1);s=o+(s-i);i=o}else if(s<o){let t=r<=o&&r>=s?o-r:0;(o-=t)&&o<e.size&&isSurrogatePair(e.textBetween(o-1,o+1))&&(o+=t?1:-1);i=o+(i-s);s=o}return{start:o,endA:i,endB:s}}function isSurrogatePair(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class eS{constructor(e,t){this._root=null;this.focused=!1;this.trackWrites=null;this.mounted=!1;this.markCursor=null;this.cursorWrapper=null;this.lastSelectedViewDesc=void 0;this.input=new ee;this.prevDirectPlugins=[];this.pluginViews=[];this.requiresGeckoHackNode=!1;this.dragging=null;this._props=t;this.state=t.state;this.directPlugins=t.plugins||[];this.directPlugins.forEach(checkStateComponent);this.dispatch=this.dispatch.bind(this);this.dom=e&&e.mount||document.createElement("div");e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0));this.editable=getEditable(this);updateCursorWrapper(this);this.nodeViews=buildNodeViews(this);this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this);this.domObserver=new eE(this,(e,t,n,r)=>readDOMChange(this,e,t,n,r));this.domObserver.start();initInput(this);this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let t=this._props;this._props=e;if(e.plugins){e.plugins.forEach(checkStateComponent);this.directPlugins=e.plugins}this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,a=!1,o=!1;if(e.storedMarks&&this.composing){clearComposition(this);o=!0}this.state=e;let i=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=buildNodeViews(this);if(changedNodeViews(e,this.nodeViews)){this.nodeViews=e;a=!0}}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this);this.editable=getEditable(this);updateCursorWrapper(this);let s=viewDecorations(this),l=computeDocDeco(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=a||!this.docView.matchesNode(e.doc,l,s);(d||!e.selection.eq(r.selection))&&(o=!0);let u="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&storeScrollPos(this);if(o){this.domObserver.stop();let t=d&&(m||_)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&selectionContextChanged(r.selection,e.selection);if(d){let n=_?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this));if(a||!this.docView.update(e.doc,l,s,this)){this.docView.updateOuterDeco(l);this.docView.destroy();this.docView=docViewDesc(e.doc,l,s,this.dom,this)}n&&!this.trackWrites&&(t=!0)}if(t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this)))selectionToDOM(this,t);else{syncNodeSelection(this,e.selection);this.domObserver.setCurSelection()}this.domObserver.start()}this.updatePluginViews(r);(null==(n=this.dragging)?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r);"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&resetScrollPos(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof r.nh){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&scrollRectIntoView(this,t.getBoundingClientRect(),e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins;this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(a=e)}this.dragging=new eo(e.slice,e.move,a<0?void 0:r.nh.create(this.state.doc,a))}someProp(e,t){let n=this._props&&this._props[e],r;if(null!=n&&(r=t?t(n):n))return r;for(let n=0;n<this.directPlugins.length;n++){let a=this.directPlugins[n].props[e];if(null!=a&&(r=t?t(a):a))return r}let a=this.state.plugins;if(a)for(let n=0;n<a.length;n++){let o=a[n].props[e];if(null!=o&&(r=t?t(o):o))return r}}hasFocus(){if(m){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop();this.editable&&focusPreventScroll(this.dom);selectionToDOM(this);this.domObserver.start()}get root(){let e=this._root;if(null==e){for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host){e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection());return this._root=e}}return e||document}updateRoot(){this._root=null}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,t=1){return coordsAtPos(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return endOfTextblock(this,t||this.state,e)}pasteHTML(e,t){return doPaste(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return doPaste(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){if(this.docView){destroyInput(this);this.destroyPluginViews();if(this.mounted){this.docView.update(this.state.doc,[],viewDecorations(this),this);this.dom.textContent=""}else this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom);this.docView.destroy();this.docView=null;clearReusedRange()}}get isDestroyed(){return null==this.docView}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?w&&11===this.root.nodeType&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{"function"==typeof n&&(n=n(e.state));if(n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[ed.node(0,e.state.doc.content.size,t)]}function updateCursorWrapper(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator";t.setAttribute("mark-placeholder","true");t.setAttribute("alt","");e.cursorWrapper={dom:t,deco:ed.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function getEditable(e){return!e.someProp("editable",t=>!1===t(e.state))}function selectionContextChanged(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function buildNodeViews(e){let t=Object.create(null);function add(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",add),e.someProp("markViews",add),t}function changedNodeViews(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r}function checkStateComponent(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}},596:function(e,t,n){"use strict";var r=n(7118);let a={};function filterAttrs(e){return Object.keys(e).reduce((t,n)=>(!1!==e[n]&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),t),{})}function setTitle(e,t){let n=e.getElementsByTagName("title");if(n.length)n[0].textContent=t;else{let n=document.createElementNS("http://www.w3.org/2000/svg","title");n.textContent=t;e.insertBefore(n,e.firstChild)}}function makePromiseState(e){if(e.getIsPending)return e;let t=!0,n=e.then(e=>(t=!1,e),e=>{t=!1;throw e});return n.getIsPending=function getIsPending(){return t},n}t.A={name:"InlineSvg",inheritAttrs:!1,render(){return this.svgElSource?(0,r.h)("svg",Object.assign({},this.getSvgAttrs(this.svgElSource),filterAttrs(this.$attrs),{innerHTML:this.getSvgContent(this.svgElSource)})):null},props:{src:{type:String,required:!0},title:{type:String},transformSource:{type:Function,default:e=>e},keepDuringLoading:{type:Boolean,default:!0}},emits:["loaded","unloaded","error"],data:()=>({svgElSource:null,request:void 0}),watch:{src(e){this.getSource(e)}},mounted(){this.getSource(this.src)},methods:{getSvgAttrs(e){let t={},n=e.attributes;if(!n)return t;for(let e=n.length-1;e>=0;e--)t[n[e].name]=n[e].value;return t},getSvgContent(e){return e=e.cloneNode(!0),e=this.transformSource(e),this.title&&setTitle(e,this.title),e.innerHTML},getSource(e){a[e]||(a[e]=this.download(e));if(this.svgElSource&&a[e].getIsPending()&&!this.keepDuringLoading){this.svgElSource=null;this.$emit("unloaded")}a[e].then(e=>{this.svgElSource=e;this.$nextTick(()=>{this.$emit("loaded",this.$el)})}).catch(t=>{if(this.svgElSource){this.svgElSource=null;this.$emit("unloaded")}delete a[e];this.$emit("error",t)})},download(e){return makePromiseState(new Promise((t,n)=>{let r=new XMLHttpRequest;r.open("GET",e,!0);this.request=r;r.onload=()=>{if(r.status>=200&&r.status<400)try{let e=new DOMParser().parseFromString(r.responseText,"text/xml").getElementsByTagName("svg")[0];e?t(e):n(Error('Loaded file is not valid SVG"'))}catch(e){n(e)}else n(Error("Error loading SVG"))};r.onerror=n;r.send()}))}}}}},t={};function __webpack_require__(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,__webpack_require__),a.loaded=!0,a.exports}__webpack_require__.m=e;!function(){__webpack_require__.amdO={}}();!function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}();!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){1&r&&(n=this(n));if(8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var a=Object.create(null);__webpack_require__.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(function(e){o[e]=function(){return n[e]}});return o.default=function(){return n},__webpack_require__.d(a,o),a}}();!function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}();!function(){__webpack_require__.f={};__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(t,n){return __webpack_require__.f[n](e,t),t},[]))}}();!function(){__webpack_require__.u=function(e){return 8440===e?"web.chunk.client.3e6d3409.js":2070===e?"extension-alerts-client.chunk.client.041f41f8.js":8423===e?"extension-challenges-client.chunk.client.d589346d.js":9678===e?"web.chunk.client.e61040bd.js":4905===e?"coach-client.chunk.client.60846ffd.js":3310===e?"extension-pubsub-client.chunk.client.109c70d2.js":4154===e?"web.chunk.client.ac7bb121.js":8706===e?"web.chunk.client.ef5dd9c1.js":6581===e?"web.chunk.client.82d35716.js":9197===e?"web.chunk.client.ea78a761.js":4975===e?"navigation-friends-tab.chunk.client.42348331.js":446===e?"navigation-requests-tab.chunk.client.0d7b8c66.js":2024===e?"web.chunk.client.8b4789fd.js":7847===e?"web.chunk.client.fb18b88f.js":8079===e?"web-diagram-editor.chunk.client.6c939428.js":515===e?"web.chunk.client.65709aeb.js":4587===e?"user-popover-controller.chunk.client.de1b58f9.js":6700===e?"intercom-messenger.chunk.client.dd12b0e8.js":9891===e?"web.chunk.client.841903ff.js":557===e?"extension-chessboard-client.chunk.client.d226122c.js":7856===e?"extension-settings-client.chunk.client.c9c92908.js":7130===e?"web.chunk.client.361f5185.js":9812===e?"diagram-editor-modal.chunk.client.8027c8fe.js":9912===e?"web.chunk.client.4eafa28d.js":2048===e?"web.chunk.client.d0afaa65.js":8253===e?"web.chunk.client.bd03e757.js":270===e?"web.chunk.client.091affe0.js":1369===e?"user-report-modal.chunk.client.9a822b88.js":7308===e?"web.chunk.client.78495088.js":3070===e?"web.chunk.client.3af9fef7.js":5962===e?"web.chunk.client.6ce485cc.js":7229===e?"web.chunk.client.20ac99df.js":4919===e?"web.chunk.client.d2ae5ec1.js":4124===e?"web.chunk.client.65f9e8fc.js":3533===e?"web.chunk.client.74dea243.js":6985===e?"web.chunk.client.09f9cfe9.js":652===e?"web.chunk.client.83482ae6.js":7122===e?"web.chunk.client.66b650d8.js":2456===e?"web.chunk.client.b13a9f66.js":9415===e?"web.chunk.client.6261c709.js":1912===e?"web.chunk.client.ef1d4ecb.js":1974===e?"web.chunk.client.db991929.js":7661===e?"web.chunk.client.1b9ae8f5.js":7192===e?"web.chunk.client.8ed1220f.js":2272===e?"web.chunk.client.1b2dc09b.js":7614===e?"web.chunk.client.1f90db01.js":5628===e?"web.chunk.client.427b8515.js":1420===e?"web.chunk.client.88b0f85c.js":7048===e?"web.chunk.client.9c2263ef.js":3622===e?"web.chunk.client.573b313b.js":6185===e?"web.chunk.client.662f0439.js":9510===e?"web.chunk.client.e78836d9.js":4334===e?"web.chunk.client.7c0d4ba5.js":9150===e?"web.chunk.client.0f425aee.js":968===e?"web.chunk.client.8b6ca662.js":6018===e?"web.chunk.client.365ab4f9.js":9038===e?"web.chunk.client.8e30ffb3.js":1446===e?"web.chunk.client.dcdcc8ed.js":4958===e?"web.chunk.client.be5e8537.js":494===e?"web.chunk.client.d60b9495.js":3062===e?"web.chunk.client.1803b5c8.js":2692===e?"web.chunk.client.01e5c831.js":2278===e?"web.chunk.client.ce41bb4f.js":1710===e?"web.chunk.client.cef9c67c.js":3726===e?"web.chunk.client.1d8d7efe.js":2244===e?"web.chunk.client.363918f2.js":2094===e?"web.chunk.client.a239c0ee.js":5364===e?"web.chunk.client.ea3114e2.js":8902===e?"web.chunk.client.91534240.js":7836===e?"web.chunk.client.281f3556.js":9838===e?"web.chunk.client.c7d4a4e5.js":2658===e?"web.chunk.client.b3f51ab1.js":8542===e?"web.chunk.client.67fe1682.js":7200===e?"web.chunk.client.aa734dfd.js":5550===e?"web.chunk.client.93357dab.js":2962===e?"web.chunk.client.8e4b467d.js":8566===e?"web.chunk.client.2228772a.js":1122===e?"web.chunk.client.dac929b8.js":5130===e?"web.chunk.client.26f923ab.js":4114===e?"web.chunk.client.08283b9e.js":3096===e?"web.chunk.client.6bf01252.js":4120===e?"web.chunk.client.d3add7d5.js":9390===e?"web.chunk.client.90ada9fc.js":5966===e?"web.chunk.client.fce32267.js":398===e?"web.chunk.client.ada1c083.js":5786===e?"web.chunk.client.d9d73fca.js":7466===e?"web.chunk.client.45ee0f5a.js":2686===e?"web.chunk.client.84dfbde6.js":6940===e?"web.chunk.client.dfd82de7.js":8230===e?"web.chunk.client.a4139e41.js":7886===e?"web.chunk.client.278426f4.js":3182===e?"web.chunk.client.d63a0993.js":6302===e?"web.chunk.client.52dfa51d.js":8390===e?"web.chunk.client.9584ca51.js":198===e?"web.chunk.client.9424fb21.js":6590===e?"web.chunk.client.f94c63b2.js":4698===e?"web.chunk.client.a81f7599.js":1118===e?"web.chunk.client.1e6df2df.js":970===e?"web.chunk.client.272ed004.js":5196===e?"web.chunk.client.c9383c47.js":5618===e?"web.chunk.client.16967aa9.js":205===e?"web.chunk.client.713bde52.js":946===e?"web.chunk.client.7025c7ef.js":8990===e?"web.chunk.client.022f07f2.js":558===e?"web.chunk.client.1ce110b5.js":7246===e?"web.chunk.client.2a388644.js":1560===e?"web.chunk.client.265f2393.js":4680===e?"web.chunk.client.d869b55b.js":4962===e?"web.chunk.client.04135bd4.js":6446===e?"web.chunk.client.f743a895.js":8494===e?"web.chunk.client.a947c210.js":1888===e?"web.chunk.client.53759317.js":9034===e?"web.chunk.client.85d455e0.js":3042===e?"web.chunk.client.6426a899.js":8332===e?"web.chunk.client.09a3d23f.js":1282===e?"web.chunk.client.f5666028.js":1914===e?"web.chunk.client.26bdc745.js":8334===e?"web.chunk.client.1a544fe8.js":4630===e?"web.chunk.client.1f5d5221.js":2398===e?"web.chunk.client.baef3cea.js":6414===e?"web.chunk.client.88dce4c9.js":2586===e?"web.chunk.client.296bd5f0.js":6830===e?"web.chunk.client.92c91091.js":910===e?"web.chunk.client.035c97b6.js":1740===e?"web.chunk.client.12450dc5.js":6134===e?"web.chunk.client.85e8ae85.js":1438===e?"web.chunk.client.4e2f3c39.js":6990===e?"web.chunk.client.6d2bc80b.js":2745===e?"web.chunk.client.ba3e5c40.js":2077===e?"web.chunk.client.672fd964.js":4839===e?"web.chunk.client.86413d0f.js":9355===e?"web.chunk.client.d46040da.js":2465===e?"report-modal.chunk.client.3b2117e0.js":1392===e?"success-modal.chunk.client.5dcf0ba8.js":1750===e?"web.chunk.client.899c25fc.js":9922===e?"web.chunk.client.3951a70e.js":void 0}}();!function(){__webpack_require__.miniCssF=function(e){return 4975===e?"navigation-friends-tab.chunk.client.ca403bdf.css":446===e?"navigation-requests-tab.chunk.client.55088b6f.css":515===e?"web.chunk.client.c82fdbd3.css":4587===e?"user-popover-controller.chunk.client.d177d6c2.css":7130===e?"web.chunk.client.e8f3a04c.css":9812===e?"diagram-editor-modal.chunk.client.e524f1e4.css":9912===e?"web.chunk.client.07b94268.css":2048===e?"web.chunk.client.2d139f33.css":5962===e?"web.chunk.client.c36a4659.css":2465===e?"report-modal.chunk.client.6a43d557.css":1392===e?"success-modal.chunk.client.4b008077.css":9922===e?"web.chunk.client.957903df.css":void 0}}();!function(){__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}()}();!function(){__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}();!function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();!function(){var e={},t="client:";__webpack_require__.l=function(n,r,a,o){if(e[n])return void e[n].push(r);if(void 0!==a)for(var i,s,l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}if(!i){s=!0;(i=document.createElement("script")).charset="utf-8";i.timeout=120;__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc);i.setAttribute("data-webpack",t+a);i.src=n}e[n]=[r];var onScriptComplete=function(t,r){i.onerror=i.onload=null;clearTimeout(u);var a=e[n];delete e[n];i.parentNode&&i.parentNode.removeChild(i);a&&a.forEach(function(e){return e(r)});if(t)return t(r)},u=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=onScriptComplete.bind(null,i.onerror);i.onload=onScriptComplete.bind(null,i.onload);s&&document.head.appendChild(i)}}();!function(){__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})}}();!function(){__webpack_require__.p="/bundles/app/js/"}();!function(){var e=__webpack_require__.u,t=__webpack_require__.e,n={},r={};__webpack_require__.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")};__webpack_require__.e=function(a){return t(a).catch(function(t){var o=r.hasOwnProperty(a)?r[a]:2;if(o<1){var i=e(a);t.message="Loading chunk "+a+" failed after 2 retries.\n("+i+")";t.request=i;throw t}return new Promise(function(e){var t=2-o+1;setTimeout(function(){var i="&retry-attempt="+t;n[a]="cache-bust=true"+i;r[a]=o-1;e(__webpack_require__.e(a))},function(){return 0}(t))})})}}();!function(){var createStylesheet=function(e,t,n,r){var a=document.createElement("link");return a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=function(o){a.onerror=a.onload=null;if("load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,l=Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED";l.type=i;l.request=s;a.parentNode.removeChild(a);r(l)}},a.href=t,document.head.appendChild(a),a},findStylesheet=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}for(var i=document.getElementsByTagName("style"),r=0;r<i.length;r++){var a=i[r],o=a.getAttribute("data-href");if(o===e||o===t)return a}},e={6521:0,5896:0};__webpack_require__.f.miniCss=function(t,n){e[t]?n.push(e[t]):0!==e[t]&&({446:1,515:1,1392:1,2048:1,2465:1,4587:1,4975:1,5962:1,7130:1,9812:1,9912:1,9922:1})[t]&&n.push(e[t]=(function(e){return new Promise(function(t,n){var r=__webpack_require__.miniCssF(e),a=window.__CHESSCOM_RTL__,o="/bundles/app/css/"+r;if(findStylesheet(r,o))return t();a&&(o=o.replace(/\.css/i,".rtl.css"));createStylesheet(e,o,t,n)})})(t).then(function(){e[t]=0},function(n){delete e[t];throw n}))}}();!function(){var e={6521:0,5896:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(function(n,a){r=e[t]=[n,a]});n.push(r[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=Error();__webpack_require__.l(o,function(n){if(__webpack_require__.o(e,t)){0!==(r=e[t])&&(e[t]=void 0);if(r){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")";i.name="ChunkLoadError";i.type=a;i.request=o;r[1](i)}}},"chunk-"+t,t)}};var webpackJsonpCallback=function(t,n){var r,a,o=n[0],i=n[1],s=n[2],l=0;if(o.some(function(t){return 0!==e[t]})){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);s&&s(__webpack_require__)}t&&t(n);for(;l<o.length;l++){a=o[l];__webpack_require__.o(e,a)&&e[a]&&e[a][0]();e[a]=0}},t=("undefined"!=typeof self?self:this).wpChessCom_40c5bf1b=("undefined"!=typeof self?self:this).wpChessCom_40c5bf1b||[];t.forEach(webpackJsonpCallback.bind(null,0));t.push=webpackJsonpCallback.bind(null,t.push.bind(t))}();!function(){"use strict";let e;var t=__webpack_require__(49132);let n=(0,t.createContext)();var r=__webpack_require__(31075);let a=(0,t.createClientLoader)({triggers:[(0,t.createWindowLoadTrigger)()],shouldLoad:r.M,loader:()=>__webpack_require__.e(2070).then(__webpack_require__.bind(__webpack_require__,27391))}),o=(0,t.createExtension)({context:n,clients:[a]});var i=__webpack_require__(29565);let s=o({include:[],ignore:[i.f.CHALLENGE,i.f.FRIEND_REQUEST,i.f.GAME,i.f.GAMES_DRAW_OFFERED,i.f.GAMES_LOW_TIME,i.f.GAMES_MESSAGE,i.f.GAMES_STARTED,i.f.MATCHED_CONTACTS,i.f.OFFLINE_CHALLENGE,i.f.TEAM_MATCH,i.f.TOURNAMENT,i.f.VOTE_CHESS_GAME]}),l=(0,t.createContext)(),c=(0,t.createClientLoader)({triggers:[(0,t.createWindowLoadTrigger)()],shouldLoad:r.M,loader:()=>__webpack_require__.e(8423).then(__webpack_require__.bind(__webpack_require__,81387))}),d=(0,t.createExtension)({context:l,clients:[c]})();var u=__webpack_require__(76483),h=__webpack_require__(2101);let p=(0,t.createClientLoader)({loader:()=>Promise.all([__webpack_require__.e(9678),__webpack_require__.e(4905)]).then(__webpack_require__.bind(__webpack_require__,61449))}),m=(0,t.createExtension)({clients:[p],context:h.I})({cee:!1,coachAudio:!1,immediatelyLoadResources:()=>!0,source:()=>u.M$.UNSPECIFIED}),f=(0,t.createContext)(),g=(0,t.createExtension)({context:f})({}),b=(0,__webpack_require__(32852).B)({getClientId:()=>"Chesscom-Web-Navigation (#navbar_tech in Slack)",getPlayClientId:()=>""}),_=(0,t.createContext)(),E=(0,t.createExtension)({context:_})();var w=__webpack_require__(61999),v=__webpack_require__(23618);async function fetchUserClubs(){if(!window.context?.user?.username)return[];let{data:{clubs:e}}=await w.A.get(v.A.generate("pubapi_player_clubs",{username:window.context.user?.username}));return e}var k=__webpack_require__(7118),S=__webpack_require__(57998);let y=["loading","alt","height","width","src","srcset"];var A=(0,k.defineComponent)({__name:"cc-image",props:{alt:{},aspect:{default:"square"},retinaSupport:{type:Boolean,default:!0},isLazyLoading:{type:Boolean,default:!0},size:{default:40},src:{}},setup(e){let t=e,n=(0,k.ref)(!1),r=(0,k.ref)(!1),a="16-9"===t.aspect?"/bundles/web/images/noavatar_content.png":"/bundles/web/images/user-image.svg",o=(0,k.computed)(()=>t.src&&t.retinaSupport&&!r.value?`${t.src} 1x, ${(0,S.h)(t.src)} 2x`:""),i=(0,k.computed)(()=>n.value||!t.src?a:t.src);function onImageError(e){e.target.srcset?r.value=!0:n.value=!0}return(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(["cc-image-component",`cc-image-size-${e.size}`])},[(0,k.createElementVNode)("img",{loading:e.isLazyLoading?"lazy":void 0,alt:e.alt,class:(0,k.normalizeClass)(["cc-image-image",{"cc-image-wide":"16-9"===e.aspect}]),height:e.size,width:e.size,src:i.value,srcset:o.value,onError:onImageError},null,42,y)],2))}}),N=__webpack_require__(39398);let R={key:0};function render(e,t){return(0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)({[e.$style["no-text"]]:!e.$slots.default})},[(0,k.createElementVNode)("hr",{class:(0,k.normalizeClass)(e.$style.divider)},null,2),t[1]||(t[1]=(0,k.createTextVNode)()),(0,k.createElementVNode)("h4",(0,k.mergeProps)(e.$attrs,{class:["cc-text-small",e.$style.container]}),[e.$slots.default?((0,k.openBlock)(),(0,k.createElementBlock)("span",R,[(0,k.renderSlot)(e.$slots,"default")])):(0,k.createCommentVNode)("",!0),t[0]||(t[0]=(0,k.createTextVNode)()),e.$slots.link?((0,k.openBlock)(),(0,k.createElementBlock)("span",{key:1,class:(0,k.normalizeClass)(e.$style.link)},[(0,k.renderSlot)(e.$slots,"link")],2)):(0,k.createCommentVNode)("",!0)],16)],2)}var C=__webpack_require__(66262);let V={};V.$style={divider:"sub-menu-header-divider",container:"sub-menu-header-container",link:"sub-menu-header-link","no-text":"sub-menu-header-no-text"};var T=(0,C.A)({},[["render",render],["__cssModules",V]]),U=__webpack_require__(21752),I=__webpack_require__(29905);let x=["textContent"];var B=(0,k.defineComponent)({__name:"cc-chip",props:{color:{default:"gray"},icon:{},label:{},tooltip:{},variant:{default:"translucent"},labelClass:{},isUppercase:{type:Boolean,default:!0}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(["cc-chip-component",`cc-chip-${e.variant}`,`cc-chip-${e.color}`])},[(0,k.createVNode)(I.A,{text:e.tooltip},null,8,["text"]),n[0]||(n[0]=(0,k.createTextVNode)()),e.icon?((0,k.openBlock)(),(0,k.createBlock)(U.A,{key:0,class:"cc-chip-fg",variant:"glyph",name:e.icon,size:12},null,8,["name"])):(0,k.createCommentVNode)("",!0),n[1]||(n[1]=(0,k.createTextVNode)()),e.label?((0,k.openBlock)(),(0,k.createElementBlock)("span",{key:1,class:(0,k.normalizeClass)([e.labelClass,"cc-chip-fg",e.isUppercase?"cc-text-label":"cc-text-medium-bold"]),textContent:(0,k.toDisplayString)(e.label)},null,10,x)):(0,k.createCommentVNode)("",!0),n[2]||(n[2]=(0,k.createTextVNode)()),(0,k.renderSlot)(t.$slots,"default")],2))}),F=(0,k.defineComponent)({__name:"cc-new-badge",props:{isCollapsed:{type:Boolean,default:!1},label:{default:"New"}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createBlock)(B,{color:"red",variant:"opaque",class:(0,k.normalizeClass)([t.$style.component,{[t.$style.collapsed]:e.isCollapsed}]),label:e.isCollapsed?"":e.label,"label-class":`cc-text-x-small ${t.$style.label}`},null,8,["class","label","label-class"]))});let M={};M.$style={component:"cc-new-badge-component",label:"cc-new-badge-label",collapsed:"cc-new-badge-collapsed"};let O=(0,C.A)(F,[["__cssModules",M]]);var L=__webpack_require__(65862);let D=99;function toBadgeCount(e,t=D){return e<=0?"":0!==t&&e>t?`${t}+`:e.toString()}function toTooltip(e,t=D){return e<=0?null:0!==t&&e>t?e.toString():null}let z={class:"cc-notification-badge-label cc-text-x-small-bold"};var P=(0,k.defineComponent)({__name:"cc-notification-badge",props:{label:{},variant:{default:"alert"},max:{type:[Number,Boolean],default:D}},setup(e){let{features:t}=(0,L.NB)(),n=t.includes("chip_tooltip_mounting"),r=e,a=(0,k.computed)(()=>toBadgeCount(r.label,!0===r.max?0:r.max)),o=(0,k.computed)(()=>toTooltip(r.label));return(t,r)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(["cc-notification-badge-component",`cc-notification-badge-${e.variant}`])},[(0,k.createElementVNode)("span",z,(0,k.toDisplayString)(a.value),1),r[0]||(r[0]=(0,k.createTextVNode)()),(0,k.unref)(n)&&o.value?((0,k.openBlock)(),(0,k.createBlock)(I.A,{key:0,"for-previous-element":"",text:o.value},null,8,["text"])):(0,k.createCommentVNode)("",!0)],2))}});let G=24;var Z=__webpack_require__(60703),W=__webpack_require__(90527),j=__webpack_require__(414);async function trackNavigationClickEvent(e,t){if(e)return(0,W.M)((0,j.q)(Z.Aj,{...e,interface:t?`navbar_submenu_${t}`:"navbar"}))}var Y=(0,k.defineComponent)({__name:"sub-menu-link",props:{badge:{},icon:{},route:{},href:{},params:{},trackingEvent:{},size:{default:"large"},class:{}},emits:["click"],setup(e,{emit:t}){let n=e;function handleLinkClick(){n.trackingEvent&&trackNavigationClickEvent(n.trackingEvent.event,n.trackingEvent.subMenu);t("click")}return(t,r)=>((0,k.openBlock)(),(0,k.createBlock)((0,k.resolveDynamicComponent)(e.href||e.route?"a":"button"),{class:(0,k.normalizeClass)([n.class,t.$style.container,{[t.$style.small]:"small"===e.size}]),href:e.route?(0,k.unref)(v.A).i18n(e.route,e.params):e.href,onClick:handleLinkClick},{default:(0,k.withCtx)(()=>[(0,k.renderSlot)(t.$slots,"icon",{},()=>[(0,k.createVNode)(U.A,{name:e.icon.name,variant:e.icon.variant,size:(0,k.unref)(G)},null,8,["name","variant","size"])]),r[0]||(r[0]=(0,k.createTextVNode)()),(0,k.createElementVNode)("h3",{class:(0,k.normalizeClass)(["cc-text-medium-bold",t.$style["link-text"]])},[(0,k.renderSlot)(t.$slots,"default")],2),r[1]||(r[1]=(0,k.createTextVNode)()),e.badge?.variant==="notification"&&e.badge.label?((0,k.openBlock)(),(0,k.createBlock)(P,{key:0,label:e.badge.label},null,8,["label"])):e.badge?.variant==="new"?((0,k.openBlock)(),(0,k.createBlock)(O,{key:1})):(0,k.createCommentVNode)("",!0)]),_:3},8,["class","href"]))}});let H={};H.$style={container:"sub-menu-link-container",small:"sub-menu-link-small","link-text":"sub-menu-link-link-text"};var X=(0,C.A)(Y,[["__cssModules",H]]);let Q=(0,k.reactive)({userClubs:new N.a});function getUserClubs(){return Q.userClubs.dataSync}var J=(0,k.defineComponent)({__name:"community-club-list",props:{displayHeader:{type:Boolean,default:!0}},setup(e){let t=(0,k.computed)(()=>{let e=getUserClubs();return N.a.isDataReady(e)?e.sort((e,t)=>t.last_activity-e.last_activity):e});return(n,r)=>(0,k.unref)(N.a).isDataReady(t.value)&&t.value.length>0?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:0},[e.displayHeader?((0,k.openBlock)(),(0,k.createBlock)(T,{key:0},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(n.$trans("Your Clubs")),1)]),_:1})):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(t.value,e=>((0,k.openBlock)(),(0,k.createBlock)(X,{key:e.url,icon:{name:"clubs",variant:"color"},href:e.url},{icon:(0,k.withCtx)(()=>[(0,k.createVNode)(A,{alt:e.name,size:(0,k.unref)(G),src:e.icon},null,8,["alt","size","src"])]),default:(0,k.withCtx)(()=>[(0,k.createTextVNode)(" "+(0,k.toDisplayString)(e.name),1)]),_:2},1032,["href"]))),128))],64)):(0,k.createCommentVNode)("",!0)}}),K=(0,k.defineComponent)({__name:"sidebar-sub-menu",props:{subMenuName:{},variant:{}},setup(e){let t=getComputedStyle(document.body).getPropertyValue("--theme-background-image"),n=!!t&&"none"!==t;return(t,r)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)([t.$style.container,t.$style[e.variant],{"sidebar-sub-menu-custom-background-container":(0,k.unref)(n)}])},[(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(t.$style.content)},[e.subMenuName?((0,k.openBlock)(),(0,k.createElementBlock)("h3",{key:0,class:(0,k.normalizeClass)(["cc-heading-xx-small",t.$style["mobile-header"]])},(0,k.toDisplayString)(e.subMenuName),3)):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),(0,k.renderSlot)(t.$slots,"default")],2)],2))}});let $={};$.$style={max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.999em",max700:"43.749em",max768:"47.999em",max960:"59.999em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em",content:"sidebar-sub-menu-content","mobile-header":"sidebar-sub-menu-mobile-header",container:"sidebar-sub-menu-container",popup:"sidebar-sub-menu-popup","square-menu":"sidebar-sub-menu-square-menu","sub-menu":"sidebar-sub-menu-sub-menu"};var q=(0,C.A)(K,[["__cssModules",$]]),ee=__webpack_require__(4753);let et={header:{funnel:ee.rh.UNSPECIFIED,element:"header"},play:{funnel:ee.rh.GAMEPLAY,element:"play"},"play.online":{funnel:ee.rh.GAMEPLAY,element:"play_online"},"play.bots":{funnel:ee.rh.BOTS,element:"play_bots"},"play.coach":{funnel:ee.rh.PLAY_COACH,element:"play_coach"},"play.stats":void 0,"play.tournaments":{funnel:ee.rh.GAMEPLAY,element:"tournaments"},"play.variants":{funnel:ee.rh.GAMEPLAY,element:"variants"},"play.game_history":{funnel:ee.rh.GAME_ARCHIVE,element:"game_history"},puzzles:{funnel:ee.rh.PUZZLES,element:"puzzles"},"puzzles.rated":{funnel:ee.rh.PUZZLES,element:"puzzles_rated"},"puzzles.daily":{funnel:ee.rh.PUZZLES,element:"daily_puzzle"},"puzzles.rush":{funnel:ee.rh.PUZZLES,element:"puzzle_rush"},"puzzles.battle":{funnel:ee.rh.PUZZLES,element:"puzzle_battle"},"puzzles.custom":{funnel:ee.rh.PUZZLES,element:"custom_puzzles"},learn:{funnel:ee.rh.UNSPECIFIED,element:"learn"},"learn.lessons":{funnel:ee.rh.LESSONS,element:"lessons"},"learn.play_coach":{funnel:ee.rh.PLAY_COACH,element:"play_coach"},"learn.openings":{funnel:ee.rh.LESSONS,element:"openings"},train:{funnel:ee.rh.UNSPECIFIED,element:"train"},"train.analysis":{funnel:ee.rh.UNSPECIFIED,element:"analysis"},"train.courses":{funnel:ee.rh.COURSES,element:"courses"},"train.insights":{funnel:ee.rh.UNSPECIFIED,element:"insights"},"train.classroom":{funnel:ee.rh.UNSPECIFIED,element:"classroom"},"train.endgames":{funnel:ee.rh.UNSPECIFIED,element:"endgames"},"train.practice":{funnel:ee.rh.UNSPECIFIED,element:"practice"},"train.aimchess":{funnel:ee.rh.UNSPECIFIED,element:"aimchess"},community:{funnel:ee.rh.UNSPECIFIED,element:"community"},"community.friends":{funnel:ee.rh.UNSPECIFIED,element:"friends"},"community.clubs":{funnel:ee.rh.UNSPECIFIED,element:"clubs"},"community.members":{funnel:ee.rh.UNSPECIFIED,element:"members"},"community.coaches":{funnel:ee.rh.UNSPECIFIED,element:"coaches"},"community.top_players":{funnel:ee.rh.UNSPECIFIED,element:"top_players"},"community.rankings":{funnel:ee.rh.UNSPECIFIED,element:"chess_rankings"},"community.leaderboards":{funnel:ee.rh.UNSPECIFIED,element:"leaderboards"},"community.today":{funnel:ee.rh.UNSPECIFIED,element:"chess_today"},"community.news":{funnel:ee.rh.UNSPECIFIED,element:"news"},"community.articles":{funnel:ee.rh.UNSPECIFIED,element:"articles"},"community.blogs":{funnel:ee.rh.UNSPECIFIED,element:"blogs"},"community.forums":{funnel:ee.rh.UNSPECIFIED,element:"forums"},watch:{funnel:ee.rh.UNSPECIFIED,element:"watch"},"watch.events":{funnel:ee.rh.UNSPECIFIED,element:"events"},"watch.chess_tv":{funnel:ee.rh.UNSPECIFIED,element:"chess_tv"},"watch.streamers":{funnel:ee.rh.UNSPECIFIED,element:"streamers"},"watch.playing_now":{funnel:ee.rh.UNSPECIFIED,element:"playing_now"},other:{funnel:ee.rh.UNSPECIFIED,element:"other"},"other.library":{funnel:ee.rh.UNSPECIFIED,element:"library"},"other.games_database":{funnel:ee.rh.UNSPECIFIED,element:"games_database"},"other.chess_terms":{funnel:ee.rh.UNSPECIFIED,element:"chess_terms"},"other.rules":{funnel:ee.rh.UNSPECIFIED,element:"rules"},"other.explorer":{funnel:ee.rh.UNSPECIFIED,element:"explorer"},"other.vote_chess":{funnel:ee.rh.UNSPECIFIED,element:"votechess"},"other.solo_chess":{funnel:ee.rh.UNSPECIFIED,element:"solo_chess"},"other.computer_championship":{funnel:ee.rh.UNSPECIFIED,element:"computer_championship"},"other.chesskid":{funnel:ee.rh.UNSPECIFIED,element:"chesskid"},"other.tools":{funnel:ee.rh.UNSPECIFIED,element:"tools"},"other.vision":{funnel:ee.rh.UNSPECIFIED,element:"vision"},"other.shop":{funnel:ee.rh.UNSPECIFIED,element:"shop"},"other.merch":{funnel:ee.rh.UNSPECIFIED,element:"merch"},"other.gift":{funnel:ee.rh.UNSPECIFIED,element:"gift"},messages:{funnel:ee.rh.MESSAGE,element:"messages_icon"},friends:{funnel:ee.rh.FRIENDS,element:"friends_icon"},search:void 0,profile:void 0,notifications:void 0,settings:void 0};var en=(0,k.defineComponent)({__name:"navigation-config-link",props:{link:{}},setup(e){let t=e,n=(0,k.computed)(()=>t.link.id.split(".")[0]),r=(0,k.computed)(()=>et[t.link.id]);return(t,a)=>((0,k.openBlock)(),(0,k.createBlock)(X,{"data-pin":e.link.id,key:e.link.id,icon:e.link.icon,href:e.link.url,"tracking-event":{event:r.value,subMenu:n.value}},(0,k.createSlots)({default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.link.label)+" ",1)]),_:2},[e.link.icon.override_url?{name:"icon",fn:(0,k.withCtx)(()=>[(0,k.createVNode)(A,{alt:"coach-icon","retina-support":!1,"is-lazy-loading":!1,size:(0,k.unref)(G),src:e.link.icon.override_url},null,8,["size","src"])]),key:"0"}:void 0]),1032,["data-pin","icon","href","tracking-event"]))}}),er=(0,k.defineComponent)({__name:"navigation-config-section",props:{section:{}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(t.$style.container)},[(0,k.createVNode)(T,{"aria-label":e.section.label,class:(0,k.normalizeClass)(t.$style.divider)},null,8,["aria-label","class"]),n[0]||(n[0]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.section.sub,e=>((0,k.openBlock)(),(0,k.createBlock)(en,{key:e.id,link:e},null,8,["link"]))),128))],2))});let ea={};ea.$style={container:"navigation-config-section-container",divider:"navigation-config-section-divider"};var eo=(0,C.A)(er,[["__cssModules",ea]]),ei=(0,k.defineComponent)({__name:"configured-menu-controller",props:{menuConfig:{}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(t.$style.container)},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.menuConfig.sub,e=>((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:e.id},["section"===e.type?((0,k.openBlock)(),(0,k.createBlock)(eo,{key:0,section:e},null,8,["section"])):((0,k.openBlock)(),(0,k.createBlock)(en,{key:1,link:e},null,8,["link"]))],64))),128))],2))});let es={};es.$style={container:"configured-menu-controller-container"};var el=(0,C.A)(ei,[["__cssModules",es]]);function isUnsafeProperty(e){return"__proto__"===e}function isPlainObject(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function merge(e,t){let n=Object.keys(t);for(let r=0;r<n.length;r++){let a=n[r];if(isUnsafeProperty(a))continue;let o=t[a],i=e[a];Array.isArray(o)?Array.isArray(i)?e[a]=merge(i,o):e[a]=merge([],o):isPlainObject(o)?isPlainObject(i)?e[a]=merge(i,o):e[a]=merge({},o):(void 0===i||void 0!==o)&&(e[a]=o)}return e}function parseSubItems(e){return"link"===e.type?[]:e.sub}function traverseNavigationConfigTree(e,t){let n=[e];for(;n.length>0;){n.forEach(e=>{t(e)});n=n.flatMap(e=>parseSubItems(e))}}function mapNavigationConfigTree(e,t){let n=structuredClone((0,k.toRaw)(e));return traverseNavigationConfigTree(n,e=>{Object.assign(e,t(e))}),n}function typedToEntries(e){return Object.entries(e)}function typedFromEntries(e){return Object.fromEntries(e)}function typedValues(e){return Object.values(e)}var ec=__webpack_require__(81884);function getSelectedCoachIcon(){return(0,ec.m)()?.iconUrl}var ed=__webpack_require__(18062);function computeNavigationConfigOverrides(){let e=(0,k.ref)((0,ed.oL)());return(0,ed.bQ)(t=>e.value=t),(0,k.computed)(()=>{let t=getSelectedCoachIcon();return{play:{icon:{name:e.value?"play-white":"play-black",variant:"color"}},"play.online":{icon:{name:e.value?"play-white":"play-black",variant:"color"}},"play.coach":{icon:{name:"coach",variant:"color",override_url:t}},"learn.play_coach":{icon:{name:"coach",variant:"color",override_url:t}}}})}function computeNavigationMenuConfig(){let e=computeNavigationConfigOverrides(),t=window.chesscom.userNavigationConfig;return(0,k.computed)(()=>typedFromEntries(typedToEntries(t).map(([t,n])=>[t,n.map(t=>mapNavigationConfigTree(t,t=>e.value[t.id]?merge(t,{...e.value[t.id],preserved:!1}):merge(t,{preserved:!0})))])))}function computeNavigationMenuConfigItemMap(){let e=computeNavigationMenuConfig();return(0,k.computed)(()=>{let t={};return typedValues(e.value).forEach(e=>{e.forEach(e=>{traverseNavigationConfigTree(e,e=>{t[e.id]=e})})}),t})}let eu=(0,k.reactive)({navigationMenuOverriddenConfig:computeNavigationMenuConfig(),navigationMenuConfigItems:computeNavigationMenuConfigItemMap()});function getNavigationMenuConfigFor(e){return eu.navigationMenuConfigItems[e]}var eh=(0,k.defineComponent)({__name:"community-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("community"));return(e,n)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Community")},{default:(0,k.withCtx)(()=>[t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0),n[0]||(n[0]=(0,k.createTextVNode)()),(0,k.createVNode)(J)]),_:1},8,["sub-menu-name"]))}});let ep={};ep.$style={"header-text":"community-sub-menu-controller-header-text"};var em=(0,C.A)(eh,[["__cssModules",ep]]);let ef=(0,k.reactive)({dynamicEntries:{},dynamicEntryProps:{}});function registerDynamicEntry(e,t,n){ef.dynamicEntries[e]=t;ef.dynamicEntryProps[e]=n}let eg={mountPoint:"data-interaction-mount-point",staticallyPositionedMountPoint:"data-statically-positioned",interactiveItem:"data-interaction",navbarSubMenuExpanded:"data-sub-menu-expanded",navbarIsExpanded:"data-expanded",mountPointIsMounted:"data-mounted",toolbarIsExpanded:"data-expanded",searchBarInputIsMounted:"data-mounted",friendsIconNavbar:"data-friends-icon",friendsIconToolbar:"data-toolbar-friends",primaryAction:"data-primary-action",userActivityKey:"data-user-activity-key",pinName:"data-pin",isOverrideImg:"data-override-img",isIconImg:"data-icon-img",lazyLoadedNavbarIsReady:"data-navigation-ready",accordionTarget:"data-accordion-target",accordionTargetTransitioning:"data-accordion-transitioning"};function getInteractionSelectorOnElement(e,t){return`[${eg.interactiveItem}="${t?"mobile-":""}${e}"]`}function getDesktopInteractionSelectorFor(e){return"all"===e?'[data-interaction]:not([data-interaction^="mobile"])':getInteractionSelectorOnElement(e,!1)}function getMobileInteractionSelectorFor(e){return"all"===e?'[data-interaction|="mobile"]':getInteractionSelectorOnElement(e,!0)}function keyboardNavigationInUse(){return document.body.classList.contains("keyboard-navigation-in-use")}let clickOutside=(e,t)=>new Promise((n,r)=>{let documentListener=t=>{if(void 0===t.target.contains||t.target!==e&&!e.contains(t.target)){n();document.removeEventListener("click",documentListener)}};setTimeout(()=>{document.addEventListener("click",documentListener);t?.addEventListener("abort",()=>{document.removeEventListener("click",documentListener);r()})})});var eb=__webpack_require__(31286);function createBoundFunction(e,t){return e.bind(t)}let e_={contentShroud:"#mobile-content-shroud",navbar:"#sidebar-main-menu",accordionInput:"#sidebar-toggle",navbarHeaderTooltipMountPoint:"#sidebar-main-menu-header-tooltip",mobileToolbar:"#mobile-toolbar",mobileToolbarSubMenuMountPoint:"#mobile-toolbar-popout-mount-point",favoritedTabs:"#favorited-tabs",unfavoritedTabs:"#unfavorited-tabs"};var eE={navWidthCollapsed:"5.6rem",navWidthDefault:"17rem"};function calculateNavbarCollapsedNonReactively(){let e=document.querySelector(e_.navbar);return!!e&&getComputedStyle(e).getPropertyValue("--navWidth")===eE.navWidthCollapsed}let ew=(0,k.reactive)({navbarIsCollapsed:calculateNavbarCollapsedNonReactively(),navbar:document.querySelector(e_.navbar),toolbar:document.querySelector(e_.mobileToolbar),expandButton:document.querySelector(getMobileInteractionSelectorFor("navbar-expand")),collapseButton:document.querySelector(getMobileInteractionSelectorFor("navbar-collapse")),contentShroud:document.querySelector(e_.contentShroud)});function getNavbarElement(){return ew.navbar}var ev=__webpack_require__(54034);let ek={bottomOfToolbar:"--toolbar-bottom",navbarMountPointHeight:"--mount-point-height"};function getSubMenuOffsetsByDomRects(e,t,n,r){let a=getNavbarElement();if(!a||"static"===r.type)return{};let o=window.getComputedStyle(a),i=Number.parseFloat(o.getPropertyValue("padding-right")),s=10*Number.parseFloat(o.getPropertyValue("--space-8")),l={height:n.height};if("right"===r.onParentSide){l.left=s+t.width;l["padding-left"]=i}else"top"===r.onParentSide&&(l.left=s);let c=r.staticOffsets?.top??0,d=r.staticOffsets?.bottom??0;if("up"===r.growDirection&&t.y+c-n.height>-1*s)l.top=t.y-n.height;else if("up"===r.growDirection){l.top=s-c;r.stopGrowingAtDirectionBoundary&&(l.height=t.y+c-s)}else if("down"===r.growDirection&&t.y+d-s+n.height<=window.innerHeight-s)l.top=t.y-s;else if("down"===r.growDirection){l.bottom=s-d;r.stopGrowingAtDirectionBoundary&&(l.height=t.y+d-s)}else if("fill"===r.growDirection){l.top=e.top;l.height=Math.min(n.height,e.height)}else if("full-height"===r.growDirection){l.top=e.top;l.height=e.height}return r?.staticOffsets&&(0,ev.Z)(r.staticOffsets).forEach(e=>{l[e]?l[e]+=r.staticOffsets?.[e]??0:l[e]=r.staticOffsets?.[e]??0}),l}var eS=__webpack_require__(36761);function getSubMenuOffsetsByStaticAnchor(e,t,n,r,a){let o=(document.querySelector(e)??document.body).getBoundingClientRect(),i=(0,eS.P)(),s=i?"left"===a.horizontal?0:-1*n.width:"right"===a.horizontal?0:-1*n.width,l="down"===a.vertical?0:-1*n.height,c=i?o["left"===r.horizontal?"right":"left"]-t.horizontal:o[r.horizontal]+t.horizontal;return{top:o[r.vertical]+t.vertical+l,[i?"right":"left"]:c+s}}function positionSubMenuByOffsets(e,t){e.style="";(0,ev.Z)(t).forEach(n=>{void 0!==t[n]&&e.style.setProperty(`--mount-point-${n}`,`${t[n]}px`)})}function drawSubMenu(e,t,n,r){if(!t||!n||!r)return;let a="function"==typeof e.placement?e.placement():e.placement;r.style.removeProperty(ek.navbarMountPointHeight);let o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=r.getBoundingClientRect();positionSubMenuByOffsets(r,"dynamic"===a.type?getSubMenuOffsetsByDomRects(o,i,s,a):getSubMenuOffsetsByStaticAnchor(a.anchorPoint,a.offsets,s,a.offsetFromPoint,a.renderDirection));"static"===a.type?r.setAttribute(eg.staticallyPositionedMountPoint,""):r.removeAttribute(eg.staticallyPositionedMountPoint)}class ey{static mountEvents=(0,t.createQueuedEmitter)();currentApp=null;mutationObserver=null;resizeObserver=null;MountComponent;selector;options;navbarElement;tabElement;mountPoint=null;props;handlePrimaryAction=createBoundFunction(e=>{this.tabElement&&!this.mountPoint?.contains(e.target)&&this.options.primaryAction?.(this.tabElement)},this);constructor(e,t,n,r,a){this.selector=e;this.MountComponent=t;this.options=n;this.props=r;this.navbarElement=getNavbarElement();this.tabElement=a??document.querySelector(e);if(null!==this.tabElement){this.mountPoint=this.tabElement.querySelector(`[${eg.mountPoint}]`);if(null===this.mountPoint){this.mountPoint=document.createElement("div");this.mountPoint.setAttribute(eg.mountPoint,"");this.tabElement.appendChild(this.mountPoint)}}}createSubMenuApp(){return this.currentApp=(0,eb.E)(this.MountComponent,this.props),this.currentApp}redrawSubMenu=createBoundFunction(()=>{drawSubMenu(this.options,this.navbarElement,this.tabElement,this.mountPoint)},this);async mountSubMenu(){let e=!this.options.shouldMount||await this.options.shouldMount?.();return!this.currentApp&&!!this.navbarElement&&!!this.tabElement&&!!this.mountPoint&&!!e&&(this.mutationObserver=new MutationObserver(()=>this.redrawSubMenu()),this.mutationObserver.observe(this.mountPoint,{subtree:!0,childList:!0}),this.resizeObserver=new ResizeObserver(()=>this.redrawSubMenu()),this.resizeObserver.observe(this.navbarElement),window.addEventListener("resize",this.redrawSubMenu),this.createSubMenuApp().mount(this.mountPoint),this.mountPoint.setAttribute(eg.mountPointIsMounted,""),this.navbarElement?.setAttribute(eg.navbarSubMenuExpanded,this.selector),this.options.onMount?.(()=>this.unmountSubMenu()),this.tabElement.addEventListener("click",this.handlePrimaryAction),await ey.mountEvents.emit("mounted",this.selector),ey.mountEvents.once("mounted",e=>{e!==this.selector&&this.unmountSubMenu()}),!0)}unmountSubMenu(){if(this.currentApp){this.mountPoint?.removeAttribute(eg.mountPointIsMounted);this.navbarElement?.getAttribute(eg.navbarSubMenuExpanded)===this.selector&&this.navbarElement?.removeAttribute(eg.navbarSubMenuExpanded);this.currentApp?.unmount();this.tabElement?.removeEventListener("click",this.handlePrimaryAction);ey.mountEvents.emit("unmounted",this.selector);this.options.onUnmount?.();this.mutationObserver?.disconnect();this.resizeObserver?.disconnect();window.removeEventListener("resize",this.redrawSubMenu);this.currentApp=null;this.mutationObserver=null;this.resizeObserver=null}}}class eA extends ey{clickOutsideSignal=null;handleAttemptKeyboardMount=createBoundFunction(async e=>{if("Enter"===e.key){e.stopPropagation();await this.mountSubMenu()}},this);handleMountSubMenu=createBoundFunction(()=>{this.mountSubMenu()},this);constructor(e,t,n,r,a){super(e,t,n,r,a);this.addOpenInteractionEvents();ey.mountEvents.on("requestMount",()=>this.unmountSubMenu())}removeOpenInteractionEvents(){this.tabElement?.removeEventListener("keydown",this.handleAttemptKeyboardMount);this.tabElement?.removeEventListener("click",this.handleMountSubMenu)}addOpenInteractionEvents(){this.tabElement?.addEventListener("click",this.handleMountSubMenu);this.tabElement?.addEventListener("keydown",this.handleAttemptKeyboardMount)}closeOnKeydown=createBoundFunction(e=>{"Enter"===e.key&&this.tabElement===document.activeElement&&this.unmountSubMenu()},this);async mountSubMenu(){let e=await super.mountSubMenu();if(e&&this.mountPoint){this.clickOutsideSignal=new AbortController;clickOutside(this.mountPoint,this.clickOutsideSignal.signal).then(()=>{this.unmountSubMenu()},()=>{});this.tabElement?.addEventListener("keydown",this.closeOnKeydown);this.removeOpenInteractionEvents()}return e}async unmountSubMenu(){this.clickOutsideSignal?.abort();this.clickOutsideSignal=null;super.unmountSubMenu();this.addOpenInteractionEvents();this.tabElement?.removeEventListener("keydown",this.closeOnKeydown)}}class eN extends ey{unmountTimeout=null;mountedClient=null;shouldMountOnUnmount=!1;constructor(e,t,n,r,a){super(e,t,n,r,a);this.tabElement?.addEventListener("mouseenter",e=>this.mountSubMenu(e));this.tabElement?.addEventListener("mouseleave",()=>this.performDelayedUnmount());this.tabElement?.addEventListener("focusin",()=>this.mountSubMenu());this.tabElement?.addEventListener("focusout",()=>this.performDelayedUnmount());ey.mountEvents.on("mounted",e=>this.mountedClient=e);ey.mountEvents.on("requestMount",e=>this.shouldMountOnUnmount=e===this.selector);ey.mountEvents.on("abortRequest",e=>{e===this.selector&&(this.shouldMountOnUnmount=!1)});ey.mountEvents.on("unmounted",e=>{this.mountedClient===e&&(this.mountedClient=null);this.shouldMountOnUnmount&&this.selector!==e&&this.mountSubMenu()})}async mountSubMenu(e){return(!e?.buttons||!(e.buttons>0))&&(this.unmountTimeout?(clearTimeout(this.unmountTimeout),this.unmountTimeout=null,!1):null!==this.mountedClient?(ey.mountEvents.emit("requestMount",this.selector),this.tabElement?.addEventListener("mouseleave",()=>ey.mountEvents.emit("abortRequest",this.selector),{once:!0}),!1):super.mountSubMenu())}unmountSubMenu(){super.unmountSubMenu();this.unmountTimeout=null}performDelayedUnmount(){keyboardNavigationInUse()?this.unmountTimeout=setTimeout(()=>this.unmountSubMenu(),1):this.unmountTimeout=setTimeout(()=>this.unmountSubMenu(),100)}}function createNavbarSubMenuClient(e,t,n,r,a){"hover"===n.interactionType?new eN(e,t,n,r,a):"click"===n.interactionType&&new eA(e,t,n,r,a)}function getNavigationClickSelectionFromInteractiveElement(e){let t=e.hasAttribute(eg.interactiveItem)?e.getAttribute(eg.interactiveItem)?.replace("mobile-",""):e.getAttribute(eg.userActivityKey);if(t)return et[t]??null}function navigateToPrimaryAction(e){let t=e.getAttribute(eg.primaryAction);if(!t)return;let n=getNavigationClickSelectionFromInteractiveElement(e);n&&trackNavigationClickEvent(n);window.location.assign(t)}var eR={max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.999em",max700:"43.749em",max768:"47.999em",max960:"59.999em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em"};let eC=16;function getNonReactiveNavbarWidthState(){let e=window.innerWidth,t=document.querySelector(e_.navbar);if(!t)throw Error("Cannot compute navbar width state, navbar is not visible. How did we get here?");let n=window.getComputedStyle(t),r=10*Number.parseFloat(n.getPropertyValue("--navWidth"));return e<r+10*Number.parseFloat(n.getPropertyValue("--container-400"))?"mobile":e<Number.parseInt(eR.max960,10)*eC?"mobile-wide":e<Number.parseInt(eR.max1250,10)*eC?"desktop-thin":"desktop"}function getMobilePlacement(){return"mobile-wide"===getNonReactiveNavbarWidthState()?{type:"dynamic",onParentSide:"right",growDirection:"full-height"}:{type:"dynamic",onParentSide:"right",growDirection:"fill"}}let eV=(0,t.createClient)({init(){this.registerClubsDynamicEntry();Q.userClubs.load(()=>fetchUserClubs());createNavbarSubMenuClient(getDesktopInteractionSelectorFor("community"),em,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"}});createNavbarSubMenuClient(getMobileInteractionSelectorFor("community"),em,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})},async registerClubsDynamicEntry(){try{(await Q.userClubs.data).length>0&&registerDynamicEntry("community.clubs",J,{displayHeader:!1})}catch{}}});var eT=__webpack_require__(64822),eU=__webpack_require__(31194);function isChannelSubscribed(e){return!!(!eU.p.subscribing[e]&&eU.p.subscriptions[e])}var eI=__webpack_require__(71319);async function getFriendsOnlineCount(){let{data:{pagination:e}}=await (0,eI.s)({itemsPerPage:1,searchCriteria:{isOnline:!0}});return e?.totalSize??0}var ex=__webpack_require__(39518),eB=__webpack_require__(40168),eF=__webpack_require__(95101),eM=__webpack_require__(67426),eO=__webpack_require__(61286),eL=__webpack_require__(30421);async function unsafeLoadRecentFriends(){let{data:{friends:e}}=await (0,eM.RZ)({});return e??[]}let eD=(0,eF.s)(()=>eL.h.friends.load(unsafeLoadRecentFriends),eO.w.friends,{edges:["leading"]});var ez=__webpack_require__(36548);function toggleFriendsOnlineIndicator(e){[{selector:eg.friendsIconNavbar,cssClass:"navigation-friends-icon-friend-is-online"},{selector:eg.friendsIconToolbar,cssClass:"is-online"}].forEach(t=>{document.querySelectorAll(`[${t.selector}]`).forEach(n=>{e?n.classList.add(t.cssClass):n.classList.remove(t.cssClass)})})}var eP=__webpack_require__(68496),eG=__webpack_require__(47097),eZ=__webpack_require__(2211),eW=__webpack_require__(64749),ej=__webpack_require__(81650),eY=__webpack_require__(83868);function useIsMobileWidth(e=960){let t=(0,eY.lWr)();return(0,k.computed)(()=>t.width.value<e)}let eH={key:0};var eX=(0,k.defineComponent)({__name:"sidebar-widget",props:{minHeight:{type:Boolean,default:!1}},setup(e){let t=useIsMobileWidth();return(n,r)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:(0,k.unref)(t)?"square-menu":"popup"},{default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)([n.$style.container,{[n.$style["has-tabs"]]:!!n.$slots.tabs,[n.$style["has-footer"]]:!!n.$slots.actions,[n.$style["min-height"]]:!!e.minHeight}])},[n.$slots.tabs?((0,k.openBlock)(),(0,k.createElementBlock)("section",eH,[(0,k.renderSlot)(n.$slots,"tabs")])):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),(0,k.createElementVNode)("section",{class:(0,k.normalizeClass)(n.$style.content)},[(0,k.renderSlot)(n.$slots,"default")],2),r[1]||(r[1]=(0,k.createTextVNode)()),n.$slots.actions?((0,k.openBlock)(),(0,k.createElementBlock)("footer",{key:1,class:(0,k.normalizeClass)(n.$style.actions)},[(0,k.renderSlot)(n.$slots,"actions")],2)):(0,k.createCommentVNode)("",!0)],2)]),_:3},8,["variant"]))}});let eQ={};eQ.$style={max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.999em",max700:"43.749em",max768:"47.999em",max960:"59.999em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em",container:"sidebar-widget-container","min-height":"sidebar-widget-min-height","has-tabs":"sidebar-widget-has-tabs","has-footer":"sidebar-widget-has-footer",content:"sidebar-widget-content",actions:"sidebar-widget-actions"};var eJ=(0,C.A)(eX,[["__cssModules",eQ]]),eK=__webpack_require__(34619);let e$={friends:{id:"friends",label:(0,eK.pw)("Friends")},requests:{id:"requests",label:(0,eK.pw)("Requests")}},eq={friends:(0,k.defineAsyncComponent)(()=>Promise.all([__webpack_require__.e(9197),__webpack_require__.e(4975)]).then(__webpack_require__.bind(__webpack_require__,28950))),requests:(0,k.defineAsyncComponent)(()=>window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?Promise.all([__webpack_require__.e(9197),__webpack_require__.e(446)]).then(__webpack_require__.bind(__webpack_require__,61502)):Promise.all([__webpack_require__.e(9197),__webpack_require__.e(446)]).then(__webpack_require__.bind(__webpack_require__,15432)))};var e0=__webpack_require__(54606),e1=__webpack_require__(63656),e2=__webpack_require__(2045),e9=__webpack_require__(41708),e5=__webpack_require__(40422);let e3=(0,e1.fileDesc)("CkRjaGVzc2NvbS91c2VyX3JlbGF0aW9uc2hpcHMvdjEvYnVsa191c2VyX3JlbGF0aW9uc2hpcHNfc2VydmljZS5wcm90bxIeY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYxIjwKJkJ1bGtBY2NlcHRGcmllbmRSZXF1ZXN0c0J5VXVpZHNSZXF1ZXN0EhIKCnVzZXJfdXVpZHMYASADKAkiKQonQnVsa0FjY2VwdEZyaWVuZFJlcXVlc3RzQnlVdWlkc1Jlc3BvbnNlIj0KJ0J1bGtEZWNsaW5lRnJpZW5kUmVxdWVzdHNCeVV1aWRzUmVxdWVzdBISCgp1c2VyX3V1aWRzGAEgAygJIioKKEJ1bGtEZWNsaW5lRnJpZW5kUmVxdWVzdHNCeVV1aWRzUmVzcG9uc2UirwEKIEJ1bGtTdG9wVXNlclJlbGF0aW9uc2hpcHNSZXF1ZXN0EhEKCXVzZXJfdXVpZBgBIAEoCRIYChBvdGhlcl91c2VyX3V1aWRzGAIgAygJEl4KFXJlbGF0aW9uc2hpcF9jcml0ZXJpYRgDIAEoCzI/LmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52Mi5Vc2VyUmVsYXRpb25zaGlwUmVxdWVzdENyaXRlcmlhIlMKIUJ1bGtTdG9wVXNlclJlbGF0aW9uc2hpcHNSZXNwb25zZRIuCgpzdG9wcGVkX2F0GAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcDKuBAocQnVsa1VzZXJSZWxhdGlvbnNoaXBzU2VydmljZRKyAQofQnVsa0FjY2VwdEZyaWVuZFJlcXVlc3RzQnlVdWlkcxJGLmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52MS5CdWxrQWNjZXB0RnJpZW5kUmVxdWVzdHNCeVV1aWRzUmVxdWVzdBpHLmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52MS5CdWxrQWNjZXB0RnJpZW5kUmVxdWVzdHNCeVV1aWRzUmVzcG9uc2UStQEKIEJ1bGtEZWNsaW5lRnJpZW5kUmVxdWVzdHNCeVV1aWRzEkcuY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYxLkJ1bGtEZWNsaW5lRnJpZW5kUmVxdWVzdHNCeVV1aWRzUmVxdWVzdBpILmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52MS5CdWxrRGVjbGluZUZyaWVuZFJlcXVlc3RzQnlVdWlkc1Jlc3BvbnNlEqABChlCdWxrU3RvcFVzZXJSZWxhdGlvbnNoaXBzEkAuY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYxLkJ1bGtTdG9wVXNlclJlbGF0aW9uc2hpcHNSZXF1ZXN0GkEuY2hlc3Njb20udXNlcl9yZWxhdGlvbnNoaXBzLnYxLkJ1bGtTdG9wVXNlclJlbGF0aW9uc2hpcHNSZXNwb25zZUKVAcq3LJABCh8vc2VydmljZS91c2VyLXJlbGF0aW9uc2hpcHMvaWRsElESGnNhbmRib3guY2hlc3MtcGxhdGZvcm0uY29tEhpzdGFnaW5nLmNoZXNzLXBsYXRmb3JtLmNvbRIXcHJvZC5jaGVzcy1wbGF0Zm9ybS5jb20aFhIJeC1hcGkta2V5EglwaHBzZXNzaWQiAggBYgZwcm90bzM",[e2.KK,e9.s6,e5.file_google_protobuf_timestamp]),e4=(0,e1.serviceDesc)(e3,0);var e8=__webpack_require__(77853),e6=(0,e8.createClient)(e4);async function handleAcceptAllIncomingFriendRequests(){try{if(window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")){await e6.bulkAcceptFriendRequestsByUuids({userUuids:[]});await eL.h.friends.load(unsafeLoadRecentFriends);eL.h.incomingRequests.dataSync=[]}else{let e=await eL.h.incomingRequestsLegacy.data,t=e.map(({friend:e})=>e.uuid);await e6.bulkAcceptFriendRequestsByUuids({userUuids:t});N.a.isDataReady(eL.h.friends.dataSync)||(eL.h.friends.dataSync=[]);eL.h.friends.dataSync.push(...e);eL.h.incomingRequestsLegacy.dataSync=[]}}catch{(0,e0.Qg)((0,eK.pw)("Oops, something went wrong. Please try again."))}}async function handleDeclineAllIncomingFriendRequests(){try{if(window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")){await e6.bulkDeclineFriendRequestsByUuids({userUuids:[]});eL.h.incomingRequests.dataSync=[]}else{let e=(await eL.h.incomingRequestsLegacy.data).map(e=>e.friend.uuid);await e6.bulkDeclineFriendRequestsByUuids({userUuids:e});eL.h.incomingRequestsLegacy.dataSync=[]}}catch{(0,e0.Qg)((0,eK.pw)("Oops, something went wrong. Please try again."))}}var e7=__webpack_require__(84612),te=(0,k.defineComponent)({__name:"requests-tab-footer-controller",setup(e){let t=(0,k.computed)(()=>{let e=(0,e7.f)();return N.a.isDataReady(e)?e.length:0});return(e,n)=>((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,null,[(0,k.createVNode)(eP.A,{variant:"ghost",size:"small",class:(0,k.normalizeClass)(e.$style.decline),icon:{name:"mark-cross",variant:"glyph"},disabled:0===t.value,label:e.$trans("Decline All"),onClick:(0,k.unref)(handleDeclineAllIncomingFriendRequests)},null,8,["class","disabled","label","onClick"]),n[0]||(n[0]=(0,k.createTextVNode)()),(0,k.createVNode)(eP.A,{variant:"ghost",size:"small",class:(0,k.normalizeClass)(e.$style.accept),icon:{name:"mark-check",variant:"glyph"},disabled:0===t.value,label:e.$trans("Accept All"),onClick:(0,k.unref)(handleAcceptAllIncomingFriendRequests)},null,8,["class","disabled","label","onClick"])],64))}});let tn={};tn.$style={wrapper:"requests-tab-footer-controller-wrapper",decline:"requests-tab-footer-controller-decline",accept:"requests-tab-footer-controller-accept"};let to=(0,C.A)(te,[["__cssModules",tn]]);var ti=__webpack_require__(21578);function computeFriendNotificationCount(e){return e+(0,ti.I)().length}function getFriendNotificationCount(e=!0){let t=window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?eL.h.incomingRequests:eL.h.incomingRequestsLegacy;return e?N.a.isDataReady(t.dataSync)?computeFriendNotificationCount(t.dataSync.length):t.dataSync:new Promise(async e=>{e(computeFriendNotificationCount((await t.data).length))})}var tl=__webpack_require__(28427),tc=__webpack_require__(7286);function trackFriendRequestsTabClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.FRIENDS,interface:"navbar_submenu_friends",element:"friend_requests_tab"}))}function trackFriendRequestsTabImpression(){(0,W.M)((0,j.q)(Z.f4,{funnel:ee.rh.FRIENDS,interface:"navbar_submenu_friends_requests_tab"}))}function trackFriendsTabClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.FRIENDS,interface:"navbar_submenu_friends",element:"friends_tab"}))}function trackFriendsTabImpression(){(0,W.M)((0,j.q)(Z.f4,{funnel:ee.rh.FRIENDS,interface:"navbar_submenu_friends_friends_tab"}))}function trackSocialHubOpened(){(0,W.M)((0,j.q)(Z.f4,{funnel:ee.rh.FRIENDS,interface:"messages_hub"}))}var td=(0,k.defineComponent)({__name:"friends-sub-menu-controller",setup(e){(0,k.onMounted)(()=>{trackSocialHubOpened();"friends"===t.value?trackFriendsTabImpression():"requests"===t.value&&trackFriendRequestsTabImpression()});let t=(0,k.ref)("friends"),n=(0,k.computed)(()=>getFriendNotificationCount()),r=(0,k.computed)(()=>{let e=(0,tl.M)();return N.a.isDataReady(e)&&e.length>0}),a=(0,k.computed)(()=>"friends"===t.value?r.value:"hidden"!==o.value),o=(0,k.computed)(()=>{let e=(0,e7.f)(),t=(0,tc.B)();return N.a.isDataError(e)||N.a.isDataError(t)?"visible":N.a.isDataReady(e)&&N.a.isDataReady(t)?e.length+t.length===0?"hidden":"visible":"loading"});function setActiveTab(e){t.value=e;if("requests"===e){trackFriendRequestsTabClicked();trackFriendRequestsTabImpression()}else if("friends"===e){trackFriendsTabClicked();trackFriendsTabImpression()}}return(0,k.onBeforeMount)(()=>{getFriendNotificationCount(!1).then(e=>{e>0&&setActiveTab("requests")})}),(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(eJ,null,(0,k.createSlots)({tabs:(0,k.withCtx)(()=>[(0,k.createVNode)(eZ.A,{variant:"secondary"},{default:(0,k.withCtx)(()=>[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)((0,k.unref)(e$),(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(eW.A,{key:e.id,id:e.id,label:e.label,"is-active":t.value===r,onClick:()=>setActiveTab(r)},{default:(0,k.withCtx)(()=>["requests"===r&&(0,k.unref)(N.a).isDataReady(n.value)?((0,k.openBlock)(),(0,k.createBlock)(P,{key:0,label:n.value},null,8,["label"])):(0,k.createCommentVNode)("",!0)]),_:2},1032,["id","label","is-active","onClick"]))),128))]),_:1})]),default:(0,k.withCtx)(()=>[r[1]||(r[1]=(0,k.createTextVNode)()),(0,k.createVNode)(ej.A,{id:t.value,"is-active":!0},{default:(0,k.withCtx)(()=>[((0,k.openBlock)(),(0,k.createBlock)((0,k.resolveDynamicComponent)((0,k.unref)(eq)[t.value])))]),_:1},8,["id"]),r[2]||(r[2]=(0,k.createTextVNode)())]),_:2},[a.value?{name:"actions",fn:(0,k.withCtx)(()=>["friends"===t.value?((0,k.openBlock)(),(0,k.createBlock)(eP.A,{key:0,size:"small",variant:"ghost","custom-classes":{label:`cc-text-medium-bold ${e.$style["see-all-friends-button-text"]}`},href:(0,k.unref)(v.A).generate("web_friends"),label:e.$trans("See All Friends")},null,8,["custom-classes","href","label"])):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),"requests"===t.value?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:1},["loading"===o.value?((0,k.openBlock)(),(0,k.createBlock)(eG.A,{key:0,"row-height":"3.2rem",class:(0,k.normalizeClass)(e.$style.skeleton),rows:1,columns:10,items:["1 / 1 / 2 / 5","1 / 7 / 2 / 11"]},null,8,["class"])):((0,k.openBlock)(),(0,k.createBlock)(to,{key:1}))],64)):(0,k.createCommentVNode)("",!0)]),key:"0"}:void 0]),1024))}});let tu={};tu.$style={"header-text":"friends-sub-menu-controller-header-text","see-all-friends-button-text":"friends-sub-menu-controller-see-all-friends-button-text",skeleton:"friends-sub-menu-controller-skeleton"};var th=(0,C.A)(td,[["__cssModules",tu]]);function getNavbarIsCollapsed(){return ew.navbarIsCollapsed}let makeResizeEvent=()=>new Event("resize");function collapseNavbar(){ew.navbar?.removeAttribute(eg.navbarIsExpanded);window.dispatchEvent(makeResizeEvent())}function getContentShroudElement(){return ew.contentShroud}function getExpandButtonElement(){return ew.expandButton}let tp=(0,k.reactive)({expandedSubMenu:null,expandedSubMenuApp:null,mobileToolbarMountPoint:document.querySelector(e_.mobileToolbarSubMenuMountPoint)});function unmountCurrentSubMenu(e){tp.expandedSubMenu&&document.querySelector(tp.expandedSubMenu)?.removeAttribute(eg.mountPointIsMounted);tp.expandedSubMenuApp?.unmount();tp.expandedSubMenu=null;tp.expandedSubMenuApp=null;e?.();tp.mobileToolbarMountPoint?.removeAttribute(eg.toolbarIsExpanded)}function createToolbarSubMenuClient(e,t,n){let r=document.querySelector(e);function mountApp(){if(tp.expandedSubMenu===e)return void unmountCurrentSubMenu(n?.onUnmount);null!==tp.expandedSubMenuApp&&unmountCurrentSubMenu(n?.onUnmount);tp.expandedSubMenuApp=(0,eb.E)(t);tp.expandedSubMenu=e;collapseNavbar();if(tp.mobileToolbarMountPoint){tp.expandedSubMenuApp.mount(tp.mobileToolbarMountPoint);r?.setAttribute(eg.mountPointIsMounted,"");tp.mobileToolbarMountPoint.setAttribute(eg.toolbarIsExpanded,"");n?.onMount?.()}}r?.addEventListener("click",mountApp);getExpandButtonElement()?.addEventListener("click",()=>unmountCurrentSubMenu(n?.onUnmount));getContentShroudElement()?.addEventListener("click",()=>unmountCurrentSubMenu(n?.onUnmount))}let tm={type:"static",anchorPoint:"#footer-icons",offsetFromPoint:{vertical:"bottom",horizontal:"right"},renderDirection:{vertical:"up",horizontal:"right"},offsets:{vertical:0,horizontal:4}},tf={type:"static",anchorPoint:"#footer-icons",renderDirection:{vertical:"up",horizontal:"right"},offsetFromPoint:{vertical:"top",horizontal:"left"},offsets:{vertical:-8,horizontal:0}};var tg=__webpack_require__(16991);function initializeTooltip(e){if(!window.chesscom?.features?.includes("chip_tooltip_mounting"))return;window.chesscom.mountedTooltipApps??={};let t=e.getAttribute("v-tooltip")||"";if(!t)return;let n=e.getAttribute("data-tooltip-id");n&&destroyTooltip(n);let r=n||`static-tooltip-${(0,tg.N)()}`,a=document.createElement("div");a.id=r;e.setAttribute("data-tooltip-id",r);document.body.appendChild(a);let o=(0,eb.E)(I.A,{forElement:e,position:e.getAttribute("v-tooltip-position")??"top",text:t});o.mount(a);window.chesscom.mountedTooltipApps[r]=o}function destroyTooltip(e){if(!window.chesscom?.features?.includes("chip_tooltip_mounting"))return;let t="string"==typeof e?e:e.getAttribute("data-tooltip-id"),n="string"==typeof e?document.querySelector(`[data-tooltip-id="${e}"]`):e;if(t&&n){window.chesscom.mountedTooltipApps[t].unmount();delete window.chesscom.mountedTooltipApps[t];n.removeAttribute("data-tooltip-id")}}function updateFooterBadgeCount(e,t){let n=`[data-nav-badge="${e}"]`;document.querySelectorAll(n).forEach(e=>{let n=e;for(;null!==n.firstElementChild;)n=n.firstElementChild;let r=toBadgeCount(t);n.innerText=r;if(window.chesscom?.features?.includes("chip_tooltip_mounting")){let e=toTooltip(t);if(e){n.setAttribute("v-tooltip",e);initializeTooltip(n)}else{n.removeAttribute("v-tooltip");destroyTooltip(n)}}e.style.display=r?"":"none"})}let tb=(0,t.createClient)({init(){let e={interactionType:"click",onMount:this.loadResources,onUnmount:ex.p};createNavbarSubMenuClient(getDesktopInteractionSelectorFor("friends"),th,{...e,placement:()=>getNavbarIsCollapsed()?tm:tf});createToolbarSubMenuClient(getMobileInteractionSelectorFor("friends"),th,{onMount:this.loadResources,onUnmount:ex.p});(0,k.watch)(()=>getFriendNotificationCount(),e=>{N.a.isDataReady(e)&&updateFooterBadgeCount("friends",e)});this.updateOnlineFriendCount();this.listenForNewRequests()},async loadResources(){window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?await Promise.all([eD(),(0,ez.$)()]):await Promise.all([eD(),(0,eB.N)()])},listenForNewRequests(){let e=window.context.user?.uuid;if(!e)return;let t=`user-relationships/friends/${e}`;isChannelSubscribed(t)||(0,eT.E)(t,e=>{"FRIEND_REQUEST_RECEIVED"===e.message.type&&(window.chesscom?.features?.includes("web_navbar_friend_requests_infinite_scroll")?(0,ez.$)():(0,eB.N)())})},async updateOnlineFriendCount(){window.context.user&&toggleFriendsOnlineIndicator(await getFriendsOnlineCount()>0)}}),t_=["textContent"],tE=["textContent"];var tw=(0,k.defineComponent)({__name:"header-tooltip",setup(e){let t=(0,k.shallowRef)(null);return(0,k.onMounted)(()=>{t.value=document.querySelector(getDesktopInteractionSelectorFor("header"))}),(e,n)=>t.value?((0,k.openBlock)(),(0,k.createBlock)(I.A,{key:0,position:"right",class:(0,k.normalizeClass)(e.$style["tooltip-body"]),delay:1e3,"for-element":t.value},{default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("h2",{class:(0,k.normalizeClass)(["cc-text-medium-bold",e.$style["tooltip-text"]]),textContent:(0,k.toDisplayString)(e.$trans("This Menu Has Moved"))},null,10,t_),n[0]||(n[0]=(0,k.createTextVNode)()),(0,k.createElementVNode)("h3",{class:(0,k.normalizeClass)(["cc-text-small",e.$style["tooltip-text"]]),textContent:(0,k.toDisplayString)(e.$trans("Find more options at the bottom of the navigation bar"))},null,10,tE)]),_:1},8,["class","for-element"])):(0,k.createCommentVNode)("",!0)}});let tv={};tv.$style={"tooltip-body":"header-tooltip-tooltip-body","tooltip-text":"header-tooltip-tooltip-text"};let tk=(0,C.A)(tw,[["__cssModules",tv]]),tS=(0,t.createClient)({init(){window.chesscom?.features?.includes("web_navbar_redesign_display_header_tooltip")&&(0,eb.E)(tk).mount(e_.navbarHeaderTooltipMountPoint)}});var ty=(0,k.defineComponent)({__name:"learn-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("learn"));return(e,n)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Learn")},{default:(0,k.withCtx)(()=>[t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});let tA=(0,t.createClient)({init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("learn"),ty,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"}});createNavbarSubMenuClient(getMobileInteractionSelectorFor("learn"),ty,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})}});function getRegisteredDynamicEntriesFor(e){if(e in ef.dynamicEntries)return{component:ef.dynamicEntries[e],props:ef.dynamicEntryProps[e]}}var tN=(0,k.defineComponent)({__name:"menu-hint-controller",props:{tabId:{}},setup(e){let t=e,n=(0,k.computed)(()=>getNavigationMenuConfigFor(t.tabId)),r=(0,k.computed)(()=>getNavbarIsCollapsed()),a=(0,k.computed)(()=>getRegisteredDynamicEntriesFor(t.tabId));return(e,t)=>((0,k.openBlock)(),(0,k.createBlock)(q,{"sub-menu-name":n.value?.label,variant:"sub-menu"},{default:(0,k.withCtx)(()=>[r.value?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:0},[n.value&&"dropdown"===n.value.type?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":n.value},null,8,["menu-config"])):n.value&&"section"===n.value.type?((0,k.openBlock)(),(0,k.createBlock)(eo,{key:1,section:n.value},null,8,["section"])):n.value&&"link"===n.value.type?((0,k.openBlock)(),(0,k.createBlock)(en,{key:2,link:n.value},null,8,["link"])):(0,k.createCommentVNode)("",!0)],64)):(0,k.createCommentVNode)("",!0),t[0]||(t[0]=(0,k.createTextVNode)()),void 0!==a.value?((0,k.openBlock)(),(0,k.createBlock)((0,k.resolveDynamicComponent)(a.value.component),(0,k.normalizeProps)((0,k.mergeProps)({key:1},a.value.props)),null,16)):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});function createMenuHintClientFor(e,t,n){createNavbarSubMenuClient(getDesktopInteractionSelectorFor(e),tN,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"},shouldMount:()=>getNavbarIsCollapsed()||!!getRegisteredDynamicEntriesFor(e)},{tabId:e},t);createNavbarSubMenuClient(getMobileInteractionSelectorFor(e),tN,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction},{tabId:e},n)}function getNavigationMenuOverriddenConfig(){return eu.navigationMenuOverriddenConfig}let tR=(0,t.createClient)({async init(){let e=getNavigationMenuOverriddenConfig();[...e.favorited,...e.other].filter(e=>"dropdown"!==e.type).forEach(e=>createMenuHintClientFor(e.id))}}),tC={messageRead:"message-read"},tV={CHAT_LIST_LOADED:"chat-list-loaded",INIT_CHESS_TV_CHAT:"init-chess-tv-chat",INIT_CLUB_CHAT:"init-club-chat",INIT_EVENT_CHAT:"init-event-chat",OPEN_POPOUT_CLUB_CHAT:"open-popout-club-chat"};var tT=__webpack_require__(92408);let tU=(0,k.reactive)({inboxMessages:new N.a,chatList:new N.a});function getInactiveChatsAreVisible(){return N.a.isDataReady(tU.chatList.dataSync)?tU.chatList.dataSync.state.showInactiveChats:tU.chatList.dataSync}async function hideInactiveChats(){let e=getInactiveChatsAreVisible();if(N.a.isDataReady(e)&&N.a.isDataReady(tU.chatList.dataSync)&&e)return await (0,tT.y)(),tU.chatList.dataSync.toggleInactiveChats()}async function loadChat(e){await e.privateChatReady;tU.chatList.dataSync=e}async function loadInbox(){let e=v.A.generate("web_message_callback_list",{type:"inbox",page:1});tU.inboxMessages.load(async()=>(await w.A.get(e)).data)}var tI=__webpack_require__(82786),tx=__webpack_require__(18560),tB=__webpack_require__(44096);function updateOptimistically(e){if(!N.a.isDataReady(tU.inboxMessages.dataSync))return null;let t=tU.inboxMessages.dataSync.findIndex(t=>t.user.username===e);if(void 0===t||-1===t)return null;let n=tU.inboxMessages.dataSync?.splice(t,1)[0];return n?{index:t,message:n}:null}function undoOptimism(e){N.a.isDataReady(tU.inboxMessages.dataSync)&&tU.inboxMessages.dataSync.splice(e.index,0,e.message)}async function archiveMessage(e){let t=updateOptimistically(e);try{await w.A.post(v.A.generate("web_message_callback_archive",{username:e}))}catch{if(t){(0,e0.Tj)({type:"error",message:(0,eK.pw)("An error occurred while archiving the message. Please try again.")});undoOptimism(t)}}}async function createNewChat(){return(await tU.chatList.data).startGroupChat()}function deactivateChat(e){N.a.isDataReady(tU.chatList.dataSync)&&tU.chatList.dataSync.deactivateChat(e)}async function displayInactiveChats(){let e=getInactiveChatsAreVisible();if(N.a.isDataReady(e)&&N.a.isDataReady(tU.chatList.dataSync)&&!e)return await (0,tT.y)(),tU.chatList.dataSync.toggleInactiveChats()}function getChats(){return N.a.isDataReady(tU.chatList.dataSync)?tU.chatList.dataSync.getCombinedPanelList():tU.chatList.dataSync}async function markAllChatsAsRead(){let e=getChats();N.a.isDataReady(e)&&e.forEach(e=>{e.markChatAsRead(!0);e.setNewMessages(0);e.updateReactiveState()})}function mark_all_messages_as_read_updateOptimistically(){if(!N.a.isDataReady(tU.inboxMessages.dataSync))return null;let e=tU.inboxMessages.dataSync.filter(e=>e.new_messages_count>0);return e.forEach(e=>e.new_messages_count=0),e}function mark_all_messages_as_read_undoOptimism(e){e?.forEach(e=>e.new_messages_count=1)}async function markAllMessagesAsRead(){let e=mark_all_messages_as_read_updateOptimistically();try{await w.A.post(v.A.generate("web_message_callback_mark_all_as_read"))}catch{if(e){(0,e0.Tj)({type:"error",message:(0,eK.pw)("An error occurred while marking your messages as read. Please try again.")});mark_all_messages_as_read_undoOptimism(e)}}}var tF=__webpack_require__(59920),tM=__webpack_require__(16904),tO=__webpack_require__(84501),tL=(0,k.defineComponent)({__name:"tiptap-plaintext-viewer",props:{modelValue:{}},setup(e,{expose:t}){let n=e;t({setContent:e=>{setContent(e)}});let r=(0,tM.YC)({features:Object.values(tO.e),readonly:!0}),a=(0,k.ref)(""),setContent=e=>{if(r.value){r.value.commands.setContent((0,tF.F)(e)?JSON.parse(e):e);a.value=r.value.getText()}};return(0,k.onMounted)(()=>{setContent(n.modelValue)}),(0,k.watch)(()=>n.modelValue,e=>{setContent(e)}),(e,t)=>(0,k.toDisplayString)(a.value)}}),tD=__webpack_require__(50880),tz=__webpack_require__(64939),tP=__webpack_require__(87507),tG=__webpack_require__(48746),tZ=__webpack_require__(15678);async function fetchLifetimeScore(){if(tZ.U.opponent)try{let{data:e}=await w.A.post(tG.JZ.fetchLifetimeScore(tZ.U.user.userId,tZ.U.opponent.id));tZ.U.lifetimeScore=e}catch{tZ.U.lifetimeScore={draw:0,lose:0,win:0}}}var tW=__webpack_require__(93930),tj=__webpack_require__(65969);async function fetchUsersPresenceData(e){return(0,tj.h)({service:tW.YK.Presence,path:[tW.iz.Users],params:{ids:e.filter(Boolean).slice(0,25).join(",")}})}var tY=(e=>(e.None="none",e.Playing="playing",e))(tY||{}),tH=(e=>(e.Offline="offline",e.Online="online",e))(tH||{});function transformUserPresenceDto(e){let{activity:t,activityContext:n,id:r,status:a,statusAt:o,statusAtUncertain:i,streaming:s}=e,l={battleLink:void 0,eventLink:void 0,gameLink:void 0,id:r,isOfflineStatusUncertain:void 0,isOnline:a===tH.Online,isPlaying:t===tY.Playing,offlineSince:void 0,statusAt:o,streaming:s};a===tH.Offline&&(l.offlineSince=o);let c=n?.games?.[0];if(c){let e="live_chess"===c.source?"web_game_live":"web_game_uuid",t=c.numericId||c.id;l.gameLink=v.A.generate(e,{id:t});l.gameId=t}else if(n?.battles?.length){let e=n.battles[0].id;l.battleLink=v.A.generate("web_puzzles_mode_battle_view",{shortUuid:e})}return l.isOfflineStatusUncertain=i,l.isSubscribed=!0,l}async function fetchUsersOnlineStatuses(e){let{data:t}=await fetchUsersPresenceData(e);return t.users.reduce((e,t)=>(e[t.id]=transformUserPresenceDto(t),e),{})}async function fetchUserOnlineStatus(e){return(await fetchUsersOnlineStatuses([e]))[e]}async function fetchPresenceData(){try{let e=await fetchUserOnlineStatus(tZ.U.user.uuid);tZ.U.presenceDetails=e;tZ.U.presenceDetailsFetched=!0}catch{tZ.U.presenceDetails=null}}var tX=__webpack_require__(54477),tQ=__webpack_require__(5847);let tJ=(0,e1.fileDesc)("CjdjaGVzc2NvbS9mcmllbmRzX3NlYXJjaC92Mi9mcmllbmRzX3NlYXJjaF9zZXJ2aWNlLnByb3RvEhpjaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MiKoAgoTUXVlcnlGcmllbmRzUmVxdWVzdBIWCg5yZXF1ZXN0ZXJfdXVpZBgBIAEoCRIYCgt2aWV3ZWRfdXVpZBgCIAEoCUgAiAEBEiQKF2luY2x1ZGVfcHJlc2VuY2Vfc3RhdHVzGAMgASgISAGIAQESOwoKcGFnaW5hdGlvbhgEIAEoCzIiLmNoZXNzY29tLmFwaS52MS5SZXF1ZXN0UGFnaW5hdGlvbkgCiAEBEkEKBXF1ZXJ5GAUgASgLMjIuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaFJvb3RRdWVyeUIOCgxfdmlld2VkX3V1aWRCGgoYX2luY2x1ZGVfcHJlc2VuY2Vfc3RhdHVzQg0KC19wYWdpbmF0aW9uIpEBChRRdWVyeUZyaWVuZHNSZXNwb25zZRI3CgpwYWdpbmF0aW9uGAEgASgLMiMuY2hlc3Njb20uYXBpLnYxLlJlc3BvbnNlUGFnaW5hdGlvbhJACgdmcmllbmRzGAIgAygLMi8uY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuRnJpZW5kc1NlYXJjaEZyaWVuZCL0AgoTQXV0b2NvbXBsZXRlUmVxdWVzdBIRCgl1c2VyX3V1aWQYASABKAkSDgoGcHJlZml4GAIgASgJEhwKD2luY2x1ZGVfZnJpZW5kcxgDIAEoCEgAiAEBEiAKE2luY2x1ZGVfc3VnZ2VzdGlvbnMYBCABKAhIAYgBARIaCg1mcmllbmRzX2xpbWl0GAUgASgFSAKIAQESHgoRc3VnZ2VzdGlvbnNfbGltaXQYBiABKAVIA4gBARIhChRleGFjdF91c2VybmFtZV9maXJzdBgHIAEoCEgEiAEBEhsKDmJvb3N0X3VzZXJuYW1lGAggASgISAWIAQFCEgoQX2luY2x1ZGVfZnJpZW5kc0IWChRfaW5jbHVkZV9zdWdnZXN0aW9uc0IQCg5fZnJpZW5kc19saW1pdEIUChJfc3VnZ2VzdGlvbnNfbGltaXRCFwoVX2V4YWN0X3VzZXJuYW1lX2ZpcnN0QhEKD19ib29zdF91c2VybmFtZSKeAQoUQXV0b2NvbXBsZXRlUmVzcG9uc2USQAoHZnJpZW5kcxgBIAMoCzIvLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYxLkZyaWVuZHNTZWFyY2hGcmllbmQSRAoLc3VnZ2VzdGlvbnMYAiADKAsyLy5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoRnJpZW5kIsEBChRHZXRCbG9ja2Vyc09mUmVxdWVzdBIMCgR1dWlkGAEgASgJEjsKCnBhZ2luYXRpb24YAiABKAsyIi5jaGVzc2NvbS5hcGkudjEuUmVxdWVzdFBhZ2luYXRpb25IAIgBARJPCgxleHRyYV9maWVsZHMYAyADKA4yOS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUmV0cmlldmFibGVGaWVsZEINCgtfcGFnaW5hdGlvbiKRAQoVR2V0QmxvY2tlcnNPZlJlc3BvbnNlEjcKCnBhZ2luYXRpb24YASABKAsyIy5jaGVzc2NvbS5hcGkudjEuUmVzcG9uc2VQYWdpbmF0aW9uEj8KDWJsb2NrZWRfdXNlcnMYAiADKAsyKC5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5CbG9ja2VkVXNlcnMikwIKGEdldFVzZXJzQmxvY2tlZEJ5UmVxdWVzdBIMCgR1dWlkGAEgASgJEjgKD2xhc3RfbG9naW5fZGF0ZRgCIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBIAIgBARJPCgxleHRyYV9maWVsZHMYAyADKA4yOS5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52MS5GcmllbmRzU2VhcmNoUmV0cmlldmFibGVGaWVsZBI7CgpwYWdpbmF0aW9uGGMgASgLMiIuY2hlc3Njb20uYXBpLnYxLlJlcXVlc3RQYWdpbmF0aW9uSAGIAQFCEgoQX2xhc3RfbG9naW5fZGF0ZUINCgtfcGFnaW5hdGlvbiKVAQoZR2V0VXNlcnNCbG9ja2VkQnlSZXNwb25zZRI3CgpwYWdpbmF0aW9uGAEgASgLMiMuY2hlc3Njb20uYXBpLnYxLlJlc3BvbnNlUGFnaW5hdGlvbhI/Cg1ibG9ja2VkX3VzZXJzGAIgAygLMiguY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjEuQmxvY2tlZFVzZXJzIiYKFkdldEZyaWVuZHNDb3VudFJlcXVlc3QSDAoEdXVpZBgBIAEoCSIvChdHZXRGcmllbmRzQ291bnRSZXNwb25zZRIUCgxmcmllbmRfY291bnQYBCABKAUiXAoaR2V0RnJpZW5kQ291bnRyeUlkc1JlcXVlc3QSDAoEdXVpZBgBIAEoCRIcCg9leGNsdWRlX3Vua25vd24YAiABKAhIAIgBAUISChBfZXhjbHVkZV91bmtub3duIjIKG0dldEZyaWVuZENvdW50cnlJZHNSZXNwb25zZRITCgtjb3VudHJ5X2lkcxgBIAMoBTKGBgoURnJpZW5kc1NlYXJjaFNlcnZpY2UScwoMUXVlcnlGcmllbmRzEi8uY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuUXVlcnlGcmllbmRzUmVxdWVzdBowLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYyLlF1ZXJ5RnJpZW5kc1Jlc3BvbnNlIgAScwoMQXV0b2NvbXBsZXRlEi8uY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuQXV0b2NvbXBsZXRlUmVxdWVzdBowLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYyLkF1dG9jb21wbGV0ZVJlc3BvbnNlIgASdgoNR2V0QmxvY2tlcnNPZhIwLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYyLkdldEJsb2NrZXJzT2ZSZXF1ZXN0GjEuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuR2V0QmxvY2tlcnNPZlJlc3BvbnNlIgASggEKEUdldFVzZXJzQmxvY2tlZEJ5EjQuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuR2V0VXNlcnNCbG9ja2VkQnlSZXF1ZXN0GjUuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuR2V0VXNlcnNCbG9ja2VkQnlSZXNwb25zZSIAEnwKD0dldEZyaWVuZHNDb3VudBIyLmNoZXNzY29tLmZyaWVuZHNfc2VhcmNoLnYyLkdldEZyaWVuZHNDb3VudFJlcXVlc3QaMy5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52Mi5HZXRGcmllbmRzQ291bnRSZXNwb25zZSIAEogBChNHZXRGcmllbmRDb3VudHJ5SWRzEjYuY2hlc3Njb20uZnJpZW5kc19zZWFyY2gudjIuR2V0RnJpZW5kQ291bnRyeUlkc1JlcXVlc3QaNy5jaGVzc2NvbS5mcmllbmRzX3NlYXJjaC52Mi5HZXRGcmllbmRDb3VudHJ5SWRzUmVzcG9uc2UiAEKGAcq3LIEBChsvc2VydmljZS9mcmllbmRzLXNlYXJjaC9pZGwSURIac2FuZGJveC5jaGVzcy1wbGF0Zm9ybS5jb20SGnN0YWdpbmcuY2hlc3MtcGxhdGZvcm0uY29tEhdwcm9kLmNoZXNzLXBsYXRmb3JtLmNvbRoLEgl4LWFwaS1rZXkiAggBYgZwcm90bzM",[e5.file_google_protobuf_timestamp,tX.px,tQ.db,e2.KK]),tK=(0,e1.serviceDesc)(tJ,0);var t$=__webpack_require__(95137),tq=__webpack_require__(7815),t0=__webpack_require__(97171),t1=__webpack_require__(54292);let t2=null;function setupLegacyTransport(e){if(null!==t2)throw Error("Transport is already set up. It can only be set up once.");t2=e}function createLegacyFunc(e){return async(t,n,r,a,o)=>{var i,s,l;if(null===t2)throw Error("Transport not provided. Make sure to call `setupLegacyTransport` before invoking service methods.");let c=(0,t$.fromJson)(e.input,sanitize(t));try{let t=await t2.unary(e,o,void 0,n,c,void 0);return{data:(0,t$.toJson)(e.output,t.message,{alwaysEmitImplicit:!0}),headers:t.header,status:200,statusText:"OK"}}catch(e){if(e instanceof tq.ConnectError){let t=(0,t0.gO)(e,{}),n=(null==(s=null==(i=t.details)?void 0:i[0])?void 0:s.type)==="chesscom.api.v1.TwirpError"?null==(l=t.details[0].debug)?void 0:l.meta:void 0;throw{data:{msg:t.message,code:t.code,meta:n},headers:e.metadata,status:(0,t1.r)(e.code),statusText:e.rawMessage}}throw Error(`Unexpected error: ${e}`)}}}function sanitize(e){return JSON.parse(JSON.stringify(e))}tK.method.queryFriends;tK.method.autocomplete;tK.method.getBlockersOf;tK.method.getUsersBlockedBy;let t9=createLegacyFunc(tK.method.getFriendsCount);tK.method.getFriendCountryIds;setupLegacyTransport(e8.DEFAULT_TRANSPORT);var t5=__webpack_require__(60381);async function getFriendsCount(e=window.context?.user?.uuid){return e?(0,t5.t)(()=>t9({uuid:e}),{attempts:3}):Promise.resolve({data:{friendCount:0}})}async function fetchUser(){if(tZ.U.username)try{let{data:e}=await w.A.get(tG.JZ.fetchUserPopoverData(tZ.U.username));tZ.U.user=e;if(window.chesscom.features.includes("maximum_friends_limit_enabled")){let{data:{friendCount:t}}=await getFriendsCount(e.uuid);tZ.U.user.friendsCount=t??0}}catch{tZ.U.userDoesExist=!1}}var t3=__webpack_require__(11875),t4=__webpack_require__(97050),t8=__webpack_require__(20598);let t6={name:"userPopoverViewed",eventProperties:{},trackers:[{tracker:__webpack_require__(76014).N.Service,name:"User Popover Viewed"}]};var t7=__webpack_require__(59796);function trackUserPopoverViewed(){(0,t8.K)(t6,{chessTitle:tZ.U.user.chessTitle,isGuest:tZ.U.user.isGuest,isNewPopover:!0,isStaff:tZ.U.user.isStaff,isStreamer:tZ.U.user.isStreamer,isTopBlogger:tZ.U.user.isTopBlogger,location:t7.c?.getUserPopoverLocation?.()||tZ.U.location,membership:tZ.U.user.membership.name,selfOrOther:tZ.U.user.userId===window.context?.user?.id?"self":"other"})}var ne=__webpack_require__(31681),nt=__webpack_require__(35694);async function showUserPopover({user:e,opponent:n,element:r,location:a="",openProfileInNewWindow:o,openProfileOnSecondClick:i=!1,showRating:s=!0,shouldDisplayAdminActions:l=!1,userIsMutedInChat:c=!1,clubChatIdForModeratorActions:d}){if(!e.isCoach&&!e.isComputer){if(o)return void window.open(v.A.generate("web_member_view",{username:e.username}),"_blank");if(i&&tZ.U.userPopoverTriggerElement===r&&tZ.U.show){window.location.href=v.A.generate("web_member_view",{username:e.username});return}tZ.U.show&&(0,t3.j)();await (0,t.initController)(()=>__webpack_require__.e(4587).then(__webpack_require__.bind(__webpack_require__,7927)),"#user-popover");tZ.U.userPopoverTriggerElement=r;tZ.U.loading=!0;tZ.U.username=e.username;tZ.U.show=!0;tZ.U.opponent=n;tZ.U.location=a;tZ.U.isOwnPopover=e.username===window.context?.user?.username;tZ.U.shouldDisplayAdminActions=l;tZ.U.userIsMutedInChat=c;tZ.U.clubChatIdForModeratorActions=d;(0,t4.s)();nt.G.emit(ne.g.ShowUserPopover);await fetchUser();if(!tZ.U.userDoesExist){tZ.U.loading=!1;return}tZ.U.isOwnPopover?await fetchPresenceData():await Promise.all([fetchPresenceData(),fetchLifetimeScore()]);tZ.U.showRating=s;tZ.U.user.rating=e.rating??0;tZ.U.user.ratingType=e.ratingType;trackUserPopoverViewed();tZ.U.loading=!1;tZ.U.actionClicked=!1}}var nn=__webpack_require__(6897),nr=__webpack_require__(43455),na=__webpack_require__(70770),no=__webpack_require__(56685),ni=__webpack_require__(91140),ns=(0,k.defineComponent)({__name:"cc-user-block-with-popover",props:{country:{},currentRoute:{},customUrl:{},flair:{},membership:{default:tz.x.basic},rating:{},ratingType:{},clickBehavior:{default:"openProfile"},hasUserPopover:{type:Boolean,default:!0},userPopoverLocation:{},showPremiumBadge:{type:Boolean,default:!0},size:{default:"small"},title:{},tooltipPosition:{},username:{default:""},variant:{default:"default"}},emits:["log-action"],setup(e){let t=e,{features:n}=(0,L.NB)(),r=(0,k.computed)(()=>t.userPopoverLocation||t.currentRoute),a=(0,k.computed)(()=>t.membership??tz.x.basic),o=!n.includes("web_hide_user_block_badges")||window.chesscom?.settings?.["gameplay.show_membership_badges"],i=(0,k.computed)(()=>!t.title&&t.showPremiumBadge&&a.value&&o);function showPopover(e){t.hasUserPopover&&window.chesscom.analysis?.gameType!=="coach"&&window.chesscom.analysis?.gameType!=="computer"&&showUserPopover({user:{username:t.username,rating:t.rating,ratingType:t.ratingType},opponent:window.context.user,element:e.target,location:r.value,openProfileInNewWindow:e.ctrlKey||e.metaKey})}return(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(["cc-user-block-component",`cc-user-block-${e.variant}`,`cc-user-block-${e.size}`])},[e.title?((0,k.openBlock)(),(0,k.createBlock)(no.A,{key:0,"is-clickable":"none"!==e.clickBehavior&&"badgeAsLink"!==e.clickBehavior,size:e.size,title:e.title,"tooltip-position":e.tooltipPosition},null,8,["is-clickable","size","title","tooltip-position"])):(0,k.createCommentVNode)("",!0),n[3]||(n[3]=(0,k.createTextVNode)()),i.value?((0,k.openBlock)(),(0,k.createBlock)(nr.A,{key:1,"is-clickable":"none"!==e.clickBehavior,"current-route":e.currentRoute,membership:a.value,size:e.size,"tooltip-position":e.tooltipPosition},null,8,["is-clickable","current-route","membership","size","tooltip-position"])):(0,k.createCommentVNode)("",!0),n[4]||(n[4]=(0,k.createTextVNode)()),(0,k.createVNode)(ni.A,{"data-test-element":"user-tagline-username",class:"cc-user-block-username","click-behavior":"none","custom-url":e.customUrl,username:e.username,variant:e.variant,size:e.size,onClick:n[0]||(n[0]=e=>showPopover(e)),onLogAction:n[1]||(n[1]=e=>t.$emit("log-action",e))},null,8,["custom-url","username","variant","size"]),n[5]||(n[5]=(0,k.createTextVNode)()),e.rating?((0,k.openBlock)(),(0,k.createBlock)(na.A,{key:2,"data-test-element":"user-tagline-rating",rating:e.rating,size:e.size,variant:e.variant},null,8,["rating","size","variant"])):(0,k.createCommentVNode)("",!0),n[6]||(n[6]=(0,k.createTextVNode)()),e.country?((0,k.openBlock)(),(0,k.createBlock)(nn.A,{key:3,code:e.country.code,"is-clickable":"none"!==e.clickBehavior,name:e.country.name,size:e.size,"tooltip-position":e.tooltipPosition},null,8,["code","is-clickable","name","size","tooltip-position"])):(0,k.createCommentVNode)("",!0),n[7]||(n[7]=(0,k.createTextVNode)()),e.flair?((0,k.openBlock)(),(0,k.createBlock)(tP.A,{key:4,flair:e.flair,"membership-level":a.value,size:e.size,"tooltip-position":e.tooltipPosition,onLogAction:n[2]||(n[2]=e=>t.$emit("log-action",e))},null,8,["flair","membership-level","size","tooltip-position"])):(0,k.createCommentVNode)("",!0),n[8]||(n[8]=(0,k.createTextVNode)()),(0,k.renderSlot)(t.$slots,"default")],2))}}),nl=__webpack_require__(11305),nc=__webpack_require__(57140);let nd=["textContent"],nu=["textContent"];var nh=(0,k.defineComponent)({__name:"message-row",props:{archiveTooltipText:{},avatarUrl:{},href:{},messageContent:{},messageIsNew:{type:Boolean},messageCanBeHidden:{type:Boolean},messageCreationDate:{},shouldDisplayUserPopover:{type:Boolean},username:{}},emits:["archiveMessage"],setup(e){let t=window.context.route,n=(0,k.computed)(()=>(0,tF.F)(e.messageContent));return(r,a)=>((0,k.openBlock)(),(0,k.createBlock)((0,k.resolveDynamicComponent)(e.href?"a":"div"),{href:e.href,class:(0,k.normalizeClass)(r.$style.wrapper)},{default:(0,k.withCtx)(()=>[(0,k.createVNode)(tD.A,{src:e.avatarUrl,username:e.username,size:32},null,8,["src","username"]),a[6]||(a[6]=(0,k.createTextVNode)()),(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(r.$style.message)},[(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(r.$style.row)},[e.shouldDisplayUserPopover?((0,k.openBlock)(),(0,k.createBlock)(ns,{key:0,"current-route":(0,k.unref)(t),username:e.username,class:(0,k.normalizeClass)(r.$style.text)},null,8,["current-route","username","class"])):((0,k.openBlock)(),(0,k.createBlock)(nl.A,{key:1,"click-behavior":"none","current-route":(0,k.unref)(t),username:e.username,class:(0,k.normalizeClass)(r.$style.text)},null,8,["current-route","username","class"])),a[1]||(a[1]=(0,k.createTextVNode)()),e.messageCreationDate?((0,k.openBlock)(),(0,k.createElementBlock)("p",{key:2,class:(0,k.normalizeClass)(["cc-text-small",r.$style["message-content"],r.$style["date-sent"],{[r.$style["new-message"]]:e.messageIsNew}]),textContent:(0,k.toDisplayString)((0,k.unref)(nc.Yq).relative(e.messageCreationDate))},null,10,nd)):(0,k.createCommentVNode)("",!0),a[2]||(a[2]=(0,k.createTextVNode)()),e.messageCanBeHidden?((0,k.openBlock)(),(0,k.createBlock)(tx.A,{key:3,size:"x-small",class:(0,k.normalizeClass)(r.$style["close-button"]),icon:{name:"mark-cross",variant:"glyph"},"icon-size":16,onClick:a[0]||(a[0]=(0,k.withModifiers)(()=>r.$emit("archiveMessage"),["stop","prevent"]))},null,8,["class"])):(0,k.createCommentVNode)("",!0),a[3]||(a[3]=(0,k.createTextVNode)()),(0,k.createVNode)(I.A,{text:e.archiveTooltipText,"for-previous-element":""},null,8,["text"])],2),a[5]||(a[5]=(0,k.createTextVNode)()),(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(r.$style.row)},[n.value?((0,k.openBlock)(),(0,k.createElementBlock)("p",{key:0,class:(0,k.normalizeClass)([r.$style["message-content"],{"cc-text-small":!e.messageIsNew,"cc-text-small-bold":e.messageIsNew,[r.$style["new-message"]]:e.messageIsNew}])},[(0,k.createVNode)(tL,{"model-value":e.messageContent},null,8,["model-value"])],2)):((0,k.openBlock)(),(0,k.createElementBlock)("p",{key:1,class:(0,k.normalizeClass)([r.$style["message-content"],{"cc-text-small":!e.messageIsNew,"cc-text-small-bold":e.messageIsNew,[r.$style["new-message"]]:e.messageIsNew}]),textContent:(0,k.toDisplayString)(e.messageContent)},null,10,nu)),a[4]||(a[4]=(0,k.createTextVNode)()),e.messageIsNew?((0,k.openBlock)(),(0,k.createElementBlock)("div",{key:2,class:(0,k.normalizeClass)(r.$style["new-message-badge"])},null,2)):(0,k.createCommentVNode)("",!0)],2)],2)]),_:1},8,["href","class"]))}});let np={};np.$style={wrapper:"message-row-wrapper","close-button":"message-row-close-button","date-sent":"message-row-date-sent",message:"message-row-message",row:"message-row-row",text:"message-row-text","message-content":"message-row-message-content","new-message":"message-row-new-message","new-message-badge":"message-row-new-message-badge"};var nm=(0,C.A)(nh,[["__cssModules",np]]),nf=(0,k.defineComponent)({__name:"message-skeleton",setup:e=>(e,t)=>((0,k.openBlock)(),(0,k.createBlock)(eG.A,{class:(0,k.normalizeClass)(e.$style.skeleton),columns:250,rows:34,"row-height":"0.1rem","column-width":"0.1rem",items:["1 / 1 / 33 / 33","1 / 40 / 17 / 135","18 / 40 / 33 / 250"]},null,8,["class"]))});let ng={};ng.$style={skeleton:"message-skeleton-skeleton"};var nb=(0,C.A)(nf,[["__cssModules",ng]]);let n_=15;function getInactiveChatCount(){return N.a.isDataReady(tU.chatList.dataSync)?tU.chatList.dataSync.state.inactiveChatsCounter:tU.chatList.dataSync}function getInbox(){return N.a.isDataReady(tU.inboxMessages.dataSync)?tU.inboxMessages.dataSync.slice(0,n_):tU.inboxMessages.dataSync}function getNewChatMessageCount(e=!0){return e?N.a.isDataReady(tU.chatList.dataSync)?tU.chatList.dataSync.state.newMessages:tU.chatList.dataSync:new Promise(async e=>{e((await tU.chatList.data).state.newMessages)})}function computeMessageCount(e){return e.filter(e=>e.new_messages_count>0).length}function getNewMessageCount(e=!0){return e?N.a.isDataReady(tU.inboxMessages.dataSync)?computeMessageCount(tU.inboxMessages.dataSync):tU.inboxMessages.dataSync:new Promise(async e=>{e(computeMessageCount(await tU.inboxMessages.data))})}var nE=__webpack_require__(72365),nw=__webpack_require__(52680),nv=__webpack_require__(92932);function trackMessagesSubMenuChatClicked(e){let t=e?.map(e=>(0,j.q)(nv.Rs,{contactRelationshipType:nE.rV.UNSPECIFIED,relationshipType:e9._c.UNSPECIFIED,presenceStatus:nw.O7.UNSPECIFIED,userId:e}));(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"chat_message"}),t)}function trackMessagesSubMenuChatTabClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"chat_tab"}))}function trackMessagesSubMenuDeleteChatButtonClicked(e){let t=e?.map(e=>(0,j.q)(nv.Rs,{contactRelationshipType:nE.rV.UNSPECIFIED,relationshipType:e9._c.UNSPECIFIED,presenceStatus:nw.O7.UNSPECIFIED,userId:e}));(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"delete_chat"}),t)}function trackMessagesSubMenuDeleteMessageButtonClicked(e){let t=(0,j.q)(nv.Rs,{contactRelationshipType:nE.rV.UNSPECIFIED,relationshipType:e9._c.UNSPECIFIED,presenceStatus:nw.O7.UNSPECIFIED,userId:e});(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"delete_message"}),[t])}function trackMessagesSubMenuMarkChatsReadButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"mark_all_chats_as_read"}))}function trackMessagesSubMenuMarkMessagesReadButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"mark_all_messages_as_read"}))}function trackMessagesSubMenuMessagePreviewClicked(e){let t=(0,j.q)(nv.Rs,{contactRelationshipType:nE.rV.UNSPECIFIED,relationshipType:e9._c.UNSPECIFIED,presenceStatus:nw.O7.UNSPECIFIED,userId:e});(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"message_preview"}),[t])}function trackMessagesSubMenuMessagesTabClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"messages_tab"}))}function trackMessagesSubMenuNewChatButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"create_new_chat"}))}function trackMessagesSubMenuNewMessageButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"create_new_message"}))}function trackMessagesSubMenuSeeAllChatsButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.CHAT,interface:"messages_hub",element:"see_inactive_chats"}))}function trackMessagesSubMenuSeeAllMessagesButtonClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.MESSAGE,interface:"messages_hub",element:"see_all_messages"}))}var nk=(0,k.defineComponent)({__name:"messages-sub-menu-controller",setup(e){let t=(0,k.ref)("messages"),n=(0,k.computed)(()=>getInbox()),r=(0,k.computed)(()=>getNewMessageCount()),a=(0,k.computed)(()=>getChats()),o=(0,k.computed)(()=>getNewChatMessageCount()),i=(0,k.computed)(()=>getInactiveChatCount()),s=(0,k.computed)(()=>getInactiveChatsAreVisible());function changeTab(e){t.value=e;"chat"===e?trackMessagesSubMenuChatTabClicked():"messages"===e&&trackMessagesSubMenuMessagesTabClicked()}function handleArchiveMessage(e,t){archiveMessage(e);trackMessagesSubMenuDeleteMessageButtonClicked(t)}function handleMarkAllAsRead(){if("messages"===t.value){markAllMessagesAsRead();trackMessagesSubMenuMarkMessagesReadButtonClicked()}else{markAllChatsAsRead();trackMessagesSubMenuMarkChatsReadButtonClicked()}}function handleOpenChat(e){e.open();trackMessagesSubMenuChatClicked("club"!==e.type?e.usersIds:void 0)}function handleArchiveChat(e){trackMessagesSubMenuDeleteChatButtonClicked("club"!==e.type?e.usersIds:void 0);(e.isDirectChat()||e.isGroupChat()||e.isClubChat())&&deactivateChat(e)}function handleCreateNewChat(){createNewChat();trackMessagesSubMenuNewChatButtonClicked()}function handleViewAllChats(){displayInactiveChats();trackMessagesSubMenuSeeAllChatsButtonClicked()}return(0,k.onBeforeMount)(async()=>{let e=await getNewMessageCount(!1),t=await getNewChatMessageCount(!1);0===e&&0!==t&&changeTab("chat")}),(e,l)=>((0,k.openBlock)(),(0,k.createBlock)(eJ,null,{tabs:(0,k.withCtx)(()=>[(0,k.createVNode)(eZ.A,{variant:"secondary"},{default:(0,k.withCtx)(()=>[(0,k.createVNode)(eW.A,{id:"messages",label:e.$trans("Messages"),onClick:changeTab,"is-active":"messages"===t.value},{default:(0,k.withCtx)(()=>[(0,k.unref)(N.a).isDataReady(r.value)?((0,k.openBlock)(),(0,k.createBlock)(P,{key:0,label:r.value},null,8,["label"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["label","is-active"]),l[0]||(l[0]=(0,k.createTextVNode)()),(0,k.createVNode)(eW.A,{id:"chat",label:e.$trans("Chat"),onClick:changeTab,"is-active":"chat"===t.value},{default:(0,k.withCtx)(()=>[(0,k.unref)(N.a).isDataReady(o.value)?((0,k.openBlock)(),(0,k.createBlock)(P,{key:0,label:o.value},null,8,["label"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["label","is-active"])]),_:1})]),actions:(0,k.withCtx)(()=>["messages"===t.value?((0,k.openBlock)(),(0,k.createBlock)(eP.A,{key:0,href:(0,k.unref)(v.A).generate("web_message_compose"),size:"small",variant:"ghost",icon:{name:"mark-plus",variant:"glyph"},label:e.$trans("New Message"),onClick:(0,k.unref)(trackMessagesSubMenuNewMessageButtonClicked)},null,8,["href","label","onClick"])):(0,k.createCommentVNode)("",!0),l[3]||(l[3]=(0,k.createTextVNode)()),"chat"===t.value?((0,k.openBlock)(),(0,k.createBlock)(eP.A,{key:1,size:"small",variant:"ghost",icon:{name:"mark-plus",variant:"glyph"},label:e.$trans("New Chat"),onClick:handleCreateNewChat},null,8,["label"])):(0,k.createCommentVNode)("",!0),l[4]||(l[4]=(0,k.createTextVNode)()),(0,k.createVNode)(tx.A,{size:"small",icon:{name:"mark-check-double",variant:"glyph"},"icon-size":16,tooltip:e.$trans("Mark all as read"),disabled:"messages"===t.value?!r.value:!o.value,onClick:handleMarkAllAsRead},null,8,["tooltip","disabled"])]),default:(0,k.withCtx)(()=>[l[5]||(l[5]=(0,k.createTextVNode)()),(0,k.createVNode)(ej.A,{id:"messages",class:(0,k.normalizeClass)(e.$style.panel),"is-active":"messages"===t.value},{default:(0,k.withCtx)(()=>[(0,k.unref)(N.a).isDataError(n.value)?((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:0,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"circle-hollow-exclamation",variant:"glyph"},"icon-size":48,header:e.$trans("Unable to Load Messages"),subheader:e.$trans("Please refresh and try again")},null,8,["class","header","subheader"])):(0,k.unref)(N.a).isDataReady(n.value)?n.value.length>0?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:2},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(n.value,t=>((0,k.openBlock)(),(0,k.createBlock)(nm,{"message-can-be-hidden":"",key:t.last_message_id,"avatar-url":t.user_avatar_url,username:t.user.username,"archive-tooltip-text":e.$trans("Archive"),"message-content":t.last_message_content,"message-is-new":t.new_messages_count>0,"message-creation-date":new Date(t.last_message_created_at),href:(0,k.unref)(v.A).generate("web_message_thread",{username:t.user.username}),"should-display-user-popover":"",onArchiveMessage:()=>handleArchiveMessage(t.user.username,t.user.uuid),onClick:()=>(0,k.unref)(trackMessagesSubMenuMessagePreviewClicked)(t.user.uuid)},null,8,["avatar-url","username","archive-tooltip-text","message-content","message-is-new","message-creation-date","href","onArchiveMessage","onClick"]))),128)),l[1]||(l[1]=(0,k.createTextVNode)()),n.value.length>=(0,k.unref)(n_)?((0,k.openBlock)(),(0,k.createBlock)(eP.A,{key:0,variant:"ghost",size:"small",class:(0,k.normalizeClass)(e.$style["see-all-messages-button"]),href:(0,k.unref)(v.A).generate("web_message_index"),label:e.$trans("See All Messages"),onClick:(0,k.unref)(trackMessagesSubMenuSeeAllMessagesButtonClicked)},null,8,["class","href","label","onClick"])):(0,k.createCommentVNode)("",!0)],64)):((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:3,icon:{name:"message-envelope-fill",variant:"glyph"},"icon-size":48,class:(0,k.normalizeClass)(e.$style["empty-state"]),header:e.$trans("No Messages"),subheader:e.$trans("Messages will appear here")},null,8,["class","header","subheader"])):((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:1},(0,k.renderList)(3,e=>(0,k.createVNode)(nb,{key:e})),64))]),_:1},8,["class","is-active"]),l[6]||(l[6]=(0,k.createTextVNode)()),(0,k.createVNode)(ej.A,{id:"chat",class:(0,k.normalizeClass)(e.$style.panel),"is-active":"chat"===t.value},{default:(0,k.withCtx)(()=>[(0,k.unref)(N.a).isDataReady(a.value)&&(0,k.unref)(N.a).isDataReady(i.value)&&(0,k.unref)(N.a).isDataReady(s.value)?a.value.length>0||s.value&&i.value>0?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:1},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(a.value,t=>((0,k.openBlock)(),(0,k.createBlock)(nm,{key:t.id,"avatar-url":t.avatarUrl,"archive-tooltip-text":e.$trans("Hide"),username:t.name,"message-can-be-hidden":t.isActive,"message-content":(0,k.unref)(tB.CN)(t.lastMessageText),"message-is-new":t.getNewMessagesCounter()>0,"message-creation-date":t.lastMessageTimestamp?new Date(t.lastMessageTimestamp):null,"should-display-user-popover":t.isDirectChat(),onArchiveMessage:()=>handleArchiveChat(t),onClick:()=>handleOpenChat(t)},null,8,["avatar-url","archive-tooltip-text","username","message-can-be-hidden","message-content","message-is-new","message-creation-date","should-display-user-popover","onArchiveMessage","onClick"]))),128)),l[2]||(l[2]=(0,k.createTextVNode)()),s.value?(0,k.createCommentVNode)("",!0):((0,k.openBlock)(),(0,k.createBlock)(eP.A,{key:0,size:"small",variant:"ghost",class:(0,k.normalizeClass)(e.$style["see-all-chats-button"]),label:e.$trans("View All Chats"),onClick:handleViewAllChats},null,8,["class","label"]))],64)):((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:2,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"message-bubble-fill-left",variant:"glyph"},"icon-size":48,header:e.$trans("No Recent Chats"),subheader:e.$trans("New chats will appear here")},{default:(0,k.withCtx)(()=>[(0,k.createVNode)(eP.A,{variant:"secondary",size:"small",class:(0,k.normalizeClass)(e.$style["empty-state-button"]),label:e.$trans("View All Chats"),onClick:handleViewAllChats},null,8,["class","label"])]),_:1},8,["class","header","subheader"])):((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:0},(0,k.renderList)(3,e=>(0,k.createVNode)(nb,{key:e})),64))]),_:1},8,["class","is-active"]),l[7]||(l[7]=(0,k.createTextVNode)())]),_:1}))}});let nS={};nS.$style={panel:"messages-sub-menu-controller-panel","see-all-messages-button":"messages-sub-menu-controller-see-all-messages-button","see-all-chats-button":"messages-sub-menu-controller-see-all-chats-button","empty-state":"messages-sub-menu-controller-empty-state","empty-state-button":"messages-sub-menu-controller-empty-state-button"};var ny=(0,C.A)(nk,[["__cssModules",nS]]);let nA=(0,t.createClient)({async init(){await this.loadResources();this.listenForCountUpdates();createNavbarSubMenuClient(getDesktopInteractionSelectorFor("messages"),ny,{interactionType:"click",onUnmount:this.onUnmount,placement:()=>getNavbarIsCollapsed()?tm:tf});createToolbarSubMenuClient(getMobileInteractionSelectorFor("messages"),ny,{onUnmount:this.onUnmount})},onUnmount(){getInactiveChatsAreVisible()&&hideInactiveChats()},async loadResources(){return this.prepareChat(),loadInbox()},listenForCountUpdates(){(0,k.watch)(()=>getNewMessageCount(),updateFooterBadge,{immediate:!0});(0,k.watch)(()=>getNewChatMessageCount(),updateFooterBadge,{immediate:!0});let e=window.chesscom?.navigation?.dynamicStateEmitter;e&&e.on(tC.messageRead,({user:e})=>{let t=tU.inboxMessages.dataSync;if(N.a.isDataReady(t)){let n=t.find(t=>t.user.username===e);n&&(n.new_messages_count=0)}})},async prepareChat(){if(window.chesscom.chatList)return handleLoadChat();window.addEventListener("message",onWindowMessage)}});async function onWindowMessage({data:e}){if(e?.key===tV.CHAT_LIST_LOADED){await handleLoadChat();window.removeEventListener("message",onWindowMessage)}}async function handleLoadChat(){await loadChat(window.chesscom.chatList);delete window.chesscom.chatList}function updateFooterBadge(){let e=getNewMessageCount(),t=getNewChatMessageCount();if(N.a.isDataReady(e)||N.a.isDataReady(t))updateFooterBadgeCount("messages",(N.a.isDataReady(e)?e:0)+(N.a.isDataReady(t)?t:0))}function getTotalSeconds(e){let t=Date.now();return Math.floor((new Date(e).getTime()-t)/1e3)}function formatTimer(e){if(e<=0)return"00h : 00m : 00s";let t=String(Math.floor(e/3600)).padStart(2,"0"),n=String(Math.floor(e%3600/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");return`${t}h : ${n}m : ${r}s`}function updateCountdown(e,t,n){let r=getTotalSeconds(t);e.textContent=formatTimer(r);r<=172800&&(e.style.display="block");r<=0&&n&&n?.()}function resolveTemplateFromFreeTrial(e){return e?e.promotion?.template?e.promotion?.template:e.promotion?"INCENTIVE_TEMPLATE_UNSPECIFIED":"INCENTIVE_TEMPLATE_BAU":"INCENTIVE_TEMPLATE_UNSPECIFIED"}let nN=(()=>{if(window.chesscom?.features?.includes("payments_offered_incentive_refactor"))return window.context.monetization.offeredIncentive;let e=window.context.freeTrial;if(e)return{freeTime:e.promotion?.duration??e.duration,discountPercentage:e.promotion?.discount,template:resolveTemplateFromFreeTrial(e),expiresAt:e.promotion?.expiresAt}})(),nR=(0,t.createClient)({async init(){let e=getDesktopInteractionSelectorFor("monetization-countdown"),t=nN?.expiresAt;t&&((e,t)=>{let n=document.querySelector(e);if(!n||!t)return;updateCountdown(n,t);let r=setInterval(()=>{updateCountdown(n,t,()=>clearInterval(r))},1e3)})(e,t)}});function expandNavbar(){ew.navbar?.setAttribute(eg.navbarIsExpanded,"");window.dispatchEvent(makeResizeEvent())}let nC=(0,t.createClient)({init(){ew.expandButton?.addEventListener("click",expandNavbar);ew.collapseButton?.addEventListener("click",collapseNavbar);ew.contentShroud?.addEventListener("click",collapseNavbar);this.watchNavbarCollapsedState()},watchNavbarCollapsedState(){let e=getNavbarElement();e&&new ResizeObserver(()=>{ew.navbarIsCollapsed=calculateNavbarCollapsedNonReactively()}).observe(e)}});var nV=__webpack_require__(50190),nT=__webpack_require__(17084);function getAlerts(){return(0,nT.x)(n)}function getAlertsCount(){let e=getAlerts();return null===e?null:e.reduce((e,t)=>e+t.notifications.length,0)}var nU=__webpack_require__(32210),nI=__webpack_require__(39086),nx=__webpack_require__(75426);async function acceptAlert(e){let{group:t,index:n}=(0,nI.K)(e);if(t&&-1!==n)try{t.notifications.splice(n,1);let r=getEndpoint(e);if(!r)throw Error("No accept endpoint found for alert type");await w.A.post(r)}catch(r){(0,nx.H)(r);t.notifications.splice(n,0,e)}}function getEndpoint(e){return e.alertType===i.f.GROUP_REQUEST?v.A.generate("web_club_callback_manage_user_group_request",{id:e.contentId,username:e.username,action:"approve"}):null}var nB=__webpack_require__(97485);async function clearAllAlerts(){try{await w.A.post(v.A.generate("web_alert_callback_ignore_all"));nU.p.notifications=[]}catch(e){(0,nx.H)(e)}}function hasError(){return"failed"===nU.p.loaded}var nF=__webpack_require__(66952);let nM={key:2};var nO=(0,k.defineComponent)({__name:"notifications-sub-menu-controller",setup(e){let t=(0,k.computed)(getAlerts),n=(0,k.computed)(hasError);return(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(eJ,{"min-height":""},{actions:(0,k.withCtx)(()=>[(0,k.createVNode)(eP.A,{size:"small",variant:"ghost",href:(0,k.unref)(v.A).generate("web_user_settings_notifications"),icon:{name:"utility-cogwheel",variant:"glyph"},label:e.$trans("Notification Settings")},null,8,["href","label"]),r[1]||(r[1]=(0,k.createTextVNode)()),(0,k.createVNode)(tx.A,{size:"small",disabled:!t.value?.length,icon:{name:"mark-check-double",variant:"glyph"},"icon-size":16,tooltip:e.$trans("Clear All Notifications"),onClick:(0,k.unref)(clearAllAlerts)},null,8,["disabled","tooltip","onClick"])]),default:(0,k.withCtx)(()=>[n.value?((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:0,"icon-size":48,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"circle-hollow-exclamation",variant:"glyph"},header:e.$trans("Unable to Load Notifications"),subheader:e.$trans("Please refresh and try again")},null,8,["class","header","subheader"])):null==t.value?((0,k.openBlock)(),(0,k.createElementBlock)("div",{key:1,class:(0,k.normalizeClass)(e.$style.skeletons)},[((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(6,e=>(0,k.createVNode)(eG.A,{key:e,rows:32,columns:160,"column-width":"0.1rem","row-height":"0.1rem",items:["1 / 1 / 33 / 33","1 / 40 / 15 / 161","20 / 40 / 33 / 101"]})),64))],2)):((0,k.openBlock)(),(0,k.createElementBlock)("div",nM,[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(t.value,e=>((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:e.type.id},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.notifications,e=>((0,k.openBlock)(),(0,k.createBlock)(nF.A,{key:e.alertId,alert:e,onClear:(0,k.unref)(nB.y),onAccept:(0,k.unref)(acceptAlert)},null,8,["alert","onClear","onAccept"]))),128))],64))),128)),r[0]||(r[0]=(0,k.createTextVNode)()),t.value?.length?(0,k.createCommentVNode)("",!0):((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:0,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"media-bell-fill",variant:"glyph"},"icon-size":48,header:e.$trans("You're All Caught Up!"),subheader:e.$trans("Notifications about clubs, players you follow, and more will appear here")},null,8,["class","header","subheader"]))])),r[2]||(r[2]=(0,k.createTextVNode)())]),_:1}))}});let nL={};nL.$style={"empty-state":"notifications-sub-menu-controller-empty-state",skeletons:"notifications-sub-menu-controller-skeletons"};var nD=(0,C.A)(nO,[["__cssModules",nL]]);let nz=(0,t.createClient)({async init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("notifications"),nD,{interactionType:"click",placement:()=>{let e=this.calculateNotificationsStaticOffsets();return getNavbarIsCollapsed()?{type:"dynamic",growDirection:"up",onParentSide:"right",staticOffsets:e}:{type:"dynamic",growDirection:"up",onParentSide:"top",stopGrowingAtDirectionBoundary:!0,staticOffsets:e}}});createToolbarSubMenuClient(getMobileInteractionSelectorFor("notifications"),nD);this.startup()},calculateNotificationsStaticOffsets(){let e=getNavbarIsCollapsed(),t=e?document.querySelector(tm.anchorPoint):document.querySelector(tf.anchorPoint),n=getNavbarElement(),r=(0,eS.P)(),a=e?tm.offsets.vertical:tf.offsets.vertical,o=e?tm.offsets.horizontal:tf.offsets.horizontal,i=document.querySelector(getDesktopInteractionSelectorFor("notifications"));if(!n||!t||!i)return{};let s=10*Number.parseFloat(window.getComputedStyle(n).getPropertyValue("--space-8")),l=t.getBoundingClientRect(),c=i.getBoundingClientRect(),d=e?l.height-(c.top-l.top)+a:-1*c.top+l.top+a,u=e?o:l.left-s+o;return{top:d,[r&&!e?"right":"left"]:u}},startup(){(0,k.watch)(getAlertsCount,e=>{null!==e&&updateFooterBadgeCount("notifications",e)});window.addEventListener("message",({data:e})=>{if(e?.key===nV.AZ.HIDE_FRIEND_REQUEST){let t=nU.p.notifications?.find(e=>e.type.id===i.f.FRIEND_REQUEST);t&&(t.notifications=t.notifications.filter(t=>t.userId!==e.id))}})}});var nP=(0,k.defineComponent)({__name:"other-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("other"));return(e,n)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Other")},{default:(0,k.withCtx)(()=>[t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});let nG={};nG.$style={"header-text":"other-sub-menu-controller-header-text"};var nZ=(0,C.A)(nP,[["__cssModules",nG]]);let nW=(0,t.createClient)({init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("other"),nZ,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"}});createNavbarSubMenuClient(getMobileInteractionSelectorFor("other"),nZ,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})}});function provideManagedAction(e,n){window.chesscom.interop??={};let r={emitter:(0,t.createQueuedEmitter)(),results:{}};r.emitter.on("fireEvent",async e=>{let t=n(...e.params);r.results[e.requestId]=t});window.chesscom.interop[e]=r}let nj=(0,k.reactive)({pinnedTabs:[],favoritedTabs:[],unfavoritedTabs:[]}),nY=["play","puzzles","learn","train","watch","community","other"],nH=["play"];function tabIsPermanentPin(e){return nY.includes(e)}function tabIsPermanentFavorite(e){return nH.includes(e)}function generatePrimaryTab(e){let t=document.querySelector("#template-sub-menu-link");if(!t)throw Error("Could not generate primary link; template element does not exist.");let n=t.content.firstElementChild.outerHTML?.replaceAll("TEMPLATE#pin",e.id)?.replaceAll("TEMPLATE#interaction",e.id)?.replaceAll("TEMPLATE#title",e.label)?.replaceAll("TEMPLATE#href",e.url)?.replaceAll("TEMPLATE#icon-name",e.icon.name)?.replaceAll("TEMPLATE#icon-class",e.icon.class??"")?.replaceAll("TEMPLATE#override-url",e.icon.override_url??""),r=document.createElement("template");r.innerHTML=(0,tB.lJ)(n);let a=r.content.firstElementChild;return a.querySelectorAll(`[${eg.isOverrideImg}]`).forEach(t=>{if(e.icon.override_url){t.style.removeProperty("display");t.setAttribute("src",e.icon.override_url)}else t.style.setProperty("display","none")}),a.querySelectorAll(`[${eg.isIconImg}]`).forEach(t=>{e.icon.override_url?t.style.setProperty("display","none"):t.style.removeProperty("display")}),a.querySelectorAll("[data-src]").forEach(e=>{let t=e.getAttribute("data-src");if(t){e.setAttribute("src",t);e.removeAttribute("data-src")}}),tabIsPermanentFavorite(e.id)||tabIsPermanentPin(e.id)||createMenuHintClientFor(e.id,a.querySelector(getDesktopInteractionSelectorFor(e.id)),a.querySelector(getMobileInteractionSelectorFor(e.id))),a}function readCacheOrGenerateTab(e,t){if(t in e)return e[t];let n=getNavigationMenuConfigFor(t);if(n)return generatePrimaryTab(n)}function handleRedrawNav(e){let t=Object.fromEntries(nj.pinnedTabs.map(e=>[e,document.querySelector(`[${eg.pinName}="${e}"]`)])),n=e.favorites.map(e=>readCacheOrGenerateTab(t,e)),r=e.others.map(e=>readCacheOrGenerateTab(t,e));document.querySelector(e_.favoritedTabs)?.replaceChildren(...n.filter(Boolean));document.querySelector(e_.unfavoritedTabs)?.replaceChildren(...r.filter(Boolean))}function selectPinnedTab(e){return e?document.querySelector(`
      ${e_.favoritedTabs} > [${eg.pinName}="${e}"],
      ${e_.unfavoritedTabs} > [${eg.pinName}="${e}"]
  `):document.querySelectorAll(`
      ${e_.favoritedTabs} > [${eg.pinName}],
      ${e_.unfavoritedTabs} > [${eg.pinName}]
    `)}function selectFavoritedTab(e){return e?document.querySelector(`
      ${e_.favoritedTabs} > [${eg.pinName}="${e}"]
  `):document.querySelectorAll(`
      ${e_.favoritedTabs} > [${eg.pinName}]
    `)}function getPinNamesFromElements(e){let t=[];return e.forEach(e=>{let n=e.getAttribute(eg.pinName);n&&t.push(n)}),t}function loadPinsFromDom(){let e=selectFavoritedTab(),t=document.querySelectorAll(`${e_.unfavoritedTabs} > [${eg.pinName}]`);nj.favoritedTabs=getPinNamesFromElements(e);nj.unfavoritedTabs=getPinNamesFromElements(t);nj.pinnedTabs=[...nj.favoritedTabs,...nj.unfavoritedTabs]}let nX=(0,e1.fileDesc)("CipjaGVzc2NvbS9uYXZpZ2F0aW9uL3YxL3VzZXJfYWN0aXZpdHkucHJvdG8SFmNoZXNzY29tLm5hdmlnYXRpb24udjEiGQoNVXNlck5hdmlnYXRlZDoIwvMYBBACGAEiEwoJQXBwT3BlbmVkOgbC8xgCEAIiEwoJQXBwQ2xvc2VkOgbC8xgCEAIiYAoPTmF2aWdhdGlvbkNsaWNrEkMKCXNlbGVjdGlvbhgBIAEoDjIwLmNoZXNzY29tLm5hdmlnYXRpb24udjEuTmF2aWdhdGlvbkNsaWNrU2VsZWN0aW9uOgjC8xgEEAIYBCJ3ChpOYXZiYXJDb25maWd1cmF0aW9uVXBkYXRlZBIXCg9uYXZpZ2F0aW9uX3BpbnMYASADKAkSHAoUbmF2aWdhdGlvbl9mYXZvcml0ZXMYAiADKAk6IsLzGB4KGk5hdmJhckNvbmZpZ3VyYXRpb25VcGRhdGVkEAIqxyUKGE5hdmlnYXRpb25DbGlja1NlbGVjdGlvbhIqCiZOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9VTlNQRUNJRklFRBAAEjEKIU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX0hFQURFUhABGgra8xgGaGVhZGVyEj4KJk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX0xFQVJOX0NPQUNIEAIaEtrzGA5wbGF5VnNDb2FjaFdlYhJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9MRUFSTl9PUEVOSU5HUxADGhLa8xgObGVhcm4tb3BlbmluZ3MSPwooTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTEVBUk5fTEVTU09OUxAEGhHa8xgNbGVhcm4tbGVzc29ucxIvCiBOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9MRUFSThAFGgna8xgFbGVhcm4SLQofTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTU9SRRAGGgja8xgEbW9yZRI/CihOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX0NIRVNTS0lEEAcaEdrzGA1tb3JlLWNoZXNza2lkEkMKKk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX01PUkVfQ0hFU1NURVJNUxAIGhPa8xgPbW9yZS1jaGVzc3Rlcm1zElcKNE5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX01PUkVfQ09NUFVURVJDSEFNUElPTlNISVAQCRod2vMYGW1vcmUtY29tcHV0ZXJjaGFtcGlvbnNoaXASPwooTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTU9SRV9FWFBMT1JFUhAKGhHa8xgNbW9yZS1leHBsb3JlchI3CiROQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX0dJRlQQCxoN2vMYCW1vcmUtZ2lmdBI9CidOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX0xJQlJBUlkQDBoQ2vMYDG1vcmUtbGlicmFyeRJFCitOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX01BU1RFUkdBTUVTEA0aFNrzGBBtb3JlLW1hc3RlcmdhbWVzEjkKJU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX01PUkVfTUVSQ0gQDhoO2vMYCm1vcmUtbWVyY2gSOQolTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTU9SRV9SVUxFUxAPGg7a8xgKbW9yZS1ydWxlcxI3CiROQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX1NIT1AQEBoN2vMYCW1vcmUtc2hvcBJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX1NPTE9DSEVTUxARGhLa8xgObW9yZS1zb2xvY2hlc3MSQQopTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTU9SRV9SRVNPVVJDRVMQEhoS2vMYDm1vcmUtcmVzb3VyY2VzEjsKJk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX01PUkVfVklTSU9OEBMaD9rzGAttb3JlLXZpc2lvbhJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9NT1JFX1ZPVEVDSEVTUxAUGhLa8xgObW9yZS12b3RlY2hlc3MSPwooTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTkVXU19BUlRJQ0xFUxAVGhHa8xgNbmV3cy1hcnRpY2xlcxJJCi1OQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9ORVdTX0NIRVNTUkFOS0lOR1MQFhoW2vMYEm5ld3MtY2hlc3NyYW5raW5ncxJECipOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9ORVdTX0NIRVNTVE9EQVkQFxoU2vMYEHRvZGF5LWNoZXNzdG9kYXkSNwokTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTkVXU19ORVdTEBgaDdrzGAluZXdzLW5ld3MSQwoqTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fTkVXU19UT1BQTEFZRVJTEBkaE9rzGA9uZXdzLXRvcHBsYXllcnMSLQofTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fUExBWRAaGgja8xgEcGxheRI9CidOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9QTEFZX0FSQ0hJVkUQGxoQ2vMYDHBsYXktYXJjaGl2ZRI/CihOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9QTEFZX0NPTVBVVEVSEBwaEdrzGA1wbGF5LWNvbXB1dGVyEkUKK05BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BMQVlfTEVBREVSQk9BUkQQHRoU2vMYEHBsYXktbGVhZGVyYm9hcmQSNwokTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fUExBWV9QTEFZEB4aDdrzGAlwbGF5LXBsYXkSRQorTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fUExBWV9UT1VSTkFNRU5UUxAfGhTa8xgQcGxheS10b3VybmFtZW50cxI/CihOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9QTEFZX1ZBUklBTlRTECAaEdrzGA1wbGF5LXZhcmlhbnRzEjMKIk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BVWlpMRVMQIRoL2vMYB3B1enpsZXMSQQopTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fUFVaWkxFU19DVVNUT00QIhoS2vMYDnB1enpsZXMtY3VzdG9tEksKLk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BVWlpMRVNfREFJTFlQVVpaTEUQIxoX2vMYE3B1enpsZXMtZGFpbHlwdXp6bGUSTQovTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fUFVaWkxFU19QVVpaTEVCQVRUTEUQJBoY2vMYFHB1enpsZXMtcHV6emxlYmF0dGxlEkkKLU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BVWlpMRVNfUFVaWkxFUlVTSBAlGhba8xgScHV6emxlcy1wdXp6bGVydXNoEkYKKE5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BVWlpMRVNfUkFURUQQJhoY2vMYFHB1enpsZXMtcmF0ZWRwdXp6bGVzEjEKIU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NPQ0lBTBAnGgra8xgGc29jaWFsEj0KJ05BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NPQ0lBTF9CTE9HUxAoGhDa8xgMc29jaWFsLWJsb2dzEj0KJ05BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NPQ0lBTF9DTFVCUxApGhDa8xgMc29jaWFsLWNsdWJzEkEKKU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NPQ0lBTF9DT0FDSEVTECoaEtrzGA5zb2NpYWwtY29hY2hlcxI/CihOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TT0NJQUxfRk9SVU1TECsaEdrzGA1zb2NpYWwtZm9ydW1zEkEKKU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NPQ0lBTF9NRU1CRVJTECwaEtrzGA5zb2NpYWwtbWVtYmVycxJPCjBOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfQ09MTEFQU0VFWFBBTkQQLRoZ2vMYFXN1Ym5hdi1jb2xsYXBzZWV4cGFuZBJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfRlJJRU5EUxAuGhLa8xgOc3VibmF2LWZyaWVuZHMSQQopTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fU1VCTkFWX1BST0ZJTEUQLxoS2vMYDnN1Ym5hdi1wcm9maWxlEjsKJk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NVQk5BVl9IRUxQEDAaD9rzGAtzdWJuYXYtaGVscBJNCi9OQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfTUFTVEVSX0FEVklDRRAxGhja8xgUc3VibmF2LW1hc3Rlci1hZHZpY2USQwoqTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fU1VCTkFWX01FU1NBR0VTEDIaE9rzGA9zdWJuYXYtbWVzc2FnZXMSTQovTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fU1VCTkFWX05PVElGSUNBVElPTlMQMxoY2vMYFHN1Ym5hdi1ub3RpZmljYXRpb25zEksKLk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1NVQk5BVl9TRUFSQ0hfRU5URVIQNBoX2vMYE3N1Ym5hdi1zZWFyY2gtZW50ZXISPwooTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fU1VCTkFWX1NFQVJDSBA1GhHa8xgNc3VibmF2LXNlYXJjaBJRCjFOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfU0VUVElOR1NfTE9HT1VUEDYaGtrzGBZzdWJuYXYtc2V0dGluZ3MtbG9nb3V0Ei8KIE5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1RSQUlOEDcaCdrzGAV0cmFpbhJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9UUkFJTl9BTkFMWVNJUxA4GhLa8xgObGVhcm4tYW5hbHlzaXMSQwoqTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fVFJBSU5fQ0hFU1NBQkxFEDkaE9rzGA9sZWFybi1jaGVzc2FibGUSPwooTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fVFJBSU5fQ09VUlNFUxA6GhHa8xgNbGVhcm4tY291cnNlcxJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9UUkFJTl9JTlNJR0hUUxA7GhLa8xgObGVhcm4taW5zaWdodHMSQwoqTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fVFJBSU5fQ0xBU1NST09NEDwaE9rzGA9sZWFybi1jbGFzc3Jvb20SQQopTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fVFJBSU5fRU5ER0FNRVMQPRoS2vMYDmxlYXJuLWVuZGdhbWVzEkEKKU5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1RSQUlOX0FJTUNIRVNTED4aEtrzGA5sZWFybi1haW1jaGVzcxJBCilOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9UUkFJTl9QUkFDVElDRRA/GhLa8xgObGVhcm4tcHJhY3RpY2USLwogTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fV0FUQ0gQQBoJ2vMYBXdhdGNoEj8KKE5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1dBVENIX0NIRVNTVFYQQRoR2vMYDXdhdGNoLWNoZXNzdHYSPQonTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fV0FUQ0hfRVZFTlRTEEIaENrzGAx3YXRjaC1ldmVudHMSRQorTkFWSUdBVElPTl9DTElDS19TRUxFQ1RJT05fV0FUQ0hfUExBWUlOR05PVxBDGhTa8xgQd2F0Y2gtcGxheWluZ25vdxJDCipOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9XQVRDSF9TVFJFQU1FUlMQRBoT2vMYD3dhdGNoLXN0cmVhbWVycxJDCipOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfU0VUVElOR1MQRRoT2vMYD3N1Ym5hdi1zZXR0aW5ncxJJCi1OQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9TVUJOQVZfQVVUSF9BQ1RJT04QRhoW2vMYEnN1Ym5hdi1hdXRoLWFjdGlvbhI5CiVOQVZJR0FUSU9OX0NMSUNLX1NFTEVDVElPTl9QTEFZX1NUQVRTEEcaDtrzGApwbGF5LXN0YXRzEkMKKk5BVklHQVRJT05fQ0xJQ0tfU0VMRUNUSU9OX1BMQVlfUExBWV9DT0FDSBBIGhPa8xgPcGxheS1wbGF5LWNvYWNoYgZwcm90bzM",[ee.HS]),nQ=(0,e1.messageDesc)(nX,3),nJ=(0,e1.messageDesc)(nX,4);var nK=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.HEADER=1]="HEADER",e[e.LEARN_COACH=2]="LEARN_COACH",e[e.LEARN_OPENINGS=3]="LEARN_OPENINGS",e[e.LEARN_LESSONS=4]="LEARN_LESSONS",e[e.LEARN=5]="LEARN",e[e.MORE=6]="MORE",e[e.MORE_CHESSKID=7]="MORE_CHESSKID",e[e.MORE_CHESSTERMS=8]="MORE_CHESSTERMS",e[e.MORE_COMPUTERCHAMPIONSHIP=9]="MORE_COMPUTERCHAMPIONSHIP",e[e.MORE_EXPLORER=10]="MORE_EXPLORER",e[e.MORE_GIFT=11]="MORE_GIFT",e[e.MORE_LIBRARY=12]="MORE_LIBRARY",e[e.MORE_MASTERGAMES=13]="MORE_MASTERGAMES",e[e.MORE_MERCH=14]="MORE_MERCH",e[e.MORE_RULES=15]="MORE_RULES",e[e.MORE_SHOP=16]="MORE_SHOP",e[e.MORE_SOLOCHESS=17]="MORE_SOLOCHESS",e[e.MORE_RESOURCES=18]="MORE_RESOURCES",e[e.MORE_VISION=19]="MORE_VISION",e[e.MORE_VOTECHESS=20]="MORE_VOTECHESS",e[e.NEWS_ARTICLES=21]="NEWS_ARTICLES",e[e.NEWS_CHESSRANKINGS=22]="NEWS_CHESSRANKINGS",e[e.NEWS_CHESSTODAY=23]="NEWS_CHESSTODAY",e[e.NEWS_NEWS=24]="NEWS_NEWS",e[e.NEWS_TOPPLAYERS=25]="NEWS_TOPPLAYERS",e[e.PLAY=26]="PLAY",e[e.PLAY_ARCHIVE=27]="PLAY_ARCHIVE",e[e.PLAY_COMPUTER=28]="PLAY_COMPUTER",e[e.PLAY_LEADERBOARD=29]="PLAY_LEADERBOARD",e[e.PLAY_PLAY=30]="PLAY_PLAY",e[e.PLAY_TOURNAMENTS=31]="PLAY_TOURNAMENTS",e[e.PLAY_VARIANTS=32]="PLAY_VARIANTS",e[e.PUZZLES=33]="PUZZLES",e[e.PUZZLES_CUSTOM=34]="PUZZLES_CUSTOM",e[e.PUZZLES_DAILYPUZZLE=35]="PUZZLES_DAILYPUZZLE",e[e.PUZZLES_PUZZLEBATTLE=36]="PUZZLES_PUZZLEBATTLE",e[e.PUZZLES_PUZZLERUSH=37]="PUZZLES_PUZZLERUSH",e[e.PUZZLES_RATED=38]="PUZZLES_RATED",e[e.SOCIAL=39]="SOCIAL",e[e.SOCIAL_BLOGS=40]="SOCIAL_BLOGS",e[e.SOCIAL_CLUBS=41]="SOCIAL_CLUBS",e[e.SOCIAL_COACHES=42]="SOCIAL_COACHES",e[e.SOCIAL_FORUMS=43]="SOCIAL_FORUMS",e[e.SOCIAL_MEMBERS=44]="SOCIAL_MEMBERS",e[e.SUBNAV_COLLAPSEEXPAND=45]="SUBNAV_COLLAPSEEXPAND",e[e.SUBNAV_FRIENDS=46]="SUBNAV_FRIENDS",e[e.SUBNAV_PROFILE=47]="SUBNAV_PROFILE",e[e.SUBNAV_HELP=48]="SUBNAV_HELP",e[e.SUBNAV_MASTER_ADVICE=49]="SUBNAV_MASTER_ADVICE",e[e.SUBNAV_MESSAGES=50]="SUBNAV_MESSAGES",e[e.SUBNAV_NOTIFICATIONS=51]="SUBNAV_NOTIFICATIONS",e[e.SUBNAV_SEARCH_ENTER=52]="SUBNAV_SEARCH_ENTER",e[e.SUBNAV_SEARCH=53]="SUBNAV_SEARCH",e[e.SUBNAV_SETTINGS_LOGOUT=54]="SUBNAV_SETTINGS_LOGOUT",e[e.TRAIN=55]="TRAIN",e[e.TRAIN_ANALYSIS=56]="TRAIN_ANALYSIS",e[e.TRAIN_CHESSABLE=57]="TRAIN_CHESSABLE",e[e.TRAIN_COURSES=58]="TRAIN_COURSES",e[e.TRAIN_INSIGHTS=59]="TRAIN_INSIGHTS",e[e.TRAIN_CLASSROOM=60]="TRAIN_CLASSROOM",e[e.TRAIN_ENDGAMES=61]="TRAIN_ENDGAMES",e[e.TRAIN_AIMCHESS=62]="TRAIN_AIMCHESS",e[e.TRAIN_PRACTICE=63]="TRAIN_PRACTICE",e[e.WATCH=64]="WATCH",e[e.WATCH_CHESSTV=65]="WATCH_CHESSTV",e[e.WATCH_EVENTS=66]="WATCH_EVENTS",e[e.WATCH_PLAYINGNOW=67]="WATCH_PLAYINGNOW",e[e.WATCH_STREAMERS=68]="WATCH_STREAMERS",e[e.SUBNAV_SETTINGS=69]="SUBNAV_SETTINGS",e[e.SUBNAV_AUTH_ACTION=70]="SUBNAV_AUTH_ACTION",e[e.PLAY_STATS=71]="PLAY_STATS",e[e.PLAY_PLAY_COACH=72]="PLAY_PLAY_COACH",e))(nK||{});let n$="popstate-persisted-nav-config";async function savePins(){let e=v.A.generate("web_user_callback_update_navbar_configuration");loadPinsFromDom();let t={favorites:nj.favoritedTabs,others:nj.unfavoritedTabs};return window.sessionStorage.setItem(n$,JSON.stringify(t)),w.A.post(e,{pins:[...t.favorites,...t.others],favorites:t.favorites})}async function updateNavigationPins(e){loadPinsFromDom();handleRedrawNav(e);await savePins();(0,W.M)((0,j.q)(nJ,{navigationPins:[...e.favorites,...e.others],navigationFavorites:e.favorites}))}let nq=(0,t.createClient)({init(){loadPinsFromDom();provideManagedAction("update-navigation-pins",updateNavigationPins);performance&&performance.getEntriesByType("navigation").some(e=>"back_forward"===e.type)&&this.handleBackwardNavigation()},handleBackwardNavigation(){let e=JSON.parse(window.sessionStorage.getItem(n$)??"null");e&&handleRedrawNav(e)}});var n0=__webpack_require__(77266),n1=__webpack_require__(48427);class n2 extends t.Model{code="";currency_code="";id=0;iso3="";name="";phone_code=0}class n9 extends t.Model{avatar_url="";chess_title=null;country=new n2;create_date="";first_name="";flair=null;flair_code="";id=0;is_enabled=0;is_in_livechess=!1;is_online=!1;last_login_date="";last_name="";main_image_extension="";main_image_hash="";membership_level=0;name="";username=""}class n5 extends t.Model{allowVacation=!1;dailyGame=!1;fen="";flipBoard=!1;gameType="";highlightSquares=null;id=0;isMyTurnToMove=!1;isNameDefault=!1;isTeamMatch=!1;isTournament=!1;isUserToMoveOnVacation=!1;moveCount=0;opponent=new n9;timeLeftDisplay="";title=""}class n3 extends t.Model{code="";encoderName="";id=0;isBughouse=!1;isChess960=!1;isCrazyhouse=!1;isKingOfTheHill=!1;isStandardChess=!1;isThreeCheck=!1;name=""}class n4 extends t.Model{draws=0;losses=0;wins=0}class n8 extends t.Model{0;createDate="";friendship_date="";gameType=new n3;id=0;initialSetup=null;isInLiveChess=!1;isOnline=!1;name="";seekerFlairCode="";seekerUserId=0;seekerUserUuid="";seekerUserImage="";isRecommendedMatch=!1;seeker_chess_title=null;seeker_draw_count=0;seeker_first_name=null;seeker_is_unrated=!1;seeker_last_name=null;seeker_loss_count=0;seeker_membership_level=0;seeker_rating=0;seeker_username="";seeker_win_count=0;wdl=new n4}class n6 extends t.Model{0;c960_opponent_rating=0;c960_opponent_win_count=0;c960_opponent_loss_count=0;c960_opponent_draw_count=0;opponent_username="";opponent_membership_level=0;opponent_rating=0;opponent_win_count=0;opponent_loss_count=0;opponent_draw_count=0;getId(){return this[0].id}}let n7=(0,k.reactive)({dailyGames:(0,t.createCollection)(n5,{key:"id"}),gameSeeks:(0,t.createCollection)(n8,{key:"id"}),seeksByUser:(0,t.createCollection)(n6,{key:"getId"}),myTurnGameIds:[],loaded:"initial"}),re=(0,t.createResource)({name:"navigation.dailyGames",async loader(){let{data:e}=await w.A.get(v.A.generate("web_user_callback_daily_games",{limit:10}));return e},expiration:15e3});async function loadDailyGames(){try{let e=await re.load();n7.loaded=re.state.status;if(!e)return;n7.dailyGames.reset(e.dailyGames);n7.gameSeeks.reset(e.gameSeeks);n7.seeksByUser.reset(e.seeksByUser);n7.myTurnGameIds=e.dailyGamesStatus}finally{n7.loaded=re.state.status}}function getMyTurns(){return n7.dailyGames.filter(e=>e.isMyTurnToMove)}function updateDailyGame({dailyGameId:e,isMyTurn:t}){let n=n7.dailyGames.find({id:e});if(n){n.isMyTurnToMove=t;n7.myTurnGameIds=getMyTurns().map(e=>e.id)}}var rt=__webpack_require__(77900),rn=__webpack_require__(35745),rr=__webpack_require__(10295);function isLiveChallenge(e){return e.type===rr.i.Live}function isRcnChallenge(e){return e.type===rr.i.RCN}var ra=__webpack_require__(12787),ro=__webpack_require__(82683),ri=__webpack_require__(51123);async function acceptChallenge(e){isLiveChallenge(e)&&((0,ro.Y)()?n1.c.emit(n0.b.AcceptLiveChallenge,{challengeId:e.id}):window.location.href=v.A.generate("web_play",{action:"acceptLiveChallenge",challengeId:e.id}));isRcnChallenge(e)&&((0,ro.Y)()?n1.c.emit(n0.b.AcceptRcnChallenge,{challengeId:e.id}):window.location.href=v.A.generate("web_play",{action:"startRcnGame",rcnChallengeId:e.id}));rn.g.emit(rt.g.AcceptChallenge,{challenge:e});(0,ri.E)(ra.A.incoming,e)}async function declineLiveOfflineChallenge(e){let t=v.A.generate("web_alert_callback_ignore_offline_challenge",{id:e});await w.A.post(t)}var rs=__webpack_require__(4090);async function publishDeclineRcnChallenge({href:e}){return(0,rs.m)({path:[e,tW.$U.Decline]})}async function declineChallenge(e){isLiveChallenge(e)&&((0,ro.Y)()?n1.c.emit(n0.b.DeclineLiveChallenge,{challengeId:e.id}):declineLiveOfflineChallenge(e.id));isRcnChallenge(e)&&((0,ro.Y)()?n1.c.emit(n0.b.DeclineRcnChallenge,{challengeId:e.id}):publishDeclineRcnChallenge(e));rn.g.emit(rt.g.DeclineChallenge,{challenge:e});(0,ri.E)(ra.A.incoming,e)}function getIncomingChallenges(){return ra.A.incoming}function isLowTime(e){return""!==e&&(e.includes("hr")?8>=parseInt(e,10):e.includes("min"))}let rl=["textContent"];var rc=(0,k.defineComponent)({__name:"time-remaining",props:{value:{}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("time",{class:(0,k.normalizeClass)({[t.$style.danger]:(0,k.unref)(isLowTime)(e.value)}),textContent:(0,k.toDisplayString)(e.value)},null,10,rl))});let rd={};rd.$style={danger:"time-remaining-danger"};let ru=(0,C.A)(rc,[["__cssModules",rd]]);var rh=__webpack_require__(18817);let rp={chess960:(0,eK.pw)("Chess960"),chess:(0,eK.pw)("Standard"),custom:(0,eK.pw)("Custom")},rf=["gameType","rated","timeControl"];function getGameSeekDescription(e,t=rf){return t.map(t=>{switch(t){case"gameType":return e.initialSetup?rp.custom:rp[e.gameType.code]||rp.chess;case"rating":return e.seeker_rating.toString();case"rated":return e[0].is_rated?(0,eK.pw)("Rated"):(0,eK.pw)("Unrated");case"timeControl":return(0,rh.N)({timeType:"daily",baseTime:e[0].days_per_move});default:throw Error(`Unknown description part: "${t}"`)}})}function getChallengeDescription(e,t=rf){return t.map(t=>{switch(t){case"gameType":return rp[e.gameType]||rp.chess;case"rating":return e.rating?.toString();case"rated":return e.rated?(0,eK.pw)("Rated"):(0,eK.pw)("Unrated");case"timeControl":return(0,rh.N)(e.timeControl);default:throw Error(`Unknown description part: "${t}"`)}}).filter(e=>null!=e)}var rg=__webpack_require__(97880),rb=__webpack_require__(17295);async function acceptDailyChallenge(e){try{let t=await w.A.post(v.A.generate("web_game_seek_callback_accept_seek",{id:e}),{returnMessage:!0});window.location.href=v.A.generate("web_game_daily",{id:t.data.gameId})}catch(e){(0,rb.A)(e);return}n7.gameSeeks.remove(e)}async function declineDailyChallenge(e){let t=n7.gameSeeks.find(e),n=n7.seeksByUser.find(e);if(t||n){try{await w.A.post(v.A.generate(t?"web_game_seek_callback_decline_challenge":"web_game_seek_callback_delete_challenge",{id:e}),{returnMessage:!0})}catch(e){(0,rb.A)(e);return}t?n7.gameSeeks.remove(e):n7.seeksByUser.remove(e)}}function getDailyChallenges(){return n7.gameSeeks}function getDailyCount(){return n7.myTurnGameIds.length+getDailyChallenges().length}var r_=__webpack_require__(18404);function getGameAlerts(){return(0,r_.w)([i.f.GAME,i.f.GAMES_DRAW_OFFERED,i.f.GAMES_MESSAGE,i.f.TEAM_MATCH,i.f.TOURNAMENT,i.f.VOTE_CHESS_GAME])?.filter(e=>!n7.myTurnGameIds.includes(e.contentId))??[]}function getLiveCount(){return getIncomingChallenges().length}var rE=__webpack_require__(74736),rw=__webpack_require__(39012);let rv=(0,e1.fileDesc)("Ch1jaGVzc2NvbS9mbGFpci92MS9mbGFpci5wcm90bxIRY2hlc3Njb20uZmxhaXIudjEirgIKBUZsYWlyEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEwoLZGVzY3JpcHRpb24YAyABKAkSNAoGaW1hZ2VzGAQgAygLMiQuY2hlc3Njb20uZmxhaXIudjEuRmxhaXIuSW1hZ2VzRW50cnkSMwoIY2F0ZWdvcnkYBSABKAsyIS5jaGVzc2NvbS5mbGFpci52MS5GbGFpci5DYXRlZ29yeRIYChBkaXNwbGF5X3ByaW9yaXR5GAYgASgFEhgKC2xlZ2FjeV9jb2RlGBAgASgJSACIAQEaLQoLSW1hZ2VzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARoYCghDYXRlZ29yeRIMCgRuYW1lGAEgASgJQg4KDF9sZWdhY3lfY29kZSJQChJGbGFpclNlbGVjdGlvbkl0ZW0SJwoFZmxhaXIYASABKAsyGC5jaGVzc2NvbS5mbGFpci52MS5GbGFpchIRCglhdmFpbGFibGUYAiABKAhiBnByb3RvMw"),rk=(0,e1.fileDesc)("CitjaGVzc2NvbS9nYW1lX3N0b3JhZ2UvdjIvcGxheWVyX3RpdGxlLnByb3RvEhhjaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjIqlgIKC1BsYXllclRpdGxlEhwKGFBMQVlFUl9USVRMRV9VTlNQRUNJRklFRBAAEhQKEFBMQVlFUl9USVRMRV9XR00QARITCg9QTEFZRVJfVElUTEVfR00QAhIUChBQTEFZRVJfVElUTEVfV0lNEAMSEwoPUExBWUVSX1RJVExFX0lNEAQSFAoQUExBWUVSX1RJVExFX1dGTRAFEhMKD1BMQVlFUl9USVRMRV9GTRAGEhQKEFBMQVlFUl9USVRMRV9XTk0QBxITCg9QTEFZRVJfVElUTEVfTk0QCBISCg5QTEFZRVJfVElUTEVfTRAJEhMKD1BMQVlFUl9USVRMRV9DTRAKEhQKEFBMQVlFUl9USVRMRV9XQ00QC2IGcHJvdG8z");var rS=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WGM=1]="WGM",e[e.GM=2]="GM",e[e.WIM=3]="WIM",e[e.IM=4]="IM",e[e.WFM=5]="WFM",e[e.FM=6]="FM",e[e.WNM=7]="WNM",e[e.NM=8]="NM",e[e.M=9]="M",e[e.CM=10]="CM",e[e.WCM=11]="WCM",e))(rS||{});let ry=(0,e1.fileDesc)("CiljaGVzc2NvbS90aGVtZXMvdjIvdGhlbWVfaWRlbnRpZmllci5wcm90bxISY2hlc3Njb20udGhlbWVzLnYyIvABCg9UaGVtZUlkZW50aWZpZXISEgoIb2ZmaWNpYWwYASABKAlIABJLCgZjdXN0b20YAiABKAsyOS5jaGVzc2NvbS50aGVtZXMudjIuVGhlbWVJZGVudGlmaWVyLkN1c3RvbVRoZW1lSWRlbnRpZmllckgAGnIKFUN1c3RvbVRoZW1lSWRlbnRpZmllchIVCg1iYWNrZ3JvdW5kX2lkGAEgASgJEhYKDmJvYXJkX3N0eWxlX2lkGAIgASgJEhQKDHBpZWNlX3NldF9pZBgDIAEoCRIUCgxzb3VuZF9zZXRfaWQYBCABKAk6AhgBQgQKAmlkYgZwcm90bzM"),rA=(0,e1.fileDesc)("CjdjaGVzc2NvbS9yZWNvbW1lbmRlZF9tYXRjaGVzL3YxL3JlY29tbWVuZGVkX21hdGNoLnByb3RvEh9jaGVzc2NvbS5yZWNvbW1lbmRlZF9tYXRjaGVzLnYxIqsDChBSZWNvbW1lbmRlZE1hdGNoEgoKAmlkGAEgASgJEg8KB3VzZXJfaWQYAiABKAkSVgoQcmVjb21tZW5kZWRfdXNlchgDIAEoCzI8LmNoZXNzY29tLnJlY29tbWVuZGVkX21hdGNoZXMudjEuUmVjb21tZW5kZWRNYXRjaFVzZXJEZXRhaWxzEkcKBnJlYXNvbhgEIAEoDjI3LmNoZXNzY29tLnJlY29tbWVuZGVkX21hdGNoZXMudjEuUmVjb21tZW5kZWRNYXRjaFJlYXNvbhJSCgxnYW1lX2RldGFpbHMYBSABKAsyPC5jaGVzc2NvbS5yZWNvbW1lbmRlZF9tYXRjaGVzLnYxLlJlY29tbWVuZGVkTWF0Y2hHYW1lRGV0YWlscxI1ChFjcmVhdGVkX3RpbWVzdGFtcBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASTgoKdnNfZGV0YWlscxgHIAEoCzI6LmNoZXNzY29tLnJlY29tbWVuZGVkX21hdGNoZXMudjEuUmVjb21tZW5kZWRNYXRjaFZzRGV0YWlscyLgAwobUmVjb21tZW5kZWRNYXRjaFVzZXJEZXRhaWxzEg8KB3VzZXJfaWQYASABKAkSEAoIdXNlcm5hbWUYAiABKAkSDwoHY291bnRyeRgDIAEoCRISCgphdmF0YXJfdXJsGAQgASgJEg4KBnJhdGluZxgFIAEoAxI/CgtjaGVzc190aXRsZRgGIAEoDjIlLmNoZXNzY29tLmdhbWVfc3RvcmFnZS52Mi5QbGF5ZXJUaXRsZUgAiAEBEiwKBWZsYWlyGAcgASgLMhguY2hlc3Njb20uZmxhaXIudjEuRmxhaXJIAYgBARJaChBtZW1iZXJzaGlwX2xldmVsGAggASgOMkAuY2hlc3Njb20ucmVjb21tZW5kZWRfbWF0Y2hlcy52MS5SZWNvbW1lbmRlZE1hdGNoTWVtYmVyc2hpcExldmVsEhEKCWlzX29ubGluZRgJIAEoCBIUCgxjb3VudHJ5X25hbWUYCiABKAkSGAoQZGVmYXVsdGVkX3JhdGluZxgLIAEoCBI3CgV0aGVtZRgPIAEoCzIjLmNoZXNzY29tLnRoZW1lcy52Mi5UaGVtZUlkZW50aWZpZXJIAogBAUIOCgxfY2hlc3NfdGl0bGVCCAoGX2ZsYWlyQggKBl90aGVtZSK9AQobUmVjb21tZW5kZWRNYXRjaEdhbWVEZXRhaWxzEjAKCnRpbWVfY2xhc3MYASABKA4yHC5jaGVzc2NvbS5jaGVzcy52MS5UaW1lQ2xhc3MSNAoMdGltZV9jb250cm9sGAIgASgLMh4uY2hlc3Njb20uY2hlc3MudjEuVGltZUNvbnRyb2wSJwoFY29sb3IYAyABKA4yGC5jaGVzc2NvbS5jaGVzcy52MS5Db2xvchINCgVyYXRlZBgEIAEoCCJWChlSZWNvbW1lbmRlZE1hdGNoVnNEZXRhaWxzEhEKCXdpbl9jb3VudBgBIAEoAxISCgpkcmF3X2NvdW50GAIgASgDEhIKCmxvc3NfY291bnQYAyABKAMqkAIKFlJlY29tbWVuZGVkTWF0Y2hSZWFzb24SKAokUkVDT01NRU5ERURfTUFUQ0hfUkVBU09OX1VOU1BFQ0lGSUVEEAASJwojUkVDT01NRU5ERURfTUFUQ0hfUkVBU09OX05FV19GUklFTkQQARIjCh9SRUNPTU1FTkRFRF9NQVRDSF9SRUFTT05fRlJJRU5EEAISLAooUkVDT01NRU5ERURfTUFUQ0hfUkVBU09OX1JFQ0VOVF9PUFBPTkVOVBADEioKJlJFQ09NTUVOREVEX01BVENIX1JFQVNPTl9TSU1JTEFSX1NLSUxMEAQSJAogUkVDT01NRU5ERURfTUFUQ0hfUkVBU09OX0NPTlRBQ1QQBSrABQobUmVjb21tZW5kZWRNYXRjaEVycm9yUmVhc29uEi4KKlJFQ09NTUVOREVEX01BVENIX0VSUk9SX1JFQVNPTl9VTlNQRUNJRklFRBAAEi8KK1JFQ09NTUVOREVEX01BVENIX0VSUk9SX1JFQVNPTl9VU0VSX0JMT0NLRUQQARJBCj1SRUNPTU1FTkRFRF9NQVRDSF9FUlJPUl9SRUFTT05fU0VUVElOR1NfUkFUSU5HX1JBTkdFX01JU01BVENIEAISSgpGUkVDT01NRU5ERURfTUFUQ0hfRVJST1JfUkVBU09OX1NFVFRJTkdTX0NIQUxMRU5HRV9QUkVGRVJFTkNFU19NSVNNQVRDSBADEkUKQVJFQ09NTUVOREVEX01BVENIX0VSUk9SX1JFQVNPTl9TRVRUSU5HU19NQVhfVElNRV9DT05UUk9MX01JU01BVENIEAQSOwo3UkVDT01NRU5ERURfTUFUQ0hfRVJST1JfUkVBU09OX0dBTUVfQUxSRUFEWV9JTl9QUk9HUkVTUxAFEjoKNlJFQ09NTUVOREVEX01BVENIX0VSUk9SX1JFQVNPTl9QRU5ESU5HX0RBSUxZX0NIQUxMRU5HRRAGEjsKN1JFQ09NTUVOREVEX01BVENIX0VSUk9SX1JFQVNPTl9DQU5ESURBVEVfVE9PX01BTllfVElNRVMQBxI4CjRSRUNPTU1FTkRFRF9NQVRDSF9FUlJPUl9SRUFTT05fVE9PX01BTllfR0FNRVNfQUNUSVZFEAgSNAowUkVDT01NRU5ERURfTUFUQ0hfRVJST1JfUkVBU09OX1VTRVJfVFlQRV9JTlZBTElEEAkSRApAUkVDT01NRU5ERURfTUFUQ0hfRVJST1JfUkVBU09OX1VTRVJfRElTQUJMRURfUkVDT01NRU5ERURfTUFUQ0hFUxAKKokECh9SZWNvbW1lbmRlZE1hdGNoTWVtYmVyc2hpcExldmVsEjIKLlJFQ09NTUVOREVEX01BVENIX01FTUJFUlNISVBfTEVWRUxfVU5TUEVDSUZJRUQQABIuCipSRUNPTU1FTkRFRF9NQVRDSF9NRU1CRVJTSElQX0xFVkVMX0NIRUFURVIQBRItCilSRUNPTU1FTkRFRF9NQVRDSF9NRU1CRVJTSElQX0xFVkVMX0FCVVNFUhAGEjcKM1JFQ09NTUVOREVEX01BVENIX01FTUJFUlNISVBfTEVWRUxfVk9MVU5UQVJZX0NMT1NFRBAHEiwKKFJFQ09NTUVOREVEX01BVENIX01FTUJFUlNISVBfTEVWRUxfQkFTSUMQChIrCidSRUNPTU1FTkRFRF9NQVRDSF9NRU1CRVJTSElQX0xFVkVMX0dPTEQQHhIvCitSRUNPTU1FTkRFRF9NQVRDSF9NRU1CRVJTSElQX0xFVkVMX1BMQVRJTlVNECgSLgoqUkVDT01NRU5ERURfTUFUQ0hfTUVNQkVSU0hJUF9MRVZFTF9ESUFNT05EEDISMAosUkVDT01NRU5ERURfTUFUQ0hfTUVNQkVSU0hJUF9MRVZFTF9NT0RFUkFUT1IQUBIsCihSRUNPTU1FTkRFRF9NQVRDSF9NRU1CRVJTSElQX0xFVkVMX1NUQUZGEFpiBnByb3RvMw",[rE.OT,rw.W9,rv,rk,ry,e5.file_google_protobuf_timestamp]);var rN=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NEW_FRIEND=1]="NEW_FRIEND",e[e.FRIEND=2]="FRIEND",e[e.RECENT_OPPONENT=3]="RECENT_OPPONENT",e[e.SIMILAR_SKILL=4]="SIMILAR_SKILL",e[e.CONTACT=5]="CONTACT",e))(rN||{}),rR=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_BLOCKED=1]="USER_BLOCKED",e[e.SETTINGS_RATING_RANGE_MISMATCH=2]="SETTINGS_RATING_RANGE_MISMATCH",e[e.SETTINGS_CHALLENGE_PREFERENCES_MISMATCH=3]="SETTINGS_CHALLENGE_PREFERENCES_MISMATCH",e[e.SETTINGS_MAX_TIME_CONTROL_MISMATCH=4]="SETTINGS_MAX_TIME_CONTROL_MISMATCH",e[e.GAME_ALREADY_IN_PROGRESS=5]="GAME_ALREADY_IN_PROGRESS",e[e.PENDING_DAILY_CHALLENGE=6]="PENDING_DAILY_CHALLENGE",e[e.CANDIDATE_TOO_MANY_TIMES=7]="CANDIDATE_TOO_MANY_TIMES",e[e.TOO_MANY_GAMES_ACTIVE=8]="TOO_MANY_GAMES_ACTIVE",e[e.USER_TYPE_INVALID=9]="USER_TYPE_INVALID",e[e.USER_DISABLED_RECOMMENDED_MATCHES=10]="USER_DISABLED_RECOMMENDED_MATCHES",e))(rR||{}),rC=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHEATER=5]="CHEATER",e[e.ABUSER=6]="ABUSER",e[e.VOLUNTARY_CLOSED=7]="VOLUNTARY_CLOSED",e[e.BASIC=10]="BASIC",e[e.GOLD=30]="GOLD",e[e.PLATINUM=40]="PLATINUM",e[e.DIAMOND=50]="DIAMOND",e[e.MODERATOR=80]="MODERATOR",e[e.STAFF=90]="STAFF",e))(rC||{}),rV=__webpack_require__(77342),rT=__webpack_require__(28062);let rU=(0,e1.fileDesc)("Ch5jaGVzc2NvbS9jaGVzcy92MS9yZXN1bHQucHJvdG8SEWNoZXNzY29tLmNoZXNzLnYxKm8KBlJlc3VsdBIWChJSRVNVTFRfVU5TUEVDSUZJRUQQABIUChBSRVNVTFRfV0hJVEVfV0lOEAESFAoQUkVTVUxUX0JMQUNLX1dJThACEg8KC1JFU1VMVF9EUkFXEAMSEAoMUkVTVUxUX0FCT1JUEAQq5gMKClJlc3VsdFR5cGUSGwoXUkVTVUxUX1RZUEVfVU5TUEVDSUZJRUQQABIZChVSRVNVTFRfVFlQRV9DSEVDS01BVEUQARIZChVSRVNVTFRfVFlQRV9TVEFMRU1BVEUQAhIlCiFSRVNVTFRfVFlQRV9JTlNVRkZJQ0lFTlRfTUFURVJJQUwQAxIbChdSRVNVTFRfVFlQRV9SRVNJR05BVElPThAEEhoKFlJFU1VMVF9UWVBFX0RSQVdfT0ZGRVIQBRIXChNSRVNVTFRfVFlQRV9USU1FT1VUEAYSMAosUkVTVUxUX1RZUEVfVElNRU9VVF9WU19JTlNVRkZJQ0lFTlRfTUFURVJJQUwQBxIbChdSRVNVTFRfVFlQRV9BQkFORE9OTUVOVBAIEhwKGFJFU1VMVF9UWVBFXzUwX01PVkVfUlVMRRAJEhkKFVJFU1VMVF9UWVBFX1RIUkVFRk9MRBAKEiUKIVJFU1VMVF9UWVBFX0JVR0hPVVNFX1BBUlRORVJfTE9TRRALEhsKF1JFU1VMVF9UWVBFX1RIUkVFX0NIRUNLEAwSIAocUkVTVUxUX1RZUEVfS0lOR19PRl9USEVfSElMTBANEh4KGlJFU1VMVF9UWVBFX0RPVUJMRV9GT1JGRUlUEA5iBnByb3RvMw");var rI=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.WHITE_WIN=1]="WHITE_WIN",e[e.BLACK_WIN=2]="BLACK_WIN",e[e.DRAW=3]="DRAW",e[e.ABORT=4]="ABORT",e))(rI||{}),rx=(e=>(e[e.RESULT_TYPE_UNSPECIFIED=0]="RESULT_TYPE_UNSPECIFIED",e[e.RESULT_TYPE_CHECKMATE=1]="RESULT_TYPE_CHECKMATE",e[e.RESULT_TYPE_STALEMATE=2]="RESULT_TYPE_STALEMATE",e[e.RESULT_TYPE_INSUFFICIENT_MATERIAL=3]="RESULT_TYPE_INSUFFICIENT_MATERIAL",e[e.RESULT_TYPE_RESIGNATION=4]="RESULT_TYPE_RESIGNATION",e[e.RESULT_TYPE_DRAW_OFFER=5]="RESULT_TYPE_DRAW_OFFER",e[e.RESULT_TYPE_TIMEOUT=6]="RESULT_TYPE_TIMEOUT",e[e.RESULT_TYPE_TIMEOUT_VS_INSUFFICIENT_MATERIAL=7]="RESULT_TYPE_TIMEOUT_VS_INSUFFICIENT_MATERIAL",e[e.RESULT_TYPE_ABANDONMENT=8]="RESULT_TYPE_ABANDONMENT",e[e.RESULT_TYPE_50_MOVE_RULE=9]="RESULT_TYPE_50_MOVE_RULE",e[e.RESULT_TYPE_THREEFOLD=10]="RESULT_TYPE_THREEFOLD",e[e.RESULT_TYPE_BUGHOUSE_PARTNER_LOSE=11]="RESULT_TYPE_BUGHOUSE_PARTNER_LOSE",e[e.RESULT_TYPE_THREE_CHECK=12]="RESULT_TYPE_THREE_CHECK",e[e.RESULT_TYPE_KING_OF_THE_HILL=13]="RESULT_TYPE_KING_OF_THE_HILL",e[e.RESULT_TYPE_DOUBLE_FORFEIT=14]="RESULT_TYPE_DOUBLE_FORFEIT",e))(rx||{});let rB=(0,e1.fileDesc)("CiRjaGVzc2NvbS9nYW1lcGxheS92MS9wbGF5X21vZGUucHJvdG8SFGNoZXNzY29tLmdhbWVwbGF5LnYxInQKEFBsYXlNb2RlR3JvdXBpbmcSLAoIdmFyaWFudHMYASADKA4yGi5jaGVzc2NvbS5jaGVzcy52MS5WYXJpYW50EjIKDHRpbWVfY2xhc3NlcxgCIAMoDjIcLmNoZXNzY29tLmNoZXNzLnYxLlRpbWVDbGFzcyKBAQoXUGxheU1vZGVHcm91cGluZ09wdGlvbnMyZgoIZ3JvdXBpbmcSIS5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucxjwByABKAsyJi5jaGVzc2NvbS5nYW1lcGxheS52MS5QbGF5TW9kZUdyb3VwaW5nUghncm91cGluZyqXAQoIUGxheU1vZGUSGQoVUExBWV9NT0RFX1VOU1BFQ0lGSUVEEAASKAoOUExBWV9NT0RFX0xJVkUQARoUgj8RCggBAgQFBgcICRIFAgMEAQUSHwoPUExBWV9NT0RFX0RBSUxZEAIaCoI/BwoCAQISAQYSJQoVUExBWV9NT0RFX1ZTX0NPTVBVVEVSEAMaCoI/BwoCAQISAQBiBnByb3RvMw",[rw.W9,rT.Q7,e5.file_google_protobuf_descriptor]);var rF=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LIVE=1]="LIVE",e[e.DAILY=2]="DAILY",e[e.VS_COMPUTER=3]="VS_COMPUTER",e))(rF||{});let rM=(0,e1.fileDesc)("CipjaGVzc2NvbS9nYW1lX3N0b3JhZ2UvdjIvZ2FtZV9vcmlnaW4ucHJvdG8SGGNoZXNzY29tLmdhbWVfc3RvcmFnZS52MirWAgoKR2FtZU9yaWdpbhIbChdHQU1FX09SSUdJTl9VTlNQRUNJRklFRBAAEiAKHEdBTUVfT1JJR0lOX0RJUkVDVF9DSEFMTEVOR0UQARIUChBHQU1FX09SSUdJTl9TRUVLEAISGQoVR0FNRV9PUklHSU5fUE9PTF9TRUVLEAMSGgoWR0FNRV9PUklHSU5fU1RBUlRfR0FNRRAEEhUKEUdBTUVfT1JJR0lOX01BVENIEAUSFQoRR0FNRV9PUklHSU5fQVJFTkEQBhIaChZHQU1FX09SSUdJTl9UT1VSTkFNRU5UEAcSGgoWR0FNRV9PUklHSU5fVEVBTV9NQVRDSBAIEhsKF0dBTUVfT1JJR0lOX0NPTVBFVElUSU9OEAkSIQodR0FNRV9PUklHSU5fUkVDT01NRU5ERURfTUFUQ0gQChIWChJHQU1FX09SSUdJTl9MRUFHVUUQC2IGcHJvdG8z");var rO=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DIRECT_CHALLENGE=1]="DIRECT_CHALLENGE",e[e.SEEK=2]="SEEK",e[e.POOL_SEEK=3]="POOL_SEEK",e[e.START_GAME=4]="START_GAME",e[e.MATCH=5]="MATCH",e[e.ARENA=6]="ARENA",e[e.TOURNAMENT=7]="TOURNAMENT",e[e.TEAM_MATCH=8]="TEAM_MATCH",e[e.COMPETITION=9]="COMPETITION",e[e.RECOMMENDED_MATCH=10]="RECOMMENDED_MATCH",e[e.LEAGUE=11]="LEAGUE",e))(rO||{});let rL=(0,e1.fileDesc)("CihjaGVzc2NvbS9nYW1lcGxheS92MS91c2VyX2FjdGl2aXR5LnByb3RvEhRjaGVzc2NvbS5nYW1lcGxheS52MSJ3CiNEYWlseUdhbWVOb3RpZmljYXRpb25zUHJvbXB0Q2xpY2tlZBIbChNhbGxvd19ub3RpZmljYXRpb25zGAEgASgIOjPC8xgvCidEYWlseSBHYW1lIE5vdGlmaWNhdGlvbnMgUHJvbXB0IENsaWNrZWQQAhgEIAoingEKEURyYXdBY3Rpb25DbGlja2VkEjYKBmJ1dHRvbhgBIAEoDjIgLmNoZXNzY29tLmdhbWVwbGF5LnYxLkRyYXdBY3Rpb25CBMjzGAESDwoHZ2FtZV9pZBgCIAEoCRI0CglnYW1lX3R5cGUYAyABKA4yIS5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjEuVmFyaWFudDoKwvMYBhACGAQgCiIwCg9EYWlseUdhbWVTd2lwZWQSEwoLZ2FtZXNfY291bnQYASABKAU6CMLzGAQQAiAKIoEDCgtHYW1lU3RhcnRlZBIxCglwbGF5X21vZGUYASABKA4yHi5jaGVzc2NvbS5nYW1lcGxheS52MS5QbGF5TW9kZRIyChBjb2xvcl9hc3NpZ25tZW50GAIgASgOMhguY2hlc3Njb20uY2hlc3MudjEuQ29sb3ISSgoVZGFpbHlfZ2FtZV9wcm9wZXJ0aWVzGAMgASgLMikuY2hlc3Njb20uZ2FtZXBsYXkudjEuRGFpbHlHYW1lUHJvcGVydGllc0gAEkgKFGxpdmVfZ2FtZV9wcm9wZXJ0aWVzGAQgASgLMiguY2hlc3Njb20uZ2FtZXBsYXkudjEuTGl2ZUdhbWVQcm9wZXJ0aWVzSAASUAoYY29tcHV0ZXJfZ2FtZV9wcm9wZXJ0aWVzGAUgASgLMiwuY2hlc3Njb20uZ2FtZXBsYXkudjEuQ29tcHV0ZXJHYW1lUHJvcGVydGllc0gAOgrC8xgGEAMYCiADQhcKFWFkZGl0aW9uYWxfcHJvcGVydGllcyKnBAoNR2FtZUNvbXBsZXRlZBIxCglwbGF5X21vZGUYASABKA4yHi5jaGVzc2NvbS5nYW1lcGxheS52MS5QbGF5TW9kZRIyChBjb2xvcl9hc3NpZ25tZW50GAIgASgOMhguY2hlc3Njb20uY2hlc3MudjEuQ29sb3ISKQoGcmVzdWx0GAMgASgOMhkuY2hlc3Njb20uY2hlc3MudjEuUmVzdWx0EjIKC3Jlc3VsdF90eXBlGAQgASgOMh0uY2hlc3Njb20uY2hlc3MudjEuUmVzdWx0VHlwZRIRCglwbHlfY291bnQYBSABKA0SHAoPbnVtYmVyX29mX2hpbnRzGAYgASgNSAGIAQESSgoVZGFpbHlfZ2FtZV9wcm9wZXJ0aWVzGAcgASgLMikuY2hlc3Njb20uZ2FtZXBsYXkudjEuRGFpbHlHYW1lUHJvcGVydGllc0gAEkgKFGxpdmVfZ2FtZV9wcm9wZXJ0aWVzGAggASgLMiguY2hlc3Njb20uZ2FtZXBsYXkudjEuTGl2ZUdhbWVQcm9wZXJ0aWVzSAASUAoYY29tcHV0ZXJfZ2FtZV9wcm9wZXJ0aWVzGAkgASgLMiwuY2hlc3Njb20uZ2FtZXBsYXkudjEuQ29tcHV0ZXJHYW1lUHJvcGVydGllc0gAOgrC8xgGEAMYCiADQhcKFWFkZGl0aW9uYWxfcHJvcGVydGllc0ISChBfbnVtYmVyX29mX2hpbnRzIrUCChFEYWlseUdhbWVNb3ZlTWFkZRIPCgdnYW1lX2lkGAEgASgJEkMKFWRhaWx5X2dhbWVfYXR0cmlidXRlcxgCIAEoCzIkLmNoZXNzY29tLmdhbWVwbGF5LnYxLkdhbWVBdHRyaWJ1dGVzEjIKEGNvbG9yX2Fzc2lnbm1lbnQYAyABKA4yGC5jaGVzc2NvbS5jaGVzcy52MS5Db2xvchIRCglwbHlfY291bnQYBCABKA0SNAoGb3JpZ2luGAUgASgOMiQuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYyLkdhbWVPcmlnaW4SEwoLb3Bwb25lbnRfaWQYBiABKAkSFAoMdGltZV9lbGFwc2VkGAcgASgNEhYKDnRpbWVfcmVtYWluaW5nGAggASgNOgrC8xgGEAMYCiADIqYDChNEYWlseUdhbWVQcm9wZXJ0aWVzEg8KB2dhbWVfaWQYASABKAkSPQoPZ2FtZV9hdHRyaWJ1dGVzGAIgASgLMiQuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZUF0dHJpYnV0ZXMSTgoYZ2FtZV9vcHBvbmVudF9hdHRyaWJ1dGVzGAMgASgLMiwuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZU9wcG9uZW50QXR0cmlidXRlcxI0CgZvcmlnaW4YBCABKA4yJC5jaGVzc2NvbS5nYW1lX3N0b3JhZ2UudjIuR2FtZU9yaWdpbhIYChB2YWNhdGlvbl9hbGxvd2VkGAUgASgIElIKDG1hdGNoX3JlYXNvbhgGIAEoDjI3LmNoZXNzY29tLnJlY29tbWVuZGVkX21hdGNoZXMudjEuUmVjb21tZW5kZWRNYXRjaFJlYXNvbkgAiAEBEiEKFHJlY29tbWVuZGVkX21hdGNoX2lkGAcgASgJSAGIAQFCDwoNX21hdGNoX3JlYXNvbkIXChVfcmVjb21tZW5kZWRfbWF0Y2hfaWQi6gEKEkxpdmVHYW1lUHJvcGVydGllcxIPCgdnYW1lX2lkGAEgASgJEj0KD2dhbWVfYXR0cmlidXRlcxgCIAEoCzIkLmNoZXNzY29tLmdhbWVwbGF5LnYxLkdhbWVBdHRyaWJ1dGVzEk4KGGdhbWVfb3Bwb25lbnRfYXR0cmlidXRlcxgDIAEoCzIsLmNoZXNzY29tLmdhbWVwbGF5LnYxLkdhbWVPcHBvbmVudEF0dHJpYnV0ZXMSNAoGb3JpZ2luGAQgASgOMiQuY2hlc3Njb20uZ2FtZV9zdG9yYWdlLnYyLkdhbWVPcmlnaW4irwIKFkNvbXB1dGVyR2FtZVByb3BlcnRpZXMSDwoHZ2FtZV9pZBgBIAEoCRIPCgdhaV9uYW1lGAIgASgJEhAKCGFpX2xldmVsGAMgASgNEjQKBHR5cGUYBCABKA4yJi5jaGVzc2NvbS5nYW1lcGxheS52MS5Db21wdXRlckdhbWVUeXBlEkYKE2JvdF9nYW1lX3Byb3BlcnRpZXMYBSABKAsyJy5jaGVzc2NvbS5nYW1lcGxheS52MS5Cb3RHYW1lUHJvcGVydGllc0gAEkoKFWNvYWNoX2dhbWVfcHJvcGVydGllcxgGIAEoCzIpLmNoZXNzY29tLmdhbWVwbGF5LnYxLkNvYWNoR2FtZVByb3BlcnRpZXNIAEIXChVhZGRpdGlvbmFsX3Byb3BlcnRpZXMiFQoTQ29hY2hHYW1lUHJvcGVydGllcyJ6ChFCb3RHYW1lUHJvcGVydGllcxIvCghib3RfbW9kZRgBIAEoDjIdLmNoZXNzY29tLmdhbWVwbGF5LnYxLkJvdE1vZGUSNAoMdGltZV9jb250cm9sGAIgASgLMh4uY2hlc3Njb20uY2hlc3MudjEuVGltZUNvbnRyb2wikQIKDkdhbWVBdHRyaWJ1dGVzEisKB3ZhcmlhbnQYASABKA4yGi5jaGVzc2NvbS5jaGVzcy52MS5WYXJpYW50EjQKDHRpbWVfY29udHJvbBgCIAEoCzIeLmNoZXNzY29tLmNoZXNzLnYxLlRpbWVDb250cm9sEjAKCnRpbWVfY2xhc3MYAyABKA4yHC5jaGVzc2NvbS5jaGVzcy52MS5UaW1lQ2xhc3MSDQoFcmF0ZWQYBCABKAgSMQoJcGxheV9tb2RlGAUgASgOMh4uY2hlc3Njb20uZ2FtZXBsYXkudjEuUGxheU1vZGUSGAoLaW5pdGlhbF9mZW4YBiABKAlIAIgBAUIOCgxfaW5pdGlhbF9mZW4izgIKFkdhbWVPcHBvbmVudEF0dHJpYnV0ZXMSEwoLb3Bwb25lbnRfaWQYASABKAkSEgoKaXNfcmVtYXRjaBgCIAEoCBJUChFyZWxhdGlvbnNoaXBfdHlwZRgDIAEoDjI0LmNoZXNzY29tLnVzZXJfcmVsYXRpb25zaGlwcy52Mi5Vc2VyUmVsYXRpb25zaGlwVHlwZUgAiAEBElUKGWNvbnRhY3RfcmVsYXRpb25zaGlwX3R5cGUYBCABKA4yLS5jaGVzc2NvbS5jb250YWN0cy52MS5Db250YWN0UmVsYXRpb25zaGlwVHlwZUgBiAEBEhkKDHJhdGluZ19kZWx0YRgFIAEoBUgCiAEBQhQKEl9yZWxhdGlvbnNoaXBfdHlwZUIcChpfY29udGFjdF9yZWxhdGlvbnNoaXBfdHlwZUIPCg1fcmF0aW5nX2RlbHRhImkKG05hdmlnYXRlVG9QbGF5T25saW5lQ2xpY2tlZBJACglpbnRlcmZhY2UYAiABKA4yJy5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lcGxheUludGVyZmFjZUIEwPMYAToIwvMYBBACGAQqdgoKRHJhd0FjdGlvbhIbChdEUkFXX0FDVElPTl9VTlNQRUNJRklFRBAAEhgKFERSQVdfQUNUSU9OX0RFQ0xJTkVEEAESFwoTRFJBV19BQ1RJT05fT0ZGRVJFRBACEhgKFERSQVdfQUNUSU9OX0FDQ0VQVEVEEAMqfgoHQm90TW9kZRIYChRCT1RfTU9ERV9VTlNQRUNJRklFRBAAEhYKEkJPVF9NT0RFX0NIQUxMRU5HRRABEhUKEUJPVF9NT0RFX0ZSSUVORExZEAISFQoRQk9UX01PREVfQVNTSVNURUQQAxITCg9CT1RfTU9ERV9DVVNUT00QBCpwChBDb21wdXRlckdhbWVUeXBlEiIKHkNPTVBVVEVSX0dBTUVfVFlQRV9VTlNQRUNJRklFRBAAEhwKGENPTVBVVEVSX0dBTUVfVFlQRV9DT0FDSBABEhoKFkNPTVBVVEVSX0dBTUVfVFlQRV9CT1QQAipeChFHYW1lcGxheUludGVyZmFjZRIiCh5HQU1FUExBWV9JTlRFUkZBQ0VfVU5TUEVDSUZJRUQQABIlCiFHQU1FUExBWV9JTlRFUkZBQ0VfRklSU1RfQUNUSVZJVFkQAWIGcHJvdG8z",[ee.HS,rV.ff,rw.W9,rT.Q7,rE.OT,rB,rU,rA,rM,e9.s6,nE.$b]);var rD=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DECLINED=1]="DECLINED",e[e.OFFERED=2]="OFFERED",e[e.ACCEPTED=3]="ACCEPTED",e))(rD||{}),rz=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CHALLENGE=1]="CHALLENGE",e[e.FRIENDLY=2]="FRIENDLY",e[e.ASSISTED=3]="ASSISTED",e[e.CUSTOM=4]="CUSTOM",e))(rz||{}),rP=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.COACH=1]="COACH",e[e.BOT=2]="BOT",e))(rP||{}),rG=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.FIRST_ACTIVITY=1]="FIRST_ACTIVITY",e))(rG||{});let rZ=(0,e1.fileDesc)("CiljaGVzc2NvbS9jaGFsbGVuZ2UvdjIvdXNlcl9hY3Rpdml0eS5wcm90bxIVY2hlc3Njb20uY2hhbGxlbmdlLnYyIscBChpDaGFsbGVuZ2VTZW50QnV0dG9uQ2xpY2tlZBJCCg5pbnRlcmZhY2VfdHlwZRgBIAEoDjIkLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5JbnRlcmZhY2VUeXBlQgTA8xgBEjgKBmZ1bm5lbBgCIAEoDjIoLmNoZXNzY29tLnByb3RvX29wdGlvbnMuZXZlbnRzLnYxLkZ1bm5lbDorwvMYJwofQ2hhbGxlbmdlIFNlbnQgLSBCdXR0b24gQ2xpY2tlZBACGAQgAyKVAQoeQ2hhbGxlbmdlQWNjZXB0ZWRCdXR0b25DbGlja2VkEkIKDmludGVyZmFjZV90eXBlGAEgASgOMiQuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkludGVyZmFjZVR5cGVCBMDzGAE6L8LzGCsKI0NoYWxsZW5nZSBBY2NlcHRlZCAtIEJ1dHRvbiBDbGlja2VkEAIYBCADIpUBCh5DaGFsbGVuZ2VEZWNsaW5lZEJ1dHRvbkNsaWNrZWQSQgoOaW50ZXJmYWNlX3R5cGUYASABKA4yJC5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuSW50ZXJmYWNlVHlwZUIEwPMYATovwvMYKwojQ2hhbGxlbmdlIERlY2xpbmVkIC0gQnV0dG9uIENsaWNrZWQQAhgEIAMimwQKD0NoYWxsZW5nZVZpZXdlZBIKCgJpZBgBIAEoCRIyCgR0eXBlGAIgASgOMiQuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkNoYWxsZW5nZVR5cGUSPQoPZ2FtZV9hdHRyaWJ1dGVzGAMgASgLMiQuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZUF0dHJpYnV0ZXMSTgoYZ2FtZV9vcHBvbmVudF9hdHRyaWJ1dGVzGAQgASgLMiwuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZU9wcG9uZW50QXR0cmlidXRlcxIyChBjb2xvcl9hc3NpZ25tZW50GAUgASgOMhguY2hlc3Njb20uY2hlc3MudjEuQ29sb3ISNgoGb3JpZ2luGAYgASgOMiYuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkNoYWxsZW5nZU9yaWdpbhJLChVkYWlseV9nYW1lX3Byb3BlcnRpZXMYByABKAsyKi5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuRGFpbHlHYW1lUHJvcGVydGllc0gAEkkKFGxpdmVfZ2FtZV9wcm9wZXJ0aWVzGAggASgLMikuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkxpdmVHYW1lUHJvcGVydGllc0gAOhzC8xgYChBDaGFsbGVuZ2UgVmlld2VkEAIYASADQhcKFWFkZGl0aW9uYWxfcHJvcGVydGllcyKJBAoPQ2hhbGxlbmdlQ2xvc2VkEgoKAmlkGAEgASgJEjIKBHR5cGUYAiABKA4yJC5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuQ2hhbGxlbmdlVHlwZRI9Cg9nYW1lX2F0dHJpYnV0ZXMYAyABKAsyJC5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lQXR0cmlidXRlcxJOChhnYW1lX29wcG9uZW50X2F0dHJpYnV0ZXMYBCABKAsyLC5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lT3Bwb25lbnRBdHRyaWJ1dGVzEjIKEGNvbG9yX2Fzc2lnbm1lbnQYBSABKA4yGC5jaGVzc2NvbS5jaGVzcy52MS5Db2xvchI2CgZvcmlnaW4YBiABKA4yJi5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuQ2hhbGxlbmdlT3JpZ2luEksKFWRhaWx5X2dhbWVfcHJvcGVydGllcxgHIAEoCzIqLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5EYWlseUdhbWVQcm9wZXJ0aWVzSAASSQoUbGl2ZV9nYW1lX3Byb3BlcnRpZXMYCCABKAsyKS5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuTGl2ZUdhbWVQcm9wZXJ0aWVzSAA6CsLzGAYQAhgEIANCFwoVYWRkaXRpb25hbF9wcm9wZXJ0aWVzIocECg1DaGFsbGVuZ2VTZW50EgoKAmlkGAEgASgJEjIKBHR5cGUYAiABKA4yJC5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuQ2hhbGxlbmdlVHlwZRI9Cg9nYW1lX2F0dHJpYnV0ZXMYAyABKAsyJC5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lQXR0cmlidXRlcxJOChhnYW1lX29wcG9uZW50X2F0dHJpYnV0ZXMYBCABKAsyLC5jaGVzc2NvbS5nYW1lcGxheS52MS5HYW1lT3Bwb25lbnRBdHRyaWJ1dGVzEjIKEGNvbG9yX2Fzc2lnbm1lbnQYBSABKA4yGC5jaGVzc2NvbS5jaGVzcy52MS5Db2xvchI2CgZvcmlnaW4YBiABKA4yJi5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuQ2hhbGxlbmdlT3JpZ2luEksKFWRhaWx5X2dhbWVfcHJvcGVydGllcxgHIAEoCzIqLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5EYWlseUdhbWVQcm9wZXJ0aWVzSAASSQoUbGl2ZV9nYW1lX3Byb3BlcnRpZXMYCCABKAsyKS5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuTGl2ZUdhbWVQcm9wZXJ0aWVzSAA6CsLzGAYQAxgKIANCFwoVYWRkaXRpb25hbF9wcm9wZXJ0aWVzIosEChFDaGFsbGVuZ2VBY2NlcHRlZBIKCgJpZBgBIAEoCRIyCgR0eXBlGAIgASgOMiQuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkNoYWxsZW5nZVR5cGUSPQoPZ2FtZV9hdHRyaWJ1dGVzGAMgASgLMiQuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZUF0dHJpYnV0ZXMSTgoYZ2FtZV9vcHBvbmVudF9hdHRyaWJ1dGVzGAQgASgLMiwuY2hlc3Njb20uZ2FtZXBsYXkudjEuR2FtZU9wcG9uZW50QXR0cmlidXRlcxIyChBjb2xvcl9hc3NpZ25tZW50GAUgASgOMhguY2hlc3Njb20uY2hlc3MudjEuQ29sb3ISNgoGb3JpZ2luGAYgASgOMiYuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkNoYWxsZW5nZU9yaWdpbhJLChVkYWlseV9nYW1lX3Byb3BlcnRpZXMYByABKAsyKi5jaGVzc2NvbS5jaGFsbGVuZ2UudjIuRGFpbHlHYW1lUHJvcGVydGllc0gAEkkKFGxpdmVfZ2FtZV9wcm9wZXJ0aWVzGAggASgLMikuY2hlc3Njb20uY2hhbGxlbmdlLnYyLkxpdmVHYW1lUHJvcGVydGllc0gAOgrC8xgGEAMYCiADQhcKFWFkZGl0aW9uYWxfcHJvcGVydGllcyKLBAoRQ2hhbGxlbmdlRGVjbGluZWQSCgoCaWQYASABKAkSMgoEdHlwZRgCIAEoDjIkLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5DaGFsbGVuZ2VUeXBlEj0KD2dhbWVfYXR0cmlidXRlcxgDIAEoCzIkLmNoZXNzY29tLmdhbWVwbGF5LnYxLkdhbWVBdHRyaWJ1dGVzEk4KGGdhbWVfb3Bwb25lbnRfYXR0cmlidXRlcxgEIAEoCzIsLmNoZXNzY29tLmdhbWVwbGF5LnYxLkdhbWVPcHBvbmVudEF0dHJpYnV0ZXMSMgoQY29sb3JfYXNzaWdubWVudBgFIAEoDjIYLmNoZXNzY29tLmNoZXNzLnYxLkNvbG9yEjYKBm9yaWdpbhgGIAEoDjImLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5DaGFsbGVuZ2VPcmlnaW4SSwoVZGFpbHlfZ2FtZV9wcm9wZXJ0aWVzGAcgASgLMiouY2hlc3Njb20uY2hhbGxlbmdlLnYyLkRhaWx5R2FtZVByb3BlcnRpZXNIABJJChRsaXZlX2dhbWVfcHJvcGVydGllcxgIIAEoCzIpLmNoZXNzY29tLmNoYWxsZW5nZS52Mi5MaXZlR2FtZVByb3BlcnRpZXNIADoKwvMYBhADGAogA0IXChVhZGRpdGlvbmFsX3Byb3BlcnRpZXMi0AEKE0RhaWx5R2FtZVByb3BlcnRpZXMSGAoQdmFjYXRpb25fYWxsb3dlZBgBIAEoCBJSCgxtYXRjaF9yZWFzb24YAiABKA4yNy5jaGVzc2NvbS5yZWNvbW1lbmRlZF9tYXRjaGVzLnYxLlJlY29tbWVuZGVkTWF0Y2hSZWFzb25IAIgBARIhChRyZWNvbW1lbmRlZF9tYXRjaF9pZBgDIAEoCUgBiAEBQg8KDV9tYXRjaF9yZWFzb25CFwoVX3JlY29tbWVuZGVkX21hdGNoX2lkIhQKEkxpdmVHYW1lUHJvcGVydGllcyKhAgoVVGltZUNvbnRyb2xWaWV3T3BlbmVkEhEKCWdhbWVfdHlwZRgBIAEoCRIwCgp0aW1lX2NsYXNzGAIgASgOMhwuY2hlc3Njb20uY2hlc3MudjEuVGltZUNsYXNzEjQKDHRpbWVfY29udHJvbBgDIAEoCzIeLmNoZXNzY29tLmNoZXNzLnYxLlRpbWVDb250cm9sEg0KBXJhdGVkGAQgASgIEhYKDmlzX2N1c3RvbV90aW1lGAUgASgIEhsKDmludGVyZmFjZV9uYW1lGAYgASgJSACIAQESGQoMZWxlbWVudF9uYW1lGAcgASgJSAGIAQE6CsLzGAYQAhgCIANCEQoPX2ludGVyZmFjZV9uYW1lQg8KDV9lbGVtZW50X25hbWUioQIKFUdhbWVTZWVrQnV0dG9uQ2xpY2tlZBIRCglnYW1lX3R5cGUYASABKAkSMAoKdGltZV9jbGFzcxgCIAEoDjIcLmNoZXNzY29tLmNoZXNzLnYxLlRpbWVDbGFzcxI0Cgx0aW1lX2NvbnRyb2wYAyABKAsyHi5jaGVzc2NvbS5jaGVzcy52MS5UaW1lQ29udHJvbBINCgVyYXRlZBgEIAEoCBIWCg5pc19jdXN0b21fdGltZRgFIAEoCBIbCg5pbnRlcmZhY2VfbmFtZRgGIAEoCUgAiAEBEhkKDGVsZW1lbnRfbmFtZRgHIAEoCUgBiAEBOgrC8xgGEAIYBCADQhEKD19pbnRlcmZhY2VfbmFtZUIPCg1fZWxlbWVudF9uYW1lIr8CChNOZXdHYW1lU2NyZWVuT3BlbmVkEhsKDmludGVyZmFjZV9uYW1lGAEgASgJSACIAQESGQoMZWxlbWVudF9uYW1lGAIgASgJSAGIAQESGQoRY3VycmVudF9nYW1lX3R5cGUYAyABKAkSOAoSY3VycmVudF90aW1lX2NsYXNzGAQgASgOMhwuY2hlc3Njb20uY2hlc3MudjEuVGltZUNsYXNzEjwKFGN1cnJlbnRfdGltZV9jb250cm9sGAUgASgLMh4uY2hlc3Njb20uY2hlc3MudjEuVGltZUNvbnRyb2wSFQoNY3VycmVudF9yYXRlZBgGIAEoCBIWCg5pc19jdXN0b21fdGltZRgHIAEoCDoKwvMYBhAAGAIgA0IRCg9faW50ZXJmYWNlX25hbWVCDwoNX2VsZW1lbnRfbmFtZSKlAgoZU2Vla0NhbmNlbGVkQnV0dG9uQ2xpY2tlZBIbCg5pbnRlcmZhY2VfbmFtZRgBIAEoCUgAiAEBEhkKDGVsZW1lbnRfbmFtZRgCIAEoCUgBiAEBEhEKCWdhbWVfdHlwZRgDIAEoCRIwCgp0aW1lX2NsYXNzGAQgASgOMhwuY2hlc3Njb20uY2hlc3MudjEuVGltZUNsYXNzEjQKDHRpbWVfY29udHJvbBgFIAEoCzIeLmNoZXNzY29tLmNoZXNzLnYxLlRpbWVDb250cm9sEg0KBXJhdGVkGAYgASgIEhYKDmlzX2N1c3RvbV90aW1lGAcgASgIOgrC8xgGEAIYBCADQhEKD19pbnRlcmZhY2VfbmFtZUIPCg1fZWxlbWVudF9uYW1lKqkECg1JbnRlcmZhY2VUeXBlEh4KGklOVEVSRkFDRV9UWVBFX1VOU1BFQ0lGSUVEEAASKAokSU5URVJGQUNFX1RZUEVfUExBWV9DVVNUT01fQ0hBTExFTkdFEAESKAokSU5URVJGQUNFX1RZUEVfUExBWV9DUkVBVEVfQ0hBTExFTkdFEAISKgomSU5URVJGQUNFX1RZUEVfUkVDT01NRU5ERURfTUFUQ0hfTU9EQUwQAxI2CjJJTlRFUkZBQ0VfVFlQRV9IT01FX0lOQ09NSU5HX0RBSUxZX0NIQUxMRU5HRV9NT0RBTBAEEioKJklOVEVSRkFDRV9UWVBFX0hPTUVfSU5DT01JTkdfQ0hBTExFTkdFEAUSKQolSU5URVJGQUNFX1RZUEVfSE9NRV9SRUNPTU1FTkRFRF9NQVRDSBAGEiYKIklOVEVSRkFDRV9UWVBFX1BMQVlfT05MSU5FX1NJREVCQVIQBxIxCi1JTlRFUkZBQ0VfVFlQRV9QTEFZX09OTElORV9FWFBBTkRFRF9DSEFMTEVOR0UQCBI2CjJJTlRFUkZBQ0VfVFlQRV9QTEFZX09OTElORV9TSURFQkFSX09QUE9ORU5UX1NFQVJDSBAJEi4KKklOVEVSRkFDRV9UWVBFX1BMQVlfT05MSU5FX1NJREVCQVJfUExBWV9WUxAKEiYKIklOVEVSRkFDRV9UWVBFX05BVkJBUl9TVUJNRU5VX1BMQVkQCypiCg1DaGFsbGVuZ2VUeXBlEh4KGkNIQUxMRU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASFwoTQ0hBTExFTkdFX1RZUEVfTElWRRABEhgKFENIQUxMRU5HRV9UWVBFX0RBSUxZEAIqsQEKD0NoYWxsZW5nZU9yaWdpbhIgChxDSEFMTEVOR0VfT1JJR0lOX1VOU1BFQ0lGSUVEEAASGwoXQ0hBTExFTkdFX09SSUdJTl9ESVJFQ1QQARIZChVDSEFMTEVOR0VfT1JJR0lOX0xJTksQAhIcChhDSEFMTEVOR0VfT1JJR0lOX09GRkxJTkUQAxImChxDSEFMTEVOR0VfT1JJR0lOX1JFQ09NTUVOREVEEAQaBMDzGAFiBnByb3RvMw",[ee.HS,rE.OT,rw.W9,rA,rL]),rW=(0,e1.messageDesc)(rZ,1),rj=(0,e1.messageDesc)(rZ,2);var rY=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PLAY_CUSTOM_CHALLENGE=1]="PLAY_CUSTOM_CHALLENGE",e[e.PLAY_CREATE_CHALLENGE=2]="PLAY_CREATE_CHALLENGE",e[e.RECOMMENDED_MATCH_MODAL=3]="RECOMMENDED_MATCH_MODAL",e[e.HOME_INCOMING_DAILY_CHALLENGE_MODAL=4]="HOME_INCOMING_DAILY_CHALLENGE_MODAL",e[e.HOME_INCOMING_CHALLENGE=5]="HOME_INCOMING_CHALLENGE",e[e.HOME_RECOMMENDED_MATCH=6]="HOME_RECOMMENDED_MATCH",e[e.PLAY_ONLINE_SIDEBAR=7]="PLAY_ONLINE_SIDEBAR",e[e.PLAY_ONLINE_EXPANDED_CHALLENGE=8]="PLAY_ONLINE_EXPANDED_CHALLENGE",e[e.PLAY_ONLINE_SIDEBAR_OPPONENT_SEARCH=9]="PLAY_ONLINE_SIDEBAR_OPPONENT_SEARCH",e[e.PLAY_ONLINE_SIDEBAR_PLAY_VS=10]="PLAY_ONLINE_SIDEBAR_PLAY_VS",e[e.NAVBAR_SUBMENU_PLAY=11]="NAVBAR_SUBMENU_PLAY",e))(rY||{}),rH=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LIVE=1]="LIVE",e[e.DAILY=2]="DAILY",e))(rH||{}),rX=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DIRECT=1]="DIRECT",e[e.LINK=2]="LINK",e[e.OFFLINE=3]="OFFLINE",e[e.RECOMMENDED=4]="RECOMMENDED",e))(rX||{});function trackChallengeAcceptedButtonClicked(){(0,W.M)((0,j.q)(rW,{interfaceType:rY.NAVBAR_SUBMENU_PLAY}))}function trackChallengeDeclinedButtonClicked(){(0,W.M)((0,j.q)(rj,{interfaceType:rY.NAVBAR_SUBMENU_PLAY}))}function trackDailyGameChallengesClicked(e){let t=(0,j.q)(nv.Rs,{contactRelationshipType:nE.rV.UNSPECIFIED,relationshipType:e.friendship_date?e9._c.FRIENDSHIP:e9._c.UNSPECIFIED,presenceStatus:nw.O7.UNSPECIFIED,userId:e.seekerUserUuid});(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.GAME_CREATE,element:"daily_game_challenge",interface:"navbar_submenu_play"}),[t])}function trackDailyGameMoveNotificationClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.GAME_CREATE,element:"daily_game_move_notification",interface:"navbar_submenu_play"}))}function trackSeeAllDailyChallengesClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.GAME_CREATE,element:"see_all_daily_challenges",interface:"navbar_submenu_play"}))}function trackSeeAllLiveChallengesClicked(){(0,W.M)((0,j.q)(Z.Aj,{funnel:ee.rh.GAME_CREATE,element:"see_all_live_challenges",interface:"navbar_submenu_play"}))}let rQ={key:0},rJ=["href"],rK=["innerHTML"],r$={key:1},rq=["href"],r0=["innerHTML"],r1={key:2};var r2=(0,k.defineComponent)({__name:"play-notifications",setup(e){let t=(0,k.computed)(getIncomingChallenges),n=(0,k.computed)(getDailyChallenges),r=(0,k.computed)(getMyTurns),a=(0,k.computed)(getGameAlerts),o=(0,k.computed)(()=>a.value.reduce((e,t)=>{switch(t.alertType){case i.f.OFFLINE_CHALLENGE:e.live.push(t);break;case i.f.GAME:case i.f.GAMES_DRAW_OFFERED:case i.f.GAMES_STARTED:case i.f.GAMES_LOW_TIME:case i.f.GAMES_MESSAGE:e.daily.push(t);break;default:e.other.push(t)}return e},{live:[],daily:[],other:[]})),s=(0,k.computed)(()=>getLiveCount()+o.value.live.length),l=(0,k.computed)(()=>getDailyCount()+o.value.daily.length),c=(0,k.computed)(()=>o.value.other.length);function dailyGameLink(e){return v.A.generate("web_game_daily",{id:e})}function dailySeekLink(e){return v.A.generate("web_daily_seek",{id:e})}function handleAcceptChallenge(e){trackChallengeAcceptedButtonClicked();acceptChallenge(e)}function handleDeclineChallenge(e){trackChallengeDeclinedButtonClicked();declineChallenge(e)}function handleAcceptDailyGameChallenge(e){trackChallengeAcceptedButtonClicked();acceptDailyChallenge(e)}function handleDeclineDailyGameChallenge(e){trackChallengeDeclinedButtonClicked();declineDailyChallenge(e)}async function onGameAlertClicked(e){(0,nB.y)(e);window.location.href=e.route}return(e,a)=>((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,null,[s.value>0?((0,k.openBlock)(),(0,k.createElementBlock)("section",rQ,[(0,k.createVNode)(T,null,{link:(0,k.withCtx)(()=>[(0,k.createElementVNode)("a",{href:(0,k.unref)(v.A).i18n("web_play_new"),onClick:a[0]||(a[0]=(...e)=>(0,k.unref)(trackSeeAllLiveChallengesClicked)&&(0,k.unref)(trackSeeAllLiveChallengesClicked)(...e))},(0,k.toDisplayString)(e.$trans("see_all_games")),9,rJ)]),default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Live Challenges"))+" ",1),(0,k.createVNode)(P,{label:s.value},null,8,["label"]),a[2]||(a[2]=(0,k.createTextVNode)())]),_:1}),a[5]||(a[5]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(t.value,e=>((0,k.openBlock)(),(0,k.createBlock)(rg.A,{key:e.id,status:{isOnline:!0},user:{username:e.username,image:e.avatarUrl??null}},{actions:(0,k.withCtx)(()=>[(0,k.createVNode)(tx.A,{icon:{name:"mark-cross",variant:"glyph"},"icon-size":16,onClick:t=>handleDeclineChallenge(e)},null,8,["onClick"]),a[3]||(a[3]=(0,k.createTextVNode)()),(0,k.createVNode)(tx.A,{variant:"primary",icon:{name:"mark-check",variant:"glyph"},"icon-size":16,onClick:t=>handleAcceptChallenge(e)},null,8,["onClick"])]),default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("span",{innerHTML:(0,k.unref)(getChallengeDescription)(e,["rating","rated","timeControl"]).join(" \xb7 ")},null,8,rK),a[4]||(a[4]=(0,k.createTextVNode)())]),_:2},1032,["user"]))),128)),a[6]||(a[6]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(o.value.live,e=>((0,k.openBlock)(),(0,k.createBlock)(nF.A,{key:e.id,alert:e},null,8,["alert"]))),128))])):(0,k.createCommentVNode)("",!0),a[14]||(a[14]=(0,k.createTextVNode)()),l.value>0?((0,k.openBlock)(),(0,k.createElementBlock)("section",r$,[(0,k.createVNode)(T,null,{link:(0,k.withCtx)(()=>[(0,k.createElementVNode)("a",{href:(0,k.unref)(v.A).i18n("web_play_daily"),onClick:a[1]||(a[1]=(...e)=>(0,k.unref)(trackSeeAllDailyChallengesClicked)&&(0,k.unref)(trackSeeAllDailyChallengesClicked)(...e))},(0,k.toDisplayString)(e.$trans("see_all_games")),9,rq)]),default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Daily Games"))+" ",1),(0,k.createVNode)(P,{label:l.value},null,8,["label"]),a[7]||(a[7]=(0,k.createTextVNode)())]),_:1}),a[10]||(a[10]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(n.value,e=>((0,k.openBlock)(),(0,k.createBlock)(rg.A,{key:e.id,href:dailySeekLink(e.id),status:{isOnline:e.isOnline},user:{username:e.seeker_username,image:e.seekerUserImage},onNavigate:()=>(0,k.unref)(trackDailyGameChallengesClicked)(e)},{actions:(0,k.withCtx)(()=>[(0,k.createVNode)(tx.A,{icon:{name:"mark-cross",variant:"glyph"},"icon-size":16,onClick:t=>handleDeclineDailyGameChallenge(e.id)},null,8,["onClick"]),a[8]||(a[8]=(0,k.createTextVNode)()),(0,k.createVNode)(tx.A,{variant:"primary",icon:{name:"mark-check",variant:"glyph"},"icon-size":16,onClick:t=>handleAcceptDailyGameChallenge(e.id)},null,8,["onClick"])]),default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("span",{innerHTML:(0,k.unref)(getGameSeekDescription)(e,["rating","rated","timeControl"]).join(" \xb7 ")},null,8,r0),a[9]||(a[9]=(0,k.createTextVNode)())]),_:2},1032,["href","status","user","onNavigate"]))),128)),a[11]||(a[11]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(r.value,t=>((0,k.openBlock)(),(0,k.createBlock)(rg.A,{key:t.id,href:dailyGameLink(t.id),status:{isOnline:t.opponent.is_online},user:{username:t.opponent.username,image:t.opponent.avatar_url},onNavigate:(0,k.unref)(trackDailyGameMoveNotificationClicked)},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Your Move"))+" \xb7 ",1),(0,k.createVNode)(ru,{value:t.timeLeftDisplay},null,8,["value"])]),_:2},1032,["href","status","user","onNavigate"]))),128)),a[12]||(a[12]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(o.value.daily,e=>((0,k.openBlock)(),(0,k.createBlock)(nF.A,{key:e.id,alert:e,onClear:(0,k.unref)(nB.y),onClick:(0,k.withModifiers)(t=>onGameAlertClicked(e),["stop","prevent"])},null,8,["alert","onClear","onClick"]))),128))])):(0,k.createCommentVNode)("",!0),a[15]||(a[15]=(0,k.createTextVNode)()),c.value>0?((0,k.openBlock)(),(0,k.createElementBlock)("section",r1,[(0,k.createVNode)(T,null,{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Other"))+" ",1),(0,k.createVNode)(P,{label:c.value},null,8,["label"])]),_:1}),a[13]||(a[13]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(o.value.other,e=>((0,k.openBlock)(),(0,k.createBlock)(nF.A,{key:e.id,alert:e,onClear:(0,k.unref)(nB.y)},null,8,["alert","onClear"]))),128))])):(0,k.createCommentVNode)("",!0)],64))}});function getLoadStatus(){return n7.loaded}var r9=(0,k.defineComponent)({__name:"play-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getLoadStatus()),n=(0,k.computed)(()=>getNavigationMenuConfigFor("play"));return(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(q,{"sub-menu-name":e.$trans("Play"),variant:"sub-menu"},{default:(0,k.withCtx)(()=>[n.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":n.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),"failed"===t.value?((0,k.openBlock)(),(0,k.createElementBlock)("section",{key:1,class:(0,k.normalizeClass)(e.$style.error)},[(0,k.createVNode)(tI.A,{class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"circle-hollow-exclamation",variant:"glyph"},"icon-size":48,header:e.$trans("Unable to Load Games"),subheader:e.$trans("Please refresh and try again")},null,8,["class","header","subheader"])],2)):((0,k.openBlock)(),(0,k.createBlock)(r2,{key:2}))]),_:1},8,["sub-menu-name"]))}});let r5={};r5.$style={"empty-state":"play-sub-menu-controller-empty-state",error:"play-sub-menu-controller-error"};var r3=(0,C.A)(r9,[["__cssModules",r5]]);function getMenuBadgeCount(){return"loaded"===n7.loaded&&"loaded"===nU.p.loaded?getDailyCount()+getLiveCount()+getGameAlerts().length:null}var r4=(0,k.defineComponent)({__name:"play-widget-controller",setup(e){let t=(0,k.computed)(getLoadStatus),n=(0,k.computed)(getMenuBadgeCount);return(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(eJ,{class:(0,k.normalizeClass)(e.$style.container)},{default:(0,k.withCtx)(()=>["failed"===t.value?((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:0,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"circle-hollow-exclamation",variant:"glyph"},"icon-size":48,header:e.$trans("Unable to Load Games"),subheader:e.$trans("Please refresh and try again")},null,8,["class","header","subheader"])):"loaded"===t.value&&n.value?((0,k.openBlock)(),(0,k.createBlock)(r2,{key:1})):((0,k.openBlock)(),(0,k.createBlock)(tI.A,{key:2,class:(0,k.normalizeClass)(e.$style["empty-state"]),icon:{name:"hand-pawn",variant:"glyph"},"icon-size":48,header:e.$trans("You're All Caught Up!"),subheader:e.$trans("Check back when opponents make their moves or challenge you to a game")},null,8,["class","header","subheader"]))]),_:1},8,["class"]))}});let r8={};r8.$style={container:"play-widget-controller-container","empty-state":"play-widget-controller-empty-state"};let r6=(0,C.A)(r4,[["__cssModules",r8]]),r7=(0,t.createClient)({async init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("play"),r3,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"},onMount:this.onMount});createNavbarSubMenuClient(getMobileInteractionSelectorFor("play"),r3,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction,onMount:this.onMount});createToolbarSubMenuClient(getMobileInteractionSelectorFor("play-widget"),r6,{onMount:this.onMount});(0,k.watch)(getMenuBadgeCount,e=>{null!==e&&updateFooterBadgeCount("games",e)});n1.c.on(n0.b.DailyGameMoveMade,updateDailyGame);await this.onMount()},async onMount(){await loadDailyGames()}});function getToolbarElement(){return ew.toolbar}function instrumentNavbarWithVars(){let e=getNavbarElement(),t=getToolbarElement();if(null===e||null===t)return;let n=t.getBoundingClientRect().bottom;e.style.setProperty(ek.bottomOfToolbar,`${n}px`)}let ae=(0,t.createClient)({init(){if(!getNavigationMenuOverriddenConfig())throw Error("Cannot create navigation; config object was not supplied on page load.");window.addEventListener("resize",instrumentNavbarWithVars);window.addEventListener("scroll",instrumentNavbarWithVars);instrumentNavbarWithVars()}});var at=(0,k.defineComponent)({__name:"puzzles-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("puzzles"));return(e,n)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Puzzles")},{default:(0,k.withCtx)(()=>[t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});let an=(0,t.createClient)({init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("puzzles"),at,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"}});createNavbarSubMenuClient(getMobileInteractionSelectorFor("puzzles"),at,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})}}),ar=(0,t.createQueuedEmitter)();function closeNavigationSearch(){ar.emit("unmount")}let aa=(0,k.reactive)({query:"",externalSearchBarMounted:!1,searchResultsReady:!0,featureResults:null,memberResults:null});function updateNavigationSearchQuery(e){aa.query=e}function clearNavigationSearch(){updateNavigationSearchQuery("");aa.featureResults=null;aa.memberResults=null;closeNavigationSearch()}var ao=__webpack_require__(12698),ai=__webpack_require__(28806),as=__webpack_require__(88095);let al=6;async function findByUsernameOrEmail(e){let{query:t,signal:n}=e;if(!t)return{data:[]};let r=await (0,as.m)({query:t,limit:al,signal:n}),a=r.find(e=>e.userView.username.toLowerCase()===t.toLowerCase()),o=r.filter(e=>e.userView.username.toLowerCase()!==t.toLowerCase()),i=[];return a&&i.push(a),i.push(...o.slice(0,al-i.length)),{data:i}}function friendsSearchFriendDtoToSearchMember(e){return{chess_title:e.userView.chessTitle,country:e.userView.country,country_id:e.country.id,flair_code:"nothing",flair:e.userView.flair,icon:e.userView.avatar.url,membership:e.userView.membership,title:e.userView.username,url:v.A.generate("web_member_view",{username:e.userView.username})}}async function unsafePerformNavigationSearch(){let e=aa.query;if(e.length<3){aa.memberResults=null;aa.featureResults=null;return}aa.searchResultsReady=!1;try{let[{data:{feature:t}},n]=await Promise.all([w.A.get(v.A.i18n("web_search_callback_autofill",{keyword:e,type:"feature"})),memberAutofill(e)]);aa.featureResults=t??[];aa.memberResults=n??[]}catch{(0,e0.Tj)({type:"error",message:(0,eK.pw)("Something went wrong while searching. Please try again later.")})}finally{aa.searchResultsReady=!0}}let ac=(0,eF.s)(unsafePerformNavigationSearch,300);async function memberAutofill(e){if(window.chesscom?.features?.includes("friends_search_fe_navbar_search")){let{data:t}=await findByUsernameOrEmail({query:e});return t?.map(friendsSearchFriendDtoToSearchMember)||[]}let{data:{member:t}}=await w.A.get(v.A.i18n("web_search_callback_autofill",{keyword:e,type:"member"}));return t||[]}function getNavigationSearchQuery(){return aa.query}function isSearchInProgress(){return!aa.searchResultsReady}let ad={ONBOARD:"Onboard - StartReg",SEARCH:"Search",NAV_CLICK:"Navclick",SEARCH_AUTOFILL:"searchAutoFill",SOCIAL_VIEW_EVENT:"Social - ViewEvent"};var au=(0,k.defineComponent)({__name:"navigation-search-bar",setup(e){let t=(0,k.computed)(()=>getNavigationSearchQuery()),n=(0,k.computed)(()=>isSearchInProgress()),r=(0,k.computed)(()=>getNavbarIsCollapsed()?void 0:{iconGlyph:"tool-magnifier-blank"});(0,k.watch)(t,()=>{ac()});function handleSubmit(){if(t.value.length<3)return;let e=v.A.generate("web_topic",{slug:t.value,search:1});(0,ao.D)(ad.SEARCH,{searchTerm:t.value});window.location.replace(e)}return(e,a)=>((0,k.openBlock)(),(0,k.createBlock)(ai.A,{autofocus:"",class:(0,k.normalizeClass)(e.$style["search-bar-wrapper"]),placeholder:e.$trans("Search"),prepend:r.value,append:{state:n.value?"loading":"button",iconGlyph:"circle-fill-cross",iconSize:16},"input-props":{class:e.$style["search-bar-input"]},"model-value":t.value,onEnter:handleSubmit,onButtonAction:(0,k.unref)(closeNavigationSearch),"onUpdate:modelValue":(0,k.unref)(updateNavigationSearchQuery),onClick:a[0]||(a[0]=(0,k.withModifiers)(()=>{},["stop"]))},null,8,["class","placeholder","prepend","append","input-props","model-value","onButtonAction","onUpdate:modelValue"]))}});let ah={};ah.$style={"heading-x-large":"navigation-search-bar-heading-x-large","heading-x-large-bold":"navigation-search-bar-heading-x-large-bold","heading-large":"navigation-search-bar-heading-large","heading-large-bold":"navigation-search-bar-heading-large-bold","heading-medium":"navigation-search-bar-heading-medium","heading-medium-bold":"navigation-search-bar-heading-medium-bold","heading-small":"navigation-search-bar-heading-small","heading-small-bold":"navigation-search-bar-heading-small-bold","heading-x-small":"navigation-search-bar-heading-x-small","heading-x-small-bold":"navigation-search-bar-heading-x-small-bold","heading-xx-small":"navigation-search-bar-heading-xx-small","heading-xx-small-bold":"navigation-search-bar-heading-xx-small-bold","heading-xxx-small":"navigation-search-bar-heading-xxx-small","heading-xxx-small-bold":"navigation-search-bar-heading-xxx-small-bold","heading-label":"navigation-search-bar-heading-label","text-x-large":"navigation-search-bar-text-x-large","text-x-large-bold":"navigation-search-bar-text-x-large-bold","text-large":"navigation-search-bar-text-large","text-large-bold":"navigation-search-bar-text-large-bold","text-medium":"navigation-search-bar-text-medium","text-medium-bold":"navigation-search-bar-text-medium-bold","text-small":"navigation-search-bar-text-small","text-small-bold":"navigation-search-bar-text-small-bold","text-x-small":"navigation-search-bar-text-x-small","text-x-small-bold":"navigation-search-bar-text-x-small-bold","text-label":"navigation-search-bar-text-label","text-speech":"navigation-search-bar-text-speech","text-speech-bold":"navigation-search-bar-text-speech-bold","paragraph-x-large":"navigation-search-bar-paragraph-x-large","paragraph-x-large-bold":"navigation-search-bar-paragraph-x-large-bold","paragraph-large":"navigation-search-bar-paragraph-large","paragraph-large-bold":"navigation-search-bar-paragraph-large-bold","paragraph-medium":"navigation-search-bar-paragraph-medium","paragraph-medium-bold":"navigation-search-bar-paragraph-medium-bold","paragraph-x-small":"navigation-search-bar-paragraph-x-small","paragraph-x-small-bold":"navigation-search-bar-paragraph-x-small-bold",monospace:"navigation-search-bar-monospace","ligatures-disabled":"navigation-search-bar-ligatures-disabled","ligatures-enabled":"navigation-search-bar-ligatures-enabled","text-wrap-pretty":"navigation-search-bar-text-wrap-pretty","search-bar-wrapper":"navigation-search-bar-search-bar-wrapper","search-bar-input":"navigation-search-bar-search-bar-input"};var ap=(0,C.A)(au,[["__cssModules",ah]]);function createDesktopSearchBarClient(){let e,t=document.querySelector("[data-search-bar-mount-point]"),n=document.querySelector(getDesktopInteractionSelectorFor("search"));n?.addEventListener("click",mountSearchInput,{once:!0});n?.addEventListener("keydown",mountSearchInputFromKeyboard,{once:!0});function mountSearchInputFromKeyboard(e){"Enter"===e.key&&keyboardNavigationInUse()&&mountSearchInput()}function mountSearchInput(){aa.externalSearchBarMounted=!1;if(!e&&!getNavbarIsCollapsed()&&t&&n){(e=(0,eb.E)(ap)).mount(t);t.setAttribute(eg.searchBarInputIsMounted,"");aa.externalSearchBarMounted=!0;clickOutside(n).then(unmountSearchInput);ar.once("unmount",unmountSearchInput)}}function unmountSearchInput(){if(e){e.unmount();e=null}t?.removeAttribute(eg.searchBarInputIsMounted);n?.addEventListener("click",mountSearchInput,{once:!0});n?.addEventListener("keydown",mountSearchInputFromKeyboard,{once:!0})}}var am=__webpack_require__(44725);let af=["href"];var ag=(0,k.defineComponent)({__name:"navigation-search-feature-result",props:{feature:{}},emits:["logAutofillEvent"],setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("a",{href:e.feature.url,class:(0,k.normalizeClass)(t.$style.wrapper),onClick:n[0]||(n[0]=n=>t.$emit("logAutofillEvent",e.feature.title))},[(0,k.createVNode)(U.A,{name:e.feature.icon,variant:"color"},null,8,["name"]),n[1]||(n[1]=(0,k.createTextVNode)()),(0,k.createElementVNode)("p",{class:(0,k.normalizeClass)(["cc-text-medium-bold",t.$style.label])},(0,k.toDisplayString)(e.feature.title),3),n[2]||(n[2]=(0,k.createTextVNode)()),e.feature.description?((0,k.openBlock)(),(0,k.createBlock)(I.A,{key:0,text:e.feature.description},null,8,["text"])):(0,k.createCommentVNode)("",!0)],10,af))});let ab={};ab.$style={wrapper:"navigation-search-feature-result-wrapper",label:"navigation-search-feature-result-label"};let a_=(0,C.A)(ag,[["__cssModules",ab]]),aE=["href"];var aw=(0,k.defineComponent)({__name:"navigation-search-member-result",props:{member:{}},emits:["logAutofillEvent"],setup(e){let t=window.context.route;return(n,r)=>((0,k.openBlock)(),(0,k.createElementBlock)("a",{href:e.member.url,class:(0,k.normalizeClass)(n.$style.wrapper),onClick:r[0]||(r[0]=t=>n.$emit("logAutofillEvent",e.member.title))},[(0,k.createVNode)(tD.A,{size:24,src:e.member.icon,username:e.member.title},null,8,["src","username"]),r[1]||(r[1]=(0,k.createTextVNode)()),(0,k.createVNode)(nl.A,{"click-behavior":"none",class:(0,k.normalizeClass)(n.$style["user-block"]),country:{name:e.member.country_name,code:e.member.country_id},"current-route":(0,k.unref)(t),flair:e.member.flair,membership:(0,k.unref)(tz.x)[e.member.membership],title:e.member.chess_title,username:e.member.title},null,8,["class","country","current-route","flair","membership","title","username"])],10,aE))}});let av={};av.$style={wrapper:"navigation-search-member-result-wrapper","user-block":"navigation-search-member-result-user-block"};let ak=(0,C.A)(aw,[["__cssModules",av]]);var aS=(0,k.defineComponent)({__name:"navigation-search-results",props:{members:{},features:{}},setup(e){async function handleLogAutofillEvent(e){(await (0,am.e)()).sendTrackEvent(ad.SEARCH_AUTOFILL,{fill:e})}return(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("div",{class:(0,k.normalizeClass)(t.$style.wrapper)},[null===e.members&&null===e.features?((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:0},(0,k.renderList)(3,e=>(0,k.createVNode)(eG.A,{key:e,rows:40,columns:150,"column-width":"0.1rem","row-height":"0.1rem",items:["8 / 8 / 33 / 33","12 / 40 / 29 / 150"]})),64)):((0,k.openBlock)(),(0,k.createElementBlock)(k.Fragment,{key:1},[((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.features,e=>((0,k.openBlock)(),(0,k.createBlock)(a_,{key:e.title,feature:e,onLogAutofillEvent:handleLogAutofillEvent},null,8,["feature"]))),128)),n[0]||(n[0]=(0,k.createTextVNode)()),((0,k.openBlock)(!0),(0,k.createElementBlock)(k.Fragment,null,(0,k.renderList)(e.members,e=>((0,k.openBlock)(),(0,k.createBlock)(ak,{key:e.title,member:e,onLogAutofillEvent:handleLogAutofillEvent},null,8,["member"]))),128))],64))],2))}});let ay={};ay.$style={wrapper:"navigation-search-results-wrapper"};let aA=(0,C.A)(aS,[["__cssModules",ay]]);function getNavigationSearchResults(){return{members:aa.memberResults,features:aa.featureResults}}function shouldShowInternalSearchBar(){return!aa.externalSearchBarMounted}let aN=["href","innerHTML"];var aR=(0,k.defineComponent)({__name:"search-sub-menu-controller",setup(e){let t=useIsMobileWidth(),n=(0,k.computed)(()=>shouldShowInternalSearchBar()),r=(0,k.computed)(()=>(0,tB.s1)(getNavigationSearchQuery())),a=(0,k.computed)(()=>getNavigationSearchResults()),o=(0,k.computed)(()=>r.value.length>0),i=(0,k.computed)(()=>null!==a.value&&(a.value?.features?.length??0)+(a.value?.members?.length??0)>0);return(e,s)=>i.value||o.value||n.value?((0,k.openBlock)(),(0,k.createBlock)(q,{key:0,variant:(0,k.unref)(t)?"sub-menu":"popup"},{default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(e.$style.wrapper)},[i.value?((0,k.openBlock)(),(0,k.createBlock)(aA,{key:0,class:(0,k.normalizeClass)(e.$style["results-wrapper"]),members:a.value.members,features:a.value.features},null,8,["class","members","features"])):(0,k.createCommentVNode)("",!0),s[0]||(s[0]=(0,k.createTextVNode)()),o.value?((0,k.openBlock)(),(0,k.createElementBlock)("div",{key:1,class:(0,k.normalizeClass)(e.$style["all-results"])},[(0,k.createElementVNode)("a",{href:(0,k.unref)(v.A).generate("web_topic",{slug:r.value,search:1}),class:(0,k.normalizeClass)(["cc-text-medium",e.$style["all-results-link"]]),innerHTML:e.$trans("See all Results for <span class='cc-text-medium-bold'>%searchResult%</span>",{"%searchResult%":r.value})},null,10,aN)],2)):(0,k.createCommentVNode)("",!0),s[1]||(s[1]=(0,k.createTextVNode)()),n.value?((0,k.openBlock)(),(0,k.createBlock)(ap,{key:2,"input-props":{class:e.$style["search-bar"]}},null,8,["input-props"])):(0,k.createCommentVNode)("",!0)],2)]),_:1},8,["variant"])):(0,k.createCommentVNode)("",!0)}});let aC={};aC.$style={max1024:"63.999em",max1100:"68.749em",max1200:"74.999em",max1250:"78.124em",max1400:"87.499em",max330:"20.624em",max400:"24.999em",max480:"29.999em",max550:"34.374em",max640:"39.999em",max700:"43.749em",max768:"47.999em",max960:"59.999em",min1024:"64em",min1100:"68.75em",min1200:"75em",min1250:"78.125em",min1366:"85.375em",min1400:"87.5em",min1920:"119.938em",min330:"20.625em",min400:"25em",min480:"30em",min550:"34.375em",min615:"38.438em",min640:"40em",min700:"43.75em",min768:"48em",min900:"56.25em",min960:"60em",wrapper:"search-sub-menu-controller-wrapper",divider:"search-sub-menu-controller-divider",empty:"search-sub-menu-controller-empty","results-wrapper":"search-sub-menu-controller-results-wrapper","all-results":"search-sub-menu-controller-all-results","all-results-link":"search-sub-menu-controller-all-results-link","search-bar":"search-sub-menu-controller-search-bar"};var aV=(0,C.A)(aR,[["__cssModules",aC]]);let aT=(0,t.createClient)({init(){createDesktopSearchBarClient();createNavbarSubMenuClient(getDesktopInteractionSelectorFor("search"),aV,{interactionType:"click",placement:{type:"dynamic",growDirection:"up",onParentSide:"top"},onMount:this.unmountOnMessage,onUnmount:clearNavigationSearch});createNavbarSubMenuClient(getMobileInteractionSelectorFor("search"),aV,{interactionType:"click",placement:{type:"dynamic",growDirection:"fill",onParentSide:"right"},onMount:this.unmountOnMessage,onUnmount:clearNavigationSearch})},unmountOnMessage(e){ar.once("unmount",e)}});var aU=__webpack_require__(88391);function isLcmSettingsRedesignActive(){return window.chesscom?.features?.includes("web_lcm_settings_redesign")}let aI={General:"general",Features:"features",HomePage:"homepage",BetaTesting:"beta-testing",CustomBackground:"custom-background",Popups:"popups",CustomizeSidebar:"customize-sidebar"},ax={[aI.General]:{slug:"general",label:(0,eK.pw)("General")},[aI.Features]:{slug:"features",label:(0,eK.pw)("Features")},[aI.HomePage]:{slug:"homepage",label:(0,eK.pw)("Homepage")},[aI.BetaTesting]:{slug:"beta-testing",label:(0,eK.pw)("Beta Testing")},[aI.CustomBackground]:{slug:"custom-background",label:(0,eK.pw)("Custom Background")}},aB=isLcmSettingsRedesignActive()?{[aI.Popups]:{slug:"popups",label:(0,eK.pw)("Popups")}}:{},aF=(0,aU.q)()?{[aI.CustomizeSidebar]:{slug:"customize-sidebar",label:(0,eK.pw)("Customize Sidebar")}}:{},aM={...ax,...aB,...aF};function isAdBlockDetected(){return!!window.chesscom&&void 0!==window.chesscom.adBlockDetected&&window.chesscom.adBlockDetected}var aO=__webpack_require__(48858),aL=__webpack_require__(95085);let aD="1bc2b6c0-7c78-406c-90b8-ff2c29e3bf58";function showWidget(){window.Usersnap.show(aD).then(e=>e.open())}function hideWidget(){window.Usersnap.show(aD).then(e=>e.close())}function fetchTraceData(){return w.A.get("https://www.chess.com/cdn-cgi/trace")}let az={help:window.context.intercomSupportAppId,advice:window.context.intercomMasterAdviceAppId};function useIntercom(){if(!window.context.intercomInitialized){let e=window.sessionStorage.getItem("intercom-visible"),t=new URLSearchParams(window.location.search);e?reopenIntercom(e):t.has("help")?showIntercom(az.help):t.has("advice")?showIntercom(az.advice):t.has("survey")&&window.chesscom.features.includes("intercom_home_survey")&&showSurvey(t.get("survey"))}return{addBannerSurveyLink,initialize,showIntercom,shutdownIntercom}}function addBannerSurveyLink(){let e=document.querySelector('#main-banner a[href*="survey="]');if(!e)return;let t=new URL(e.getAttribute("href"),window.location.origin).searchParams.get("survey");t&&e.addEventListener("click",e=>{e.preventDefault();showSurvey(t)})}function getIntercomMessenger(){return __webpack_require__.e(6700).then(__webpack_require__.t.bind(__webpack_require__,80990,23))}async function showIntercom(t=az.help){if(!window.context?.user?.isImpersonating){await initialize(t);let{show:n}=await getIntercomMessenger();if(e&&e!==t){await shutdownIntercom();await bootIntercom(t)}n()}}async function showSurvey(e){if(e){await initialize(az.help);let{startSurvey:t}=await getIntercomMessenger();t(e)}}async function shutdownIntercom(){let{hide:e,shutdown:t}=await getIntercomMessenger();e();t()}async function showIntercomConversation(e){if(!window.context?.user?.isImpersonating){await initialize(az.help);let{showConversation:t}=await getIntercomMessenger();t(e)}}function initialize(t){return window.context.intercomInitialized||(window.context.intercomInitialized=getIntercomMessenger().then(({Intercom:n,onHide:r,onShow:a,hide:o})=>{n(getOptions(t));e=t;r(()=>{window.sessionStorage.removeItem("intercom-visible")});a(()=>{window.sessionStorage.setItem("intercom-visible",e)});(()=>{null==window.onUsersnapLoad&&(window.onUsersnapLoad=e=>{let t=Date.now();e.on("open",e=>{(0,aL.z)(3);let n={branch:window.context.branch,chessboardBeta:window.context.chessboardBeta,commit:window.context.commit,cookies:window.context.cookies,devicePixelRatio:window.devicePixelRatio,environment:window.context.environment,ip:window.context.ip,locale:window.context.locale,requestId:window.context.requestId,server:window.context.server,version:window.context.version,adBlockDetected:isAdBlockDetected(),reducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches};if(window.context.user){let e=window.context.live?"207506":"198358";n.sentryLink=`https://sentry.io/organizations/chesscom/issues/?project=${e}&query=${t}`;n.user={username:window.context.user.username,optedBeta:window.context.user.optedBeta,isStaff:window.context.user.isStaff,isPremium:window.context.user.isPremium};window.context.user.cohort&&(n.user.cohort=window.context.user.cohort);window.context.live&&(n.live=window.context.live)}window.context.play&&(n.play=window.context.play);window.chesscom&&window.chesscom.logData&&(n.logData=window.chesscom.logData);window.traceData&&(n.traceData=window.traceData.trim().split("\n"));window.chesscom?.connectedBoard&&(n.connectedBoard=window.chesscom.connectedBoard?.getUsersnapData?.()||{});window.chesscom?.playComputer&&(n.playComputer=window.chesscom.playComputer?.getUsersnapData?.()||{});window.chesscom?.puzzles&&(n.puzzles=window.chesscom.puzzles?.getUsersnapData?.()||{});if(window.context.chessboardOptionsByVersion){n.chessboardOptions=[];Object.keys(window.context.chessboardOptionsByVersion).forEach(e=>{n.chessboardOptions.push({version:e,options:window.context.chessboardOptionsByVersion[e]})})}e.api.setValue("custom",n)});e.on("submit",()=>{setTimeout(()=>{hideWidget();(0,aO.C)(`usersnap report submitted: https://chesscom.atlassian.net/issues/?jql=text+~+"${t}"+AND+reporter+in+(usersnap)+ORDER+BY+created+DESC`)},1e3)});e.init({button:null,label:null,assignee:null,title:null,colors:{primary:"#769656",secondary:"#878787"},fields:{email:{label:"Your email address",required:!1},comment:{label:"Your suggestion or bug report",multiline:!0,required:!0}}});window.Usersnap=e;(()=>{if(window.chesscom){window.chesscom.adBlockDetected=!1;(()=>{let e=document.createElement("div");e.id="adBanner_";e.classList.add("adLeaderboard","adBanner","leaderboard_ad");e.style.backgroundColor="transparent";e.style.height="10px";e.style.width="10px";e.style.position="fixed";e.style.bottom="-100px";e.style.left="-100px";e.innerHTML="&nbsp;";document.body.appendChild(e);window.chesscom.adBlockDetected=0===e.getBoundingClientRect().height})();(()=>{let e=new Image;e.src="https://px.moatads.com/pixel.gif";e.onerror=()=>{window.chesscom.adBlockDetected=!0}})()}})();showWidget()})})();window.addEventListener("message",e=>{if(e?.data?.action==="showUsersnap"){(()=>{fetchTraceData().then(e=>{window.traceData=e.data}).finally(()=>{if(void 0!==window.Usersnap)return void showWidget();let e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript";t.src="//widget.usersnap.com/global/load/e8122a5e-b494-4aa2-b150-56648d6aca48?onload=onUsersnapLoad";e.appendChild(t)})})();o()}},!1)})),window.context.intercomInitialized}async function bootIntercom(t){let{boot:n}=await getIntercomMessenger();n(getOptions(t));e=t}async function reopenIntercom(e){if(e===az.advice)return void showIntercom(az.advice);try{let{data:t}=await getConversationId();t.id?showIntercomConversation(t.id):showIntercom(e)}catch(t){showIntercom(e)}}function getOptions(e){return{api_base:"https://api-iam.intercom.io",app_id:e,alignment:"left",vertical_padding:60,horizontal_padding:180,hide_default_launcher:!0,...window.context?.intercomUserProperties}}function getConversationId(){return w.A.get(v.A.generate("web_support_intercom_get_recent_conversation_id"))}let aP=window.chesscom.userCanUpdateNavbar;function getUserCanUpdateNavigation(){return aP}function handleLogout(){useIntercom().shutdownIntercom();document.querySelector("[data-logout-form]").submit()}var aG=__webpack_require__(72302);function isLoggedIn(){return!!aG.D.currentUser}var aZ=__webpack_require__(35697);async function setIsDarkMode(e){(0,ed.S8)(e);(0,ed.jh)(e);(0,ed.Qo)(e);(0,ed.Dj)(e);isLoggedIn()&&await (0,aZ.D)({"ui.mode":e?"dark":"light"})}function getUserInMasterAdviceAudience(){return Array.from(document.querySelectorAll(`${getDesktopInteractionSelectorFor("settings")},${getMobileInteractionSelectorFor("settings")}`)).some(e=>e.hasAttribute("data-user-in-master-advice-audience"))}var aW=(0,k.defineComponent)({__name:"settings-sub-menu-controller",setup(e){let t=(0,aU.q)(),n=getUserCanUpdateNavigation(),r=useIsMobileWidth(),{showIntercom:a}=useIntercom(),o=useIsMobileWidth(1250),i=(0,k.ref)((0,ed.oL)()),s=(0,k.computed)(()=>aM[aI.CustomizeSidebar]);function handleToggleDarkMode(){setIsDarkMode(!i.value);i.value=!i.value}let l=(0,k.computed)(()=>getNavbarIsCollapsed()),c=(0,k.computed)(()=>window.chesscom?.features?.includes("master_advice_learn")&&getUserInMasterAdviceAudience());function handleToggleSidebar(){let e=document.querySelector(e_.navbar),t="nav-collapsed",n="collapsed";if(l.value){document.body.classList.remove(t);e?.classList.remove(n)}else{document.body.classList.add(t);e?.classList.add(n)}w.A.post(v.A.generate("web_user_callback_update_navigation_state",{state:l.value?"vertical-expanded":"vertical-collapsed"}));window.dispatchEvent(makeResizeEvent())}return(e,d)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:(0,k.unref)(r)?"square-menu":"popup"},{default:(0,k.withCtx)(()=>[(0,k.createElementVNode)("div",{class:(0,k.normalizeClass)(e.$style["link-container"])},[(0,k.createVNode)(X,{size:"small",route:"web_user_settings_edit",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"utility-cogwheel",variant:"glyph"}},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("All Settings")),1)]),_:1},8,["class"]),d[2]||(d[2]=(0,k.createTextVNode)()),(0,k.unref)(n)&&(0,k.unref)(t)&&s.value?((0,k.openBlock)(),(0,k.createBlock)(X,{key:0,size:"small",route:"web_user_settings_interface",params:{section:s.value.slug},class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"square-sidebar-blank-left",variant:"glyph"}},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(s.value.label),1)]),_:1},8,["params","class"])):(0,k.createCommentVNode)("",!0),d[3]||(d[3]=(0,k.createTextVNode)()),(0,k.createVNode)(X,{size:"small",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"circle-fill-contrast",variant:"glyph"},onClick:handleToggleDarkMode},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(i.value?e.$trans("Light UI"):e.$trans("Dark UI")),1)]),_:1},8,["class"]),d[4]||(d[4]=(0,k.createTextVNode)()),c.value?((0,k.openBlock)(),(0,k.createBlock)(X,{key:1,size:"small",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"message-bubble-fill-crown",variant:"glyph"},onClick:d[0]||(d[0]=()=>(0,k.unref)(a)((0,k.unref)(az).advice))},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Master Advice")),1)]),_:1},8,["class"])):(0,k.createCommentVNode)("",!0),d[5]||(d[5]=(0,k.createTextVNode)()),(0,k.unref)(o)?(0,k.createCommentVNode)("",!0):((0,k.openBlock)(),(0,k.createBlock)(X,{key:2,size:"small",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:l.value?"arrow-triangle-edge-right":"arrow-triangle-edge-left",variant:"glyph"},onClick:handleToggleSidebar},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(l.value?e.$trans("Expand"):e.$trans("Collapse")),1)]),_:1},8,["class","icon"])),d[6]||(d[6]=(0,k.createTextVNode)()),(0,k.createVNode)(X,{size:"small",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"square-fill-question",variant:"glyph"},onClick:d[1]||(d[1]=()=>(0,k.unref)(a)((0,k.unref)(az).help))},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Help & Support")),1)]),_:1},8,["class"]),d[7]||(d[7]=(0,k.createTextVNode)()),(0,k.createVNode)(X,{size:"small",class:(0,k.normalizeClass)(e.$style["settings-sub-menu-link"]),icon:{name:"local-door-left-exit",variant:"glyph"},onClick:(0,k.unref)(handleLogout)},{default:(0,k.withCtx)(()=>[(0,k.createTextVNode)((0,k.toDisplayString)(e.$trans("Log Out")),1)]),_:1},8,["class","onClick"])],2)]),_:1},8,["variant"]))}});let aj={};aj.$style={"header-text":"settings-sub-menu-controller-header-text",divider:"settings-sub-menu-controller-divider","link-container":"settings-sub-menu-controller-link-container","settings-sub-menu-link":"settings-sub-menu-controller-settings-sub-menu-link"};var aY=(0,C.A)(aW,[["__cssModules",aj]]);let aH=(0,t.createClient)({init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("settings"),aY,{interactionType:"click",placement:()=>getNavbarIsCollapsed()?tm:tf});createNavbarSubMenuClient(getMobileInteractionSelectorFor("settings"),aY,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})}});var aX=(0,k.defineComponent)({__name:"train-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("train"));return(e,n)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Train")},{default:(0,k.withCtx)(()=>[t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:0,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});let aQ=(0,t.createClient)({init(){createNavbarSubMenuClient(getDesktopInteractionSelectorFor("train"),aX,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"}});createNavbarSubMenuClient(getMobileInteractionSelectorFor("train"),aX,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction})}}),aJ={authAction:"[data-auth-action]",signup:"[data-signup]"};function setupTrackAuthActionToUserActivity(){document.querySelectorAll(aJ.authAction).forEach(e=>{e.addEventListener("click",()=>{(0,W.M)((0,j.q)(nQ,{selection:nK.SUBNAV_AUTH_ACTION}))})})}function setupNavigationClickEventLoggingHandler(e){let t=getNavigationClickSelectionFromInteractiveElement(e);t&&e.addEventListener("click",async()=>trackNavigationClickEvent(t))}function setupTrackDesktopNavClicksToUserActivity(){document.querySelectorAll(`${getDesktopInteractionSelectorFor("all")},[${eg.userActivityKey}]`).forEach(e=>setupNavigationClickEventLoggingHandler(e))}function setupTrackMobileNavClicksToUserActivity(){let e=document.querySelector(getMobileInteractionSelectorFor("header"));e&&setupNavigationClickEventLoggingHandler(e)}var aK=__webpack_require__(65833);function setupTrackSignupToUserActivity(){document.querySelectorAll(aJ.signup).forEach(e=>{e.addEventListener("click",async()=>{((e,t)=>{(0,W.M)((0,j.q)(aK.RK,{button:e,interface:t}))})(aK.XP.SIGNUP,aK.Ad.NAV_BAR);let t=JSON.parse(e.getAttribute(nV.uK.userActivityProps));(0,ao.D)(nV.c6.ONBOARD,t??{source:"Unknown"})})})}let a$=(0,t.createClient)({async init(){await (0,am.e)();setupTrackDesktopNavClicksToUserActivity();setupTrackMobileNavClicksToUserActivity();setupTrackSignupToUserActivity();setupTrackAuthActionToUserActivity()}}),aq=(0,t.createClient)({init(){(0,k.watch)(()=>eu.navigationMenuOverriddenConfig,()=>{selectPinnedTab().forEach(e=>{let t=e.getAttribute(eg.pinName);if(!t)return;let n=getNavigationMenuConfigFor(t);if(!n||n.preserved)return;let r=generatePrimaryTab(n);(0,tB.Nl)(e,r)})},{deep:!0,immediate:!0})}});var a0=__webpack_require__(38720);async function prefetchImage(e){return new Promise((t,n)=>{let r=new Image;r.onload=t;r.onerror=n;r.onabort=n;r.src=e})}function getChessbombApiUrl(e){return`${window.chesscom.events.chessbombApiUrl}${e}`}let a1=(0,k.reactive)({eventBanner:new N.a});async function handleLoad(){try{let{data:e}=await w.A.post(getChessbombApiUrl("navbar/top-event"));await prefetchImage(e.event.mainV2ImageUrl);let t=new Date;t.setSeconds(t.getSeconds()+e.ttlSecs);return{eventName:e.event.name,link:"index"===e.event.type?v.A.generate("web_event_index_view",{indexSlug:e.event.slug}):v.A.generate("web_event_view",{slug:e.event.slug}),thumbnailImage:e.event.mainV2ImageUrl,hasChip:e.event.isLive||e.event.hasActiveStream,refetchAfter:t}}catch{return}}let a2=(0,a0.n)(()=>a1.eventBanner?.load(handleLoad),300,{edges:["leading"]});function loadEventBanner(e=!1){!N.a.isDataLoading(a1.eventBanner.dataSync)&&(!N.a.isDataReady(a1.eventBanner.dataSync)||e&&(a1.eventBanner.dataSync?.refetchAfter??new Date)<=new Date)&&a2()}function trackWatchBannerClicked(){return(0,W.M)((0,j.q)(Z.Aj,{element:"live_event",interface:"navbar_submenu_watch",funnel:ee.rh.UNSPECIFIED}))}let a9=["href"],a5=["src","alt"],a3=["textContent"];var a4=(0,k.defineComponent)({__name:"live-event-banner",props:{eventName:{},link:{},thumbnailImage:{},hasChip:{type:Boolean}},setup:e=>(t,n)=>((0,k.openBlock)(),(0,k.createElementBlock)("a",{href:e.link,class:(0,k.normalizeClass)([t.$style.container,{[t.$style["has-chip"]]:e.hasChip}]),onClick:n[0]||(n[0]=(...e)=>(0,k.unref)(trackWatchBannerClicked)&&(0,k.unref)(trackWatchBannerClicked)(...e))},[(0,k.createElementVNode)("img",{class:(0,k.normalizeClass)(t.$style.thumbnail),src:e.thumbnailImage,alt:t.$trans("%eventName% thumbnail",{"%eventName%":e.eventName}),height:"48px",width:"auto"},null,10,a5),n[1]||(n[1]=(0,k.createTextVNode)()),(0,k.createElementVNode)("h4",{class:(0,k.normalizeClass)(["cc-paragraph-medium-bold",t.$style.title]),textContent:(0,k.toDisplayString)(e.eventName)},null,10,a3),n[2]||(n[2]=(0,k.createTextVNode)()),e.hasChip?((0,k.openBlock)(),(0,k.createBlock)(B,{key:0,color:"red",variant:"opaque",icon:"media-camera-video-on"})):(0,k.createCommentVNode)("",!0)],10,a9))});let a8={};a8.$style={container:"live-event-banner-container","has-chip":"live-event-banner-has-chip",thumbnail:"live-event-banner-thumbnail",title:"live-event-banner-title"};var a6=(0,C.A)(a4,[["__cssModules",a8]]);function getLiveEventBanner(){return a1.eventBanner.dataSync}var a7=(0,k.defineComponent)({__name:"watch-sub-menu-controller",setup(e){let t=(0,k.computed)(()=>getNavigationMenuConfigFor("watch")),n=(0,k.computed)(()=>getLiveEventBanner());return(e,r)=>((0,k.openBlock)(),(0,k.createBlock)(q,{variant:"sub-menu","sub-menu-name":e.$trans("Watch")},{default:(0,k.withCtx)(()=>[(0,k.unref)(N.a).isDataLoading(n.value)?((0,k.openBlock)(),(0,k.createBlock)(eG.A,{key:0,"row-gap":"0","column-gap":"0","row-height":"0.1rem","column-width":"0.1rem",rows:64,columns:268,items:["9 / 9 / 57 / 57","15 / 65 / 31 / 240","35 / 65 / 51 / 154"]})):(0,k.unref)(N.a).isDataReady(n.value)&&void 0!==n.value?((0,k.openBlock)(),(0,k.createBlock)(a6,{key:1,"event-name":n.value.eventName,link:n.value.link,"thumbnail-image":n.value.thumbnailImage,"has-chip":n.value.hasChip},null,8,["event-name","link","thumbnail-image","has-chip"])):(0,k.createCommentVNode)("",!0),r[0]||(r[0]=(0,k.createTextVNode)()),(0,k.unref)(N.a).isDataLoading(n.value)||(0,k.unref)(N.a).isDataReady(n.value)&&void 0!==n.value?((0,k.openBlock)(),(0,k.createBlock)(T,{key:2})):(0,k.createCommentVNode)("",!0),r[1]||(r[1]=(0,k.createTextVNode)()),t.value?((0,k.openBlock)(),(0,k.createBlock)(el,{key:3,"menu-config":t.value},null,8,["menu-config"])):(0,k.createCommentVNode)("",!0)]),_:1},8,["sub-menu-name"]))}});let oe={};oe.$style={"header-text":"watch-sub-menu-controller-header-text"};var ot=(0,C.A)(a7,[["__cssModules",oe]]);let or=(0,t.createClient)({init(){loadEventBanner();createNavbarSubMenuClient(getDesktopInteractionSelectorFor("watch"),ot,{interactionType:"hover",placement:{type:"dynamic",growDirection:"down",onParentSide:"right"},onMount:()=>loadEventBanner(!0)});createNavbarSubMenuClient(getMobileInteractionSelectorFor("watch"),ot,{interactionType:"click",placement:getMobilePlacement,primaryAction:navigateToPrimaryAction,onMount:()=>loadEventBanner(!0)});this.setupEventsSyntheticMenu()},async setupEventsSyntheticMenu(){let e=await a1.eventBanner.data;void 0!==e&&registerDynamicEntry("watch.events",a6,e)}});function initializeAccordionTargetTransitionListeners(){let e=document.querySelector(e_.accordionInput),t=document.querySelector(`[${eg.accordionTarget}]`);e?.addEventListener("input",hideScrollbar);t?.addEventListener("transitionend",unhideScrollbar);function hideScrollbar(){t?.setAttribute(eg.accordionTargetTransitioning,"")}function unhideScrollbar(){t?.removeAttribute(eg.accordionTargetTransitioning)}}function initializeNavigationDynamicStateEmitter(){window.chesscom.navigation??={};window.chesscom.navigation.dynamicStateEmitter=(0,t.createQueuedEmitter)()}!async function initNavigation(){initializeNavigationDynamicStateEmitter();initializeAccordionTargetTransitionListeners();await (0,t.initApp)({extensions:[d,g,s,b,m,E],clients:[a$,nC,ae,tS,r7,an,tA,aQ,eV,or,nW,aT,aH,tb,nA,nR,nz,tR,nq,aq]});getNavbarElement()?.setAttribute(eg.lazyLoadedNavbarIsReady,"true")}()}();!function(){"use strict";var e=__webpack_require__(92315);let t={DAILY_TIME_CONTROLS_HEADER:"daily-time-controls-header",DAILY_TIME_CONTROLS_SIDEBAR:"daily-time-controls-sidebar",LANGUAGE_PICKER_MODAL:"language-picker-modal",LIVE_TIME_CONTROLS_HEADER:"live-time-controls-header",LIVE_TIME_CONTROLS_SIDEBAR:"live-time-controls-sidebar",MOBILE_NAV_TOGGLE:"mobile-nav-toggle",MODAL_VIDEO:"modal-video"};var n=__webpack_require__(47958),r=__webpack_require__(31286),a=__webpack_require__(7118);let o=["href","onClick"];function render(e,t,n,r,i,s){let l=(0,a.resolveComponent)("cc-modal-header"),c=(0,a.resolveComponent)("cc-modal");return i.visible?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,onHide:t[0]||(t[0]=e=>i.visible=!1)},{default:(0,a.withCtx)(()=>[(0,a.createVNode)(l,{onClose:s.hide},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(i.heading),1)]),_:1},8,["onClose"]),t[2]||(t[2]=(0,a.createTextVNode)()),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.$style.component)},[(0,a.createElementVNode)("ul",{class:(0,a.normalizeClass)(e.$style.list)},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.languages,n=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:n.name,class:(0,a.normalizeClass)(e.$style.item)},[(0,a.createElementVNode)("a",{href:s.generateUrl(n),class:(0,a.normalizeClass)([e.$style.link,{[e.$style.selected]:n.isSelected}]),onClick:e=>s.setLanguage(n.locale)},[(0,a.createElementVNode)("div",null,(0,a.toDisplayString)(n.name),1),t[1]||(t[1]=(0,a.createTextVNode)()),(0,a.createElementVNode)("small",{class:(0,a.normalizeClass)(e.$style.translation)},(0,a.toDisplayString)(n.englishName),3)],10,o)],2))),128))],2)],2)]),_:1})):(0,a.createCommentVNode)("",!0)}var i=__webpack_require__(31075),s=__webpack_require__(23618);let l=window.context?.i18n?.locale!=="en_US",c=!(0,i.M)()&&l,d=c?window.context?.i18n?.locale.substr(0,2):null,u={articles:s.A.generate("web_article_index"),billingIssues:"https://support.chess.com/category/135-membership-and-billing",forums:s.A.generate("web_forum_index"),home:s.A.generate("web_user_home"),languages:s.A.generate(c?"i18n_web_languages_callback":"web_languages_callback",{_locale:d}),learn:s.A.generate("web_page_learn"),openings:s.A.generate("web_openings_index"),reportAbuse:"https://support.chess.com/collection/136-community-safety",support:"https://support.chess.com/",generateLanguageSet:(e,t)=>s.A.generate("web_language_set",{locale:e,returnUrl:t}),generatei18n:e=>s.A.generate("i18n_web_index",{_locale:e})};var h=__webpack_require__(24747),p=__webpack_require__(43146),m=__webpack_require__(35785),f=__webpack_require__(61999),g={name:"ModalLanguagePicker",components:{CcModal:h.A,CcModalHeader:p.A},data(){return{routes:u,heading:this.$trans("Choose Your Preferred Language"),languages:[],I18N_DEFAULT_LOCALE:"en_US",visible:!1}},mounted(){this.getLanguages().then(()=>this.show());window.addEventListener("message",t=>{t.data===e.A.OPEN_LANGUAGE_PICKER&&this.show()})},methods:{generateUrl(e){if((0,i.M)()||this.I18N_DEFAULT_LOCALE===e.locale){let t=window.location.pathname.split("/");t.splice(0,1);(0,i.M)()||this.I18N_DEFAULT_LOCALE!==e.locale||t.splice(0,1);let n=`${window.location.origin}/${t.join("/")}`;return this.routes.generateLanguageSet(e.locale,n)}return this.routes.generatei18n(e.languageCodePrimaryAware)},getLanguages(){return f.A.post(u.languages).then(e=>{this.languages=e.data})},setLanguage(e){m.A.set("cclocale",e)},hide(){this.visible=!1},show(){this.visible=!0}}},b=__webpack_require__(66262);let _={};_.$style={component:"modal-language-picker-component",list:"modal-language-picker-list",item:"modal-language-picker-item",link:"modal-language-picker-link",selected:"modal-language-picker-selected",translation:"modal-language-picker-translation"};let E=(0,b.A)(g,[["render",render],["__cssModules",_]]);var w=__webpack_require__(47333),v=__webpack_require__(8619);let k=!1,S=(0,w.E)(".language-select"),y=document.getElementById("cookie-consent-trigger");S?.forEach(t=>{t.addEventListener("click",()=>{(0,v.u)(e.A.OPEN_LANGUAGE_PICKER)})});y&&y.addEventListener("click",e=>{e.preventDefault();window.OneTrust&&window.OneTrust?.ToggleInfoDisplay()});window.addEventListener("message",a=>{if(a.data===e.A.OPEN_LANGUAGE_PICKER&&!k){k=!0;(()=>{(0,r.E)(E).use(n.default).mount(`#${t.LANGUAGE_PICKER_MODAL}`)})()}})}()}();